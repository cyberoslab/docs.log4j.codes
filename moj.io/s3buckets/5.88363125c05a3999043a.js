(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{L6id:function(n,l,e){"use strict";e.r(l);var t=e("CcnG"),i=function(){return function(){}}(),o=e("ueff"),u=e("lOTE"),r=e("gfs7"),s=e("pMnS"),a=e("A7o+"),c=e("Ip0R"),d=e("iXb4"),p=e("bse0"),f=e("26FU"),g=e("S5bw"),h=e("67Y/"),v=(e("LOCc"),e("N7+8")),m=e("loOi"),C=function(){function n(n,l){this.mojioRemote=n,this.endpoints=l,this._savedGeofences=[],this._selectedGeofencesSubject=new f.a([])}return n.prototype.getSavedGeofences=function(){return this._savedGeofences},n.prototype.saveSelectedGeofences=function(n){this._savedGeofences=n},n.prototype.getSelectedGeofences=function(){return this._selectedGeofencesSubject},n.prototype.setSelectedGeofences=function(n){this._selectedGeofencesSubject.next(n.slice())},n.prototype.hasSavedSelectedGeofences=function(){return!!this._savedGeofences.length},n.prototype.getGeofence=function(){return this._geofenceSubject||(this._geofenceSubject=new g.a,this._get().pipe(Object(h.a)(function(n){var l=n.Data;return void 0===l?[]:l})).subscribe(this._geofenceSubject)),this._geofenceSubject},n.prototype._get=function(){return this.mojioRemote.get({endpoint:this.endpoints.geofences()})},n.ngInjectableDef=t.defineInjectable({factory:function(){return new n(t.inject(v.a),t.inject(m.a))},token:n,providedIn:"root"}),n}(),b=function(){function n(n){this.geofencesService=n,this.geofences=[],this.selectedGeofences=[]}return n.prototype.ngOnInit=function(){this.displayDialog=!1,this._getGeofences()},n.prototype.toggleAll=function(){this.isAllChecked()?this.selectedGeofences=[]:this._selectAll(),this._saveAndNotify()},n.prototype.isGeofenceSelected=function(n){return-1!==this.selectedGeofences.indexOf(n)},n.prototype.toggleGeofence=function(n){this.isGeofenceSelected(n)?this.selectedGeofences.splice(this.selectedGeofences.indexOf(n),1):this.selectedGeofences.push(n),this._saveAndNotify()},n.prototype.isAllChecked=function(){var n=this;return!this.geofences.some(function(l){return!n.isGeofenceSelected(l.Id)})},n.prototype.ngOnDestroy=function(){this.geofencesService.saveSelectedGeofences(this.selectedGeofences),this.geofencesService.setSelectedGeofences([]),this._psSubscription&&this._psSubscription.unsubscribe()},n.prototype._selectAll=function(){this.selectedGeofences=this.geofences.map(function(n){return n.Id})},n.prototype._getGeofences=function(){var n=this;this.geofencesService.getGeofence().subscribe(function(l){n.displayDialog=!0,n.geofences=l.sort(function(n,l){return n.Name.localeCompare(l.Name)}),n.geofencesService.hasSavedSelectedGeofences()?n.selectedGeofences=n.geofencesService.getSavedGeofences():n._selectAll(),n._saveAndNotify()})},n.prototype._saveAndNotify=function(){this.geofencesService.setSelectedGeofences(this.selectedGeofences),this.geofencesService.saveSelectedGeofences(this.selectedGeofences)},n}(),_=t["\u0275crt"]({encapsulation:0,styles:[[".geofences[_ngcontent-%COMP%]{background-color:#fff;border-radius:4px;bottom:5%;box-shadow:0 1px 2px 0 rgba(0,0,0,.2);box-sizing:border-box;font-size:16px;font-weight:500;line-height:21px;max-width:280px;min-width:253px;position:absolute!important;right:85px}.geofences[_ngcontent-%COMP%]   .check-controll[_ngcontent-%COMP%]{padding:0 .5rem;line-height:3.2rem}.geofences[_ngcontent-%COMP%]   .check-controll.all[_ngcontent-%COMP%]{background-color:rgba(180,180,180,.1)}.geofences[_ngcontent-%COMP%]   .check-controll[_ngcontent-%COMP%]   .custom-control-label[_ngcontent-%COMP%]{padding-left:.3rem}.geofences[_ngcontent-%COMP%]   .geofences-list[_ngcontent-%COMP%]{max-height:30vh}.geofences[_ngcontent-%COMP%]   .app-checkbox[_ngcontent-%COMP%]{min-height:51px}"]],data:{}});function y(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,5,"label",[["class","app-checkbox mb-0"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,2,"span",[["class","pl-3"]],null,null,null,null,null)),(n()(),t["\u0275ted"](2,null,["",""])),t["\u0275pid"](131072,a.i,[a.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](4,0,null,null,0,"input",[["type","checkbox"]],[[8,"checked",0]],[[null,"change"]],function(n,l,e){var t=!0;return"change"===l&&(t=!1!==n.component.toggleAll()&&t),t},null,null)),(n()(),t["\u0275eld"](5,0,null,null,0,"span",[["class","checkmark fa fa-check"]],null,null,null,null,null))],null,function(n,l){var e=l.component;n(l,2,0,t["\u0275unv"](l,2,0,t["\u0275nov"](l,3).transform("Show All"))),n(l,4,0,e.isAllChecked())})}function O(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","check-controll border-top"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,4,"label",[["class","app-checkbox mb-0"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,1,"span",[["class","pl-3"]],null,null,null,null,null)),(n()(),t["\u0275ted"](3,null,["",""])),(n()(),t["\u0275eld"](4,0,null,null,0,"input",[["type","checkbox"]],[[8,"checked",0]],[[null,"change"]],function(n,l,e){var t=!0;return"change"===l&&(t=!1!==n.component.toggleGeofence(n.context.$implicit.Id)&&t),t},null,null)),(n()(),t["\u0275eld"](5,0,null,null,0,"span",[["class","checkmark fa fa-check"]],null,null,null,null,null))],null,function(n,l){var e=l.component;n(l,3,0,l.context.$implicit.Name),n(l,4,0,e.isGeofenceSelected(l.context.$implicit.Id))})}function x(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,7,"div",[["class","geofences"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","check-controll all"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,y)),t["\u0275did"](3,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](4,0,null,null,3,"perfect-scrollbar",[["class","geofences-list"]],[[2,"ps-show-limits",null],[2,"ps-show-active",null]],null,null,d.b,d.a)),t["\u0275did"](5,507904,null,0,p.b,[t.NgZone,t.ChangeDetectorRef,t.PLATFORM_ID],null,null),(n()(),t["\u0275and"](16777216,null,0,1,null,O)),t["\u0275did"](7,278528,null,0,c.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(n,l){var e=l.component;n(l,3,0,e.geofences&&e.geofences.length),n(l,5,0),n(l,7,0,e.geofences)},function(n,l){n(l,4,0,t["\u0275nov"](l,5).autoPropagation,t["\u0275nov"](l,5).scrollIndicators)})}function w(n){return t["\u0275vid"](0,[(n()(),t["\u0275and"](16777216,null,null,1,null,x)),t["\u0275did"](1,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){n(l,1,0,l.component.displayDialog)},null)}var P=function(){function n(){}return n.prototype.transform=function(n,l){return Object.keys(n)},n}(),k=e("zh/F"),I=e("eG2b"),M=e("CHF0"),R=e("1l6o"),D=function(){function n(n,l){this._appConfig=n,this._tenantConfigService=l}return n.prototype.getFuelBars=function(n){var l=Array(this._appConfig.fuelBarsDisplayed).fill(!1);if(n&&n.hasFuelLevel){var e=Math.ceil(n.fuelLevel/100*this._appConfig.fuelBarsDisplayed);l=l.map(function(n,l){return e>l})}return l},n.prototype.getFuelTankColorForVehcile=function(n){if(n&&n.hasFuelLevel)return"risk-severity"===this._tenantConfigService.getCurrentTenantConfig()["fuel-color-strategy"]?this._getColorByRiskSeverityStrategy(n.fuelLevelRiskSeverity):this._getColorByFuelValueStrategy(n.fuelLevel);throw new Error("invalid FuelLevel params in vehicle")},n.prototype._getColorByRiskSeverityStrategy=function(n){var l=this._appConfig.getFuelLevelColors();return[{check:function(n){return"High"===n},color:l.tooLow},{check:function(n){return"Medium"===n},color:l.med},{check:function(){return!0},color:l.hight}].find(function(l){return(0,l.check)(n)}).color},n.prototype._getColorByFuelValueStrategy=function(n){var l=this._appConfig.getFuelLevelColors(),e=l.med,t=l.hight;return[{check:function(n){return n<16.6},color:l.tooLow},{check:function(n){return n<25},color:l.low},{check:function(n){return n<83},color:this._tenantConfigService.getCurrentTenantConfig()["theme-color"]||e},{check:function(){return!0},color:t}].find(function(l){return(0,l.check)(n)}).color},n.ngInjectableDef=t.defineInjectable({factory:function(){return new n(t.inject(M.a),t.inject(R.a))},token:n,providedIn:"root"}),n}(),S=function(){function n(n){this._fuelTankService=n}return n.prototype.ngOnChanges=function(){var n=this.vehicle;n&&n.hasFuelLevel&&(this.fuelBarsList=this._fuelTankService.getFuelBars(n),this.color=this._fuelTankService.getFuelTankColorForVehcile(n))},n}(),T=t["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block;text-align:center}.fuel-tank-icon[_ngcontent-%COMP%]{display:block;margin:0 auto 3px}ul.fuel-level-status[_ngcontent-%COMP%]{display:inline-block;margin:0 auto;padding:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{float:left;list-style-type:none}.fuel-bar[_ngcontent-%COMP%], .fuel-level-status[_ngcontent-%COMP%]   .letter[_ngcontent-%COMP%]{margin:0 2px 0 1px}.fuel-bar[_ngcontent-%COMP%]{border-radius:1px;height:12px;width:4px}.fuel-level-status[_ngcontent-%COMP%]   .fuel-bar.off[_ngcontent-%COMP%]{background-color:#d7d7d7}.fuel-level-status[_ngcontent-%COMP%]   .letter[_ngcontent-%COMP%]{font-size:9px;padding-top:1px;vertical-align:bottom}"],[".large[_ngcontent-%COMP%]   .fuel-tank-icon[_ngcontent-%COMP%]{float:left;height:30px;margin:0 11px 0 0}.large[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .fuel-bar[_ngcontent-%COMP%], .large[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .fuel-level-status[_ngcontent-%COMP%]   .letter[_ngcontent-%COMP%]{margin:0 2px}.large[_ngcontent-%COMP%]   ul.fuel-level-status[_ngcontent-%COMP%]{display:block;margin-top:7px;padding:4px 0 0}.large[_ngcontent-%COMP%]   ul.fuel-level-status[_ngcontent-%COMP%]   .letter[_ngcontent-%COMP%]{font-size:15px;font-weight:700;padding-top:10px}.large[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .fuel-bar[_ngcontent-%COMP%]{height:24px;width:8px}"]],data:{}});function V(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,0,"div",[],null,null,null,null,null))],null,null)}function L(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","fuel-bar on"]],null,null,null,null,null)),t["\u0275did"](1,278528,null,0,c.NgStyle,[t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](2,{"background-color":0})],function(n,l){var e=n(l,2,0,l.component.color);n(l,1,0,e)},null)}function N(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,0,"div",[["class","fuel-bar off"]],null,null,null,null,null))],null,null)}function j(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,V)),t["\u0275did"](2,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),(n()(),t["\u0275and"](0,[["thenBlock",2]],null,0,null,L)),(n()(),t["\u0275and"](0,[["elseBlock",2]],null,0,null,N))],function(n,l){n(l,2,0,l.context.$implicit,t["\u0275nov"](l,3),t["\u0275nov"](l,4))},null)}function $(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,17,"div",[],null,null,null,null,null)),t["\u0275did"](1,278528,null,0,c.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngClass:[0,"ngClass"]},null),(n()(),t["\u0275eld"](2,0,null,null,2,"svg-icon",[["class","fuel-tank-icon"],["src","assets/img/icon-fuel.svg"]],null,null,null,k.b,k.a)),t["\u0275did"](3,1032192,null,0,I.e,[t.ElementRef,t.KeyValueDiffers,t.Renderer2,I.f],{src:[0,"src"],svgStyle:[1,"svgStyle"]},null),t["\u0275pod"](4,{fill:0}),(n()(),t["\u0275eld"](5,0,null,null,12,"ul",[["class","fuel-level-status"]],null,null,null,null,null)),(n()(),t["\u0275eld"](6,0,null,null,4,"li",[["class","letter"]],null,null,null,null,null)),t["\u0275did"](7,278528,null,0,c.NgStyle,[t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](8,{color:0}),(n()(),t["\u0275ted"](9,null,["",""])),t["\u0275pid"](131072,a.i,[a.j,t.ChangeDetectorRef]),(n()(),t["\u0275and"](16777216,null,null,1,null,j)),t["\u0275did"](12,278528,null,0,c.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275eld"](13,0,null,null,4,"li",[["class","letter"]],null,null,null,null,null)),t["\u0275did"](14,278528,null,0,c.NgStyle,[t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](15,{color:0}),(n()(),t["\u0275ted"](16,null,["",""])),t["\u0275pid"](131072,a.i,[a.j,t.ChangeDetectorRef])],function(n,l){var e=l.component;n(l,1,0,e.displayStyle);var t=n(l,4,0,e.color);n(l,3,0,"assets/img/icon-fuel.svg",t);var i=n(l,8,0,e.color);n(l,7,0,i),n(l,12,0,e.fuelBarsList);var o=n(l,15,0,e.color);n(l,14,0,o)},function(n,l){n(l,9,0,t["\u0275unv"](l,9,0,t["\u0275nov"](l,10).transform("E"))),n(l,16,0,t["\u0275unv"](l,16,0,t["\u0275nov"](l,17).transform("F")))})}function F(n){return t["\u0275vid"](0,[(n()(),t["\u0275and"](16777216,null,null,1,null,$)),t["\u0275did"](1,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,1,0,e.vehicle&&e.vehicle.hasFuelLevel)},null)}var G=e("1O70"),E=e("WZiZ"),A=e("Gxtu"),B=e("TJWg"),z=e("PAny"),H=e("lGQG"),K=e("F5nt"),Z=e("ny24"),U=e("K9Ia"),q="app-vehicles-groups-collapse-state",Y=function(){function n(n,l,e,t,i){this.appConfig=n,this.vehicles=l,this._appState=e,this._authService=t,this._tenantConfigService=i,this.isListSidebarOpen=!1,this.statusGroupsList=[],this._onDestroy$=new U.b}return n.prototype.ngOnInit=function(){var n=this;this.slideState="min",this.openCloseClass="",this.isListSidebarOpen=!1,this.expandedRowsGroupsArray=Object.keys(this.appConfig.statusOrderLookup).map(function(l){return n.appConfig.statusOrderLookup[l]}),this.vehicles.vehiclesListStream().pipe(Object(Z.a)(this._onDestroy$)).subscribe(this._vehiclesUpdated.bind(this)),this.vehicles.selectedVehicleStream().pipe(Object(Z.a)(this._onDestroy$)).subscribe(function(l){l.vehicle&&"max"===n.slideState&&n.closeListSidebar()}),this._authService.userLoggedInLoaded$.pipe(Object(Z.a)(this._onDestroy$)).subscribe(function(l){if(l){var e=n._tenantConfigService.getCurrentTenantConfig();n.tenantCssName=e["css-name"]}}),this.groupsCollapseState=this._appState.hasProperty(q)?this._appState.get(q):{}},n.prototype.ngOnDestroy=function(){this._onDestroy$.next(),this._appState.set(q,this.groupsCollapseState)},n.prototype.openListSidebar=function(){this.slideState="max",this.openCloseClass="open",this.isListSidebarOpen=!0,this.vehicles.selectVehicle(null)},n.prototype.closeListSidebar=function(){this.slideState="min",this.openCloseClass="",this.isListSidebarOpen=!1},n.prototype.carClicked=function(n){if(!n)return!1;var l=this.vehicles.getSelectedVehicle();l&&l.id===n.id?this.vehicles.selectVehicle(null):(this.closeListSidebar(),this.vehicles.selectVehicle(n,!0))},n.prototype.rowStyleClass=function(n,l){if(n.status!==this._rowGroup)return this._rowGroup=n.status,"first-row-for-new-group"},n.prototype.trackById=function(n){return n.Id},n.prototype._vehiclesUpdated=function(n){this.isVehiclesLoaded=!0;var l={};n.forEach(function(n){var e="Parked";n.deviceId?n.issueCount?e="Issues":n.isParked||(e="Driving"):e="Offline",l[e]=l[e]||[],l[e].push(n)});var e=this.appConfig.statusOrderLookup;this.statusGroupsList=Object.keys(l).sort(function(n,l){return e[n]-e[l]}).map(function(n){return{id:e[n],title:n,vehicles:l[n]}})},n}(),W=t["\u0275crt"]({encapsulation:0,styles:[[".car-list-sidebar[_ngcontent-%COMP%]{background-color:var(--white);box-shadow:1px 1px 4px 0 rgba(0,0,0,.5);height:calc(100vh - 68px);left:0;max-width:80%;position:fixed;top:68px;z-index:100}.car-list-sidebar[_ngcontent-%COMP%]   .titles-list[_ngcontent-%COMP%]{display:none;opacity:.6;font-weight:500}.car-list-sidebar.open[_ngcontent-%COMP%]{width:495px}.car-list-sidebar.open[_ngcontent-%COMP%]   .status-group[_ngcontent-%COMP%]{border:0}.car-list-sidebar.open[_ngcontent-%COMP%]   .status-group[_ngcontent-%COMP%]   .group-title[_ngcontent-%COMP%]{text-align:left;padding:.32rem 2rem;background-color:rgba(180,180,180,.1)}.car-list-sidebar.open[_ngcontent-%COMP%]   .titles-list[_ngcontent-%COMP%]{display:block;border-bottom:2px solid #e6ebf0}.car-list-sidebar.open[_ngcontent-%COMP%]   .full-list-view-btn[_ngcontent-%COMP%]{display:none}.car-list-sidebar.open[_ngcontent-%COMP%]   .close-list-sidebar-btn[_ngcontent-%COMP%]{display:block;background-color:var(--white);box-shadow:1px 1px 4px 0 rgba(156,156,156,.5);color:#9fa0a2;cursor:pointer;height:51px;line-height:51px;position:absolute;right:-18px;text-align:center;top:33px;width:18px;border:0}.car-list-sidebar.open[_ngcontent-%COMP%]   .vehicles-list[_ngcontent-%COMP%]   .vehicle-row[_ngcontent-%COMP%]{border-top:2px solid #e6ebf0;padding:1rem 0}.car-list-sidebar.open[_ngcontent-%COMP%]   .vehicles-list[_ngcontent-%COMP%]   .vehicle-row[_ngcontent-%COMP%]:first-child{border-top:none}.car-list-sidebar.open[_ngcontent-%COMP%]   .vehicles-list[_ngcontent-%COMP%]   .vehicle-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.car-list-sidebar.open[_ngcontent-%COMP%]   .center-cell[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.car-list-sidebar[_ngcontent-%COMP%]   .close-list-sidebar-btn[_ngcontent-%COMP%]{display:none}.car-list-sidebar[_ngcontent-%COMP%]   .full-list-view-btn[_ngcontent-%COMP%]{box-shadow:0 0 4px 0 rgba(0,0,0,.12);border:0;background:0 0;cursor:pointer;font-size:.75rem;line-height:20px;text-align:center;width:100%;height:60px}.car-list-sidebar[_ngcontent-%COMP%]   .full-list-view-btn[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{font-size:1rem;margin-left:4px;vertical-align:middle}.car-list-sidebar[_ngcontent-%COMP%]   .status-col[_ngcontent-%COMP%]{font-size:.75rem}.car-list-sidebar[_ngcontent-%COMP%]   .status-col[_ngcontent-%COMP%]   .drivint-from[_ngcontent-%COMP%]{opacity:.6}.car-list-sidebar[_ngcontent-%COMP%]   .status-col[_ngcontent-%COMP%]   .battery-low[_ngcontent-%COMP%]{color:#ff7b00}.car-list-sidebar[_ngcontent-%COMP%]   .scrollable-wrapper[_ngcontent-%COMP%]{height:100%;padding-bottom:60px}.vehicle-row[_ngcontent-%COMP%]{padding:0}.vehicle-row[_ngcontent-%COMP%]   .vehicle-wrapper[_ngcontent-%COMP%]{padding:.5rem 0}.vehicle-row.selected[_ngcontent-%COMP%]   .vehicle-wrapper[_ngcontent-%COMP%]{border-left:5px solid var(--primary);padding-right:5px;background-color:#e8e8e8}.status-group[_ngcontent-%COMP%]{border-bottom:1px solid rgba(151,151,151,.51)}.status-group[_ngcontent-%COMP%]   .group-title[_ngcontent-%COMP%]{font-weight:700;text-align:center;padding:1rem;margin:0}.show-vehicles-list-btn[_ngcontent-%COMP%]{position:absolute;z-index:999;top:30px;right:30px;font-size:1.5rem;height:3rem;width:3rem}.toggle-btn[_ngcontent-%COMP%]{padding:0;min-width:23px;border:0;vertical-align:baseline;background:0 0}"]],data:{animation:[{type:7,name:"slideInOut",definitions:[{type:0,name:"max",styles:{type:6,styles:{width:"495px"},offset:null},options:void 0},{type:0,name:"min",styles:{type:6,styles:{width:"120px"},offset:null},options:void 0},{type:1,expr:"max => min",animation:{type:4,styles:null,timings:"400ms ease-in-out"},options:null},{type:1,expr:"min => max",animation:{type:4,styles:null,timings:"400ms ease-in-out"},options:null}],options:{}}]}});function J(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","text-center"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,2,"small",[],null,null,null,null,null)),(n()(),t["\u0275ted"](2,null,["",""])),t["\u0275pid"](131072,a.i,[a.j,t.ChangeDetectorRef])],null,function(n,l){n(l,2,0,t["\u0275unv"](l,2,0,t["\u0275nov"](l,3).transform("Loading vehicles")))})}function X(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","text-center"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,2,"small",[],null,null,null,null,null)),(n()(),t["\u0275ted"](2,null,["",""])),t["\u0275pid"](131072,a.i,[a.j,t.ChangeDetectorRef])],null,function(n,l){n(l,2,0,t["\u0275unv"](l,2,0,t["\u0275nov"](l,3).transform("No records found")))})}function Q(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function nn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"h6",[],[[8,"className",0]],null,null,null,null)),(n()(),t["\u0275ted"](1,null,["",""])),t["\u0275pid"](131072,a.i,[a.j,t.ChangeDetectorRef])],null,function(n,l){n(l,0,0,t["\u0275inlineInterpolate"](1,"medium font-weight-bold ",l.parent.parent.context.$implicit.issues[l.context.$implicit].class,"")),n(l,1,0,t["\u0275unv"](l,1,0,t["\u0275nov"](l,2).transform(l.parent.parent.context.$implicit.issues[l.context.$implicit].text)))})}function ln(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,[" "," "])),t["\u0275pid"](131072,a.i,[a.j,t.ChangeDetectorRef])],null,function(n,l){n(l,1,0,t["\u0275unv"](l,1,0,t["\u0275nov"](l,2).transform("Parked at")))})}function en(n){return t["\u0275vid"](0,[(n()(),t["\u0275ted"](0,null,["",""])),t["\u0275pid"](131072,a.i,[a.j,t.ChangeDetectorRef])],null,function(n,l){n(l,0,0,t["\u0275unv"](l,0,0,t["\u0275nov"](l,1).transform("Driving from")))})}function tn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","drivint-from"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,ln)),t["\u0275did"](2,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),t["\u0275and"](0,[["elseParkedBlock",2]],null,0,null,en))],function(n,l){n(l,2,0,l.parent.parent.context.$implicit.isParked,t["\u0275nov"](l,3))},null)}function on(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","address"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["",""]))],null,function(n,l){n(l,1,0,l.parent.parent.context.$implicit.address)})}function un(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,7,"div",[["class","col-4 status-col font-weight-medium"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,2,null,nn)),t["\u0275did"](2,278528,null,0,c.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),t["\u0275pid"](0,P,[]),(n()(),t["\u0275and"](16777216,null,null,1,null,tn)),t["\u0275did"](5,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,on)),t["\u0275did"](7,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){n(l,2,0,t["\u0275unv"](l,2,0,t["\u0275nov"](l,3).transform(l.parent.context.$implicit.issues))),n(l,5,0,l.parent.context.$implicit.address),n(l,7,0,l.parent.context.$implicit.address)},null)}function rn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","col-4 center-cell"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"app-fuel-tank",[],null,null,null,F,T)),t["\u0275did"](2,573440,null,0,S,[D],{vehicle:[0,"vehicle"]},null)],function(n,l){n(l,2,0,l.parent.context.$implicit)},null)}function sn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,10,"div",[["class","row vehicle-row"]],null,null,null,null,null)),t["\u0275did"](1,278528,null,0,c.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](2,{selected:0}),(n()(),t["\u0275eld"](3,0,null,null,3,"div",[["class","col center-cell"]],null,null,null,null,null)),(n()(),t["\u0275eld"](4,0,null,null,2,"div",[["class","vehicle-wrapper"]],null,null,null,null,null)),(n()(),t["\u0275eld"](5,0,null,null,1,"app-vehicle-display",[["class","app-vehicle-display"],["optionalClass","cursor-pointer px-1"]],null,[[null,"click"]],function(n,l,e){var t=!0,i=n.component;return"click"===l&&(i.carClicked(n.context.$implicit),t=0!=(i.isLeftSideMenuShown=!1)&&t),t},G.b,G.a)),t["\u0275did"](6,114688,null,0,E.a,[R.a],{vehicle:[0,"vehicle"],optionalClass:[1,"optionalClass"],selected:[2,"selected"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,un)),t["\u0275did"](8,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,rn)),t["\u0275did"](10,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component,t=n(l,2,0,l.context.$implicit.isSelected);n(l,1,0,"row vehicle-row",t),n(l,6,0,l.context.$implicit,"cursor-pointer px-1",l.context.$implicit.isSelected),n(l,8,0,e.isListSidebarOpen),n(l,10,0,e.isListSidebarOpen)},null)}function an(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,10,"div",[["class","status-group"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,6,"h6",[["class","group-title"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,3,"button",[["class","btn toggle-btn fa"]],[[8,"title",0]],[[null,"click"]],function(n,l,e){var t=!0,i=n.component;return"click"===l&&(t=0!=(i.groupsCollapseState[n.context.$implicit.id]=!i.groupsCollapseState[n.context.$implicit.id])&&t),t},null,null)),t["\u0275did"](3,278528,null,0,c.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](4,{"fa-caret-right":0,"fa-caret-down":1}),t["\u0275pid"](131072,a.i,[a.j,t.ChangeDetectorRef]),(n()(),t["\u0275ted"](6,null,[" "," "])),t["\u0275pid"](131072,a.i,[a.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](8,0,null,null,2,"div",[["class","vehicles-list"]],[[8,"hidden",0]],null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,sn)),t["\u0275did"](10,278528,null,0,c.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],function(n,l){var e=l.component,t=n(l,4,0,e.groupsCollapseState[l.context.$implicit.id],!e.groupsCollapseState[l.context.$implicit.id]);n(l,3,0,"btn toggle-btn fa",t),n(l,10,0,l.context.$implicit.vehicles,e.trackById)},function(n,l){var e=l.component;n(l,2,0,t["\u0275unv"](l,2,0,t["\u0275nov"](l,5).transform("Toggle group"))),n(l,6,0,t["\u0275unv"](l,6,0,t["\u0275nov"](l,7).transform(l.context.$implicit.title))),n(l,8,0,e.groupsCollapseState[l.context.$implicit.id])})}function cn(n){return t["\u0275vid"](0,[(n()(),t["\u0275and"](16777216,null,null,1,null,an)),t["\u0275did"](1,278528,null,0,c.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(n()(),t["\u0275and"](0,null,null,0))],function(n,l){var e=l.component;n(l,1,0,e.statusGroupsList,e.trackById)},null)}function dn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function pn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,26,"div",[],[[24,"@slideInOut",0],[8,"className",0]],null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,3,"button",[["class","full-list-view-btn"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.openListSidebar()&&t),t},null,null)),(n()(),t["\u0275ted"](2,null,[" "," "])),t["\u0275pid"](131072,a.i,[a.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](4,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-caret-right"]],null,null,null,null,null)),(n()(),t["\u0275eld"](5,0,null,null,1,"button",[["class","close-list-sidebar-btn"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.closeListSidebar()&&t),t},null,null)),(n()(),t["\u0275eld"](6,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-caret-left"]],null,null,null,null,null)),(n()(),t["\u0275eld"](7,0,null,null,10,"div",[["class","titles-list py-2"]],null,null,null,null,null)),(n()(),t["\u0275eld"](8,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(n()(),t["\u0275eld"](9,0,null,null,2,"div",[["class","col-4 text-center"]],null,null,null,null,null)),(n()(),t["\u0275ted"](10,null,["",""])),t["\u0275pid"](131072,a.i,[a.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](12,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(n()(),t["\u0275ted"](13,null,["",""])),t["\u0275pid"](131072,a.i,[a.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](15,0,null,null,2,"div",[["class","col-4 text-center"]],null,null,null,null,null)),(n()(),t["\u0275ted"](16,null,["",""])),t["\u0275pid"](131072,a.i,[a.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](18,0,null,null,8,"div",[["class","scrollable-wrapper"]],null,null,null,null,null)),(n()(),t["\u0275eld"](19,0,null,null,7,"perfect-scrollbar",[],[[2,"ps-show-limits",null],[2,"ps-show-active",null]],null,null,d.b,d.a)),t["\u0275did"](20,507904,null,0,p.b,[t.NgZone,t.ChangeDetectorRef,t.PLATFORM_ID],null,null),(n()(),t["\u0275and"](16777216,null,0,1,null,J)),t["\u0275did"](22,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,0,1,null,X)),t["\u0275did"](24,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,0,1,null,Q)),t["\u0275did"](26,540672,null,0,c.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(n()(),t["\u0275and"](0,[["vehiclesList",2]],null,0,null,cn)),(n()(),t["\u0275eld"](28,0,null,null,1,"button",[["class","mobile-btn icon-btn top rounded-circle"],["style","right: 18px"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=0!=(n.component.isLeftSideMenuShown=!0)&&t),t},null,null)),(n()(),t["\u0275eld"](29,0,null,null,0,"i",[["class","fa fa-car"]],null,null,null,null,null)),(n()(),t["\u0275eld"](30,0,null,null,4,"app-common-dialog",[["bodyClass","px-0 py-0"],["customClass","modal-right-side-menu modal-w-auto"],["headerClass","d-none"]],null,[[null,"visibilityChange"]],function(n,l,e){var t=!0;return"visibilityChange"===l&&(t=!1!==(n.component.isLeftSideMenuShown=e)&&t),t},A.b,A.a)),t["\u0275did"](31,638976,null,0,B.a,[],{config:[0,"config"],customClass:[1,"customClass"],bodyClass:[2,"bodyClass"],headerClass:[3,"headerClass"],visibility:[4,"visibility"]},{visibilityChange:"visibilityChange"}),t["\u0275pod"](32,{ignoreBackdropClick:0}),(n()(),t["\u0275and"](16777216,null,1,1,null,dn)),t["\u0275did"](34,540672,null,0,c.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null)],function(n,l){var e=l.component;n(l,20,0),n(l,22,0,!e.isVehiclesLoaded),n(l,24,0,e.isVehiclesLoaded&&!(null!=e.statusGroupsList&&e.statusGroupsList.length)),n(l,26,0,t["\u0275nov"](l,27));var i=n(l,32,0,!1);n(l,31,0,i,"modal-right-side-menu modal-w-auto","px-0 py-0","d-none",e.isLeftSideMenuShown),n(l,34,0,t["\u0275nov"](l,27))},function(n,l){var e=l.component;n(l,0,0,e.slideState,t["\u0275inlineInterpolate"](1,"car-list-sidebar ",e.openCloseClass," d-none d-sm-block")),n(l,2,0,t["\u0275unv"](l,2,0,t["\u0275nov"](l,3).transform("Full List View"))),n(l,10,0,t["\u0275unv"](l,10,0,t["\u0275nov"](l,11).transform("Name"))),n(l,13,0,t["\u0275unv"](l,13,0,t["\u0275nov"](l,14).transform("Status"))),n(l,16,0,t["\u0275unv"](l,16,0,t["\u0275nov"](l,17).transform("Fuel"))),n(l,19,0,t["\u0275nov"](l,20).autoPropagation,t["\u0275nov"](l,20).scrollIndicators)})}var fn=e("GWfa"),gn=e("JsDN"),hn=e("PK9H"),vn=e("0Nby"),mn=function(){function n(n){this._vehicleMapIcons=n,this.click=new t.EventEmitter,this.heading=0}return n.prototype.ngOnInit=function(){this.vehicle&&(this.upVehicleCoords(this.vehicle),this.upVehicleImage(this.vehicle))},n.prototype.ngOnChanges=function(n){n.vehicle&&n.vehicle.currentValue&&(this.upVehicleCoords(n.vehicle.currentValue),this.upVehicleImage(n.vehicle.currentValue),this.upVehicleHeading(n.vehicle.currentValue))},n.prototype.upVehicleCoords=function(n){n.hasLoaction&&(this.latLng={lat:n.lat,lng:n.lng})},n.prototype.upVehicleImage=function(n){var l=this;this.anchor=n.isParked?"bottom":"center",(n.isParked?this._vehicleMapIcons.getVehcileParkedImg(n):this._vehicleMapIcons.getVehicleDrivingIcon()).subscribe(function(n){return l.img=n})},n.prototype.upVehicleHeading=function(n){if(n.isParked)this.heading=0;else{var l=n.heading/180*Math.PI,e=Math.sin(l),t=Math.cos(l);void 0===this._avgValCos?(this._avgValCos=e,this._avgValSin=t):(this._avgValSin=.4*e+.6*this._avgValSin,this._avgValCos=.4*t+.6*this._avgValCos),this.heading=180*Math.atan2(this._avgValSin,this._avgValCos)/Math.PI}},n}(),Cn=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function bn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"app-map-marker",[],null,[[null,"click"]],function(n,l,e){var t=!0,i=n.component;return"click"===l&&(t=!1!==i.click.emit(i.vehicle)&&t),t},null,null)),t["\u0275did"](1,737280,null,0,fn.a,[gn.a,hn.a],{title:[0,"title"],latLng:[1,"latLng"],img:[2,"img"],anchor:[3,"anchor"],rotation:[4,"rotation"],animation:[5,"animation"]},{click:"click"}),t["\u0275pid"](131072,a.i,[a.j,t.ChangeDetectorRef])],function(n,l){var e=l.component;n(l,1,0,e.vehicle.name||t["\u0275unv"](l,1,0,t["\u0275nov"](l,2).transform("No name")),e.latLng,e.img,e.anchor,e.vehicle.isParked?0:e.heading||0,!e.vehicle.isParked)},null)}function _n(n){return t["\u0275vid"](0,[(n()(),t["\u0275and"](16777216,null,null,1,null,bn)),t["\u0275did"](1,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,1,0,e.latLng&&e.img)},null)}var yn=e("Wmu6"),On=e("5IrS"),xn=function(){function n(n){this._circleDriver=n,this.fillOpacity=.3}return n.prototype.ngOnInit=function(){var n=this;this._circleDriver.whenInited().then(function(){n._addCircle()})},n.prototype.ngOnChanges=function(n){(n.center&&!Object(On.a)(n.center.previousValue,this.center)||n.radius||n.fillColor||n.fillOpacity)&&this._remove(),this._addCircle()},n.prototype.ngOnDestroy=function(){this._remove()},n.prototype._remove=function(){this._circle&&(this._circleDriver.remove(this._circle),this._circle=null)},n.prototype._addCircle=function(){!this._circle&&this.center&&this.radius&&this.fillColor&&(this._circle=this._circleDriver.add({title:this.title,center:this.center,radius:this.radius,fillColor:this.fillColor,fillOpacity:this.fillOpacity}))},n}(),wn=e("AIIW"),Pn=e("B7Lh"),kn=e("KDJi"),In=e("G0XU"),Mn=e("IXP5"),Rn=e("xvOT"),Dn=e("FMkC"),Sn=e("Y8qE"),Tn=e("m9cR"),Vn=e("Xv+2"),Ln=function(){function n(n){this._mapDriver=n}return n.prototype.ngOnInit=function(){var n=this;this._mapDriver.whenInited().then(function(){n._mapDriver.showZoomControl()})},n.prototype.ngOnDestroy=function(){var n=this;this._mapDriver.whenInited().then(function(){n._mapDriver.hideZoomControl()})},n}(),Nn=e("F/XL"),jn=e("P6uZ"),$n=e("vubp"),Fn=e("15JJ"),Gn=e("6V3w"),En=e("K4tl"),An=e("cnYv"),Bn=e("UEtB"),zn=e("t462"),Hn=(e("9wFs"),function(){function n(n,l,e,t,i,o,u,r,s){this._appConfig=n,this._appState=l,this._vehicles=e,this._router=t,this._progress=i,this._trips=o,this._vehicleMapIcons=u,this._geofencesService=r,this._mapsConfiguration=s,this.updateTrip$=new g.a(1),this._onDestroy$=new U.b}return n.prototype.ngOnInit=function(){this.mapsdirver=this._mapsConfiguration.getDriverName(),this.geofenceFillColor=this._appConfig.getThemeColor(),this.hasGeofence=this._geofencesService.getGeofence().pipe(Object(h.a)(function(n){return!!n.length}));var n=this._appState.hasProperty("live-view-map-center")?this._appState.get("live-view-map-center"):null;n?(this.mapZoom=n.zoom,this.mapCenter=n.center):this.mapZoom=this._appConfig.defaultGoogleMapZoom,this.vehiclesList$=this._vehicles.vehiclesListStream(),this.tripColor=this._appConfig.currentTripPolylineColour,this.tripStartImg$=this._vehicleMapIcons.getTripStartImg()},n.prototype.ngOnDestroy=function(){this._onDestroy$.next(),this.updateTrip$.complete()},n.prototype.onGeofenceBtnClicked=function(){this._router.navigate(["/geofences"===this._router.url?"/":"/geofences"])},n.prototype.handleMapLoad=function(n){this._initialize(n)},n.prototype.trackById=function(n,l){return l.Id},n.prototype.handleMapDragEnd=function(n){this._saveMapPosition(n.getCenter(),n.getZoom())},n.prototype.handleVehicleClick=function(n){var l=this._vehicles.getSelectedVehicle();this._vehicles.selectVehicle(l&&l===n?null:n)},n.prototype._initialize=function(n){var l=this;this._vehicles.selectedVehicleStream().pipe(Object(jn.a)()).subscribe(function(){return l._progress.addProgress(l._appConfig.progressLoaderForVehicles)}),this._vehicles.selectedVehicleStream().pipe(Object(Z.a)(this._onDestroy$)).subscribe(function(n){var e=n.vehicle,t=n.foucusOnMap;l.updateTrip$.next(e),l.mapAnimation=!1,e&&e.hasLoaction&&t&&(l.mapCenter={lng:e.lng,lat:e.lat},l.mapZoom=l._appConfig.clickVehicleMarkerZoom,l._saveMapPosition(l.mapCenter,l.mapZoom))}),this._vehicles.vehiclesListStream().pipe(Object(Z.a)(this._onDestroy$)).subscribe(function(n){var e=l._vehicles.getSelectedVehicle(),t=e?n.find(function(n){return n.id===e.id}):null;l.updateTrip$.next(!t||t.isParked?null:t),t&&t.id===l._followVehicleId&&t.hasLoaction&&(l.mapAnimation=!0,l.mapCenter={lng:t.lng,lat:t.lat}),t&&(l._followVehicleId=t.isParked?"0":t.id)},function(n){return console.error("error",n)}),this._appState.hasProperty("live-view-map-center")||this._vehicles.vehiclesListStream().pipe(Object(jn.a)(),Object($n.a)(500),Object(Z.a)(this._onDestroy$)).subscribe(function(){n.fitToContent({maxZoom:l._appConfig.defaultGoogleMapTripHistoryZoom})}),this.geofencesList$=this._geofencesService.getSelectedGeofences().pipe(Object(Fn.a)(function(n){return l._geofencesService.getGeofence().pipe(Object(h.a)(function(l){return l.filter(function(l){return-1!==n.indexOf(l.Id)})}))}),Object(h.a)(function(n){return n.filter(function(n){return"Circle"===n.Region.Type}).map(function(n){var e=n.Region,t=n.Name;return{Id:n.Id,center:{lng:e.Lng,lat:e.Lat},radius:l._appConfig.getDistance(e.Radius.Value,e.Radius.Unit,"Meters"),title:t}})})),this.updateTrip$.pipe(Object(Gn.a)(function(n){return n&&n.currentTripId&&!n.isParked?Object(Nn.a)(n).pipe(Object($n.a)(l.currentTripPolyline?1e4:0),Object(Fn.a)(function(n){return l._trips.getTripPolyline(n.id,n.currentTripId)}),Object(h.a)(function(n){return n.Polyline})):Object(Nn.a)(null)})).subscribe(function(n){l.updateTrip$.pipe(Object(jn.a)()).subscribe(function(e){if(l.currentTripPolyline=l._addVehicleToPolyline(e,n),l.currentTripPolyline){var t=Object(Bn.decode)(n)[0];l.startTripPoint=t?{lat:t[0],lng:t[1]}:null}else l.startTripPoint=null})}),this.updateTrip$.subscribe(function(n){l.currentTripPolyline=l._addVehicleToPolyline(n,l.currentTripPolyline),n||(l.startTripPoint=null)})},n.prototype._addVehicleToPolyline=function(n,l){if(n&&!n.isParked&&n.lat&&n.lng&&l){var e=l&&Object(Bn.decode)(l)||[];return e.push([n.lat,n.lng]),Object(Bn.encode)(e)}return null},n.prototype._saveMapPosition=function(n,l){this._appState.set("live-view-map-center",{center:n,zoom:l})},n}()),Kn=e("ZYCi"),Zn=t["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]  .liveview-map{height:100vh;width:100%;margin-left:120px;width:calc(100% - 120px)}.geofences[_ngcontent-%COMP%]{background:url(/assets/img/map-geofence.svg) center center/18px 18px no-repeat #fff;height:38px;width:38px;border-radius:50%;position:absolute;bottom:125px;right:11px}.geofences.mapbox[_ngcontent-%COMP%]{bottom:104px;height:28px;right:11px;width:28px}@media (min-width:576px){[_nghost-%COMP%]  .liveview-map{height:calc(100vh - 68px - var(--footer-height))}.geofences[_ngcontent-%COMP%]{bottom:calc(125px + var(--footer-height))}}"]],data:{}});function Un(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-vehicle-marker",[],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.handleVehicleClick(n.context.$implicit)&&t),t},_n,Cn)),t["\u0275did"](1,638976,null,0,mn,[vn.a],{vehicle:[0,"vehicle"]},{click:"click"})],function(n,l){n(l,1,0,l.context.$implicit)},null)}function qn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-map-circle",[],null,null,null,null,null)),t["\u0275did"](1,737280,null,0,xn,[yn.a],{title:[0,"title"],center:[1,"center"],radius:[2,"radius"],fillColor:[3,"fillColor"]},null)],function(n,l){n(l,1,0,l.context.$implicit.title,l.context.$implicit.center,l.context.$implicit.radius,l.component.geofenceFillColor)},null)}function Yn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"a",[["class","geofences"],["href","javascript:void(0)"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.onGeofenceBtnClicked()&&t),t},null,null)),t["\u0275did"](1,278528,null,0,c.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null)],function(n,l){n(l,1,0,"geofences",l.component.mapsdirver)},null)}function Wn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,20,"app-map",[["className","liveview-map"]],null,[[null,"load"],[null,"dragend"],[null,"mousewheel"],[null,"wheel"]],function(n,l,e){var i=!0,o=n.component;return"mousewheel"===l&&(i=!1!==t["\u0275nov"](n,6)._onMouseWheelChrome(e)&&i),"wheel"===l&&(i=!1!==t["\u0275nov"](n,6)._onMouseWheelFirefox(e)&&i),"load"===l&&(i=!1!==o.handleMapLoad(e)&&i),"dragend"===l&&(i=!1!==o.handleMapDragEnd(e)&&i),i},wn.b,wn.a)),t["\u0275prd"](4608,null,Pn.a,Pn.a,[]),t["\u0275prd"](1024,null,gn.a,kn.a,[t.NgZone,In.a]),t["\u0275prd"](1024,null,Mn.a,Rn.a,[t.NgZone,In.a]),t["\u0275prd"](1024,null,hn.a,Dn.a,[t.NgZone,In.a,gn.a,Mn.a]),t["\u0275prd"](1024,null,yn.a,Sn.a,[t.NgZone,In.a]),t["\u0275did"](6,245760,null,0,Tn.a,[hn.a,In.a,gn.a,Mn.a,yn.a],{className:[0,"className"],center:[1,"center"],zoom:[2,"zoom"],animation:[3,"animation"]},{load:"load",dragend:"dragend"}),(n()(),t["\u0275and"](16777216,null,null,2,null,Un)),t["\u0275did"](8,278528,null,0,c.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),t["\u0275pid"](131072,c.AsyncPipe,[t.ChangeDetectorRef]),(n()(),t["\u0275eld"](10,0,null,null,3,"app-map-marker",[],null,null,null,null,null)),t["\u0275did"](11,737280,null,0,fn.a,[gn.a,hn.a],{title:[0,"title"],latLng:[1,"latLng"],img:[2,"img"]},null),t["\u0275pid"](131072,a.i,[a.j,t.ChangeDetectorRef]),t["\u0275pid"](131072,c.AsyncPipe,[t.ChangeDetectorRef]),(n()(),t["\u0275eld"](14,0,null,null,1,"app-map-polyline",[],null,null,null,null,null)),t["\u0275did"](15,737280,null,0,Vn.a,[Mn.a],{encoded:[0,"encoded"],color:[1,"color"]},null),(n()(),t["\u0275and"](16777216,null,null,2,null,qn)),t["\u0275did"](17,278528,null,0,c.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),t["\u0275pid"](131072,c.AsyncPipe,[t.ChangeDetectorRef]),(n()(),t["\u0275eld"](19,0,null,null,1,"app-map-zoom-control",[],null,null,null,null,null)),t["\u0275did"](20,212992,null,0,Ln,[hn.a],null,null),(n()(),t["\u0275and"](16777216,null,null,2,null,Yn)),t["\u0275did"](22,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),t["\u0275pid"](131072,c.AsyncPipe,[t.ChangeDetectorRef])],function(n,l){var e=l.component;n(l,6,0,"liveview-map",e.mapCenter,e.mapZoom,e.mapAnimation),n(l,8,0,t["\u0275unv"](l,8,0,t["\u0275nov"](l,9).transform(e.vehiclesList$)),e.trackById),n(l,11,0,t["\u0275unv"](l,11,0,t["\u0275nov"](l,12).transform("Start")),e.startTripPoint,t["\u0275unv"](l,11,2,t["\u0275nov"](l,13).transform(e.tripStartImg$))),n(l,15,0,e.currentTripPolyline,e.tripColor),n(l,17,0,t["\u0275unv"](l,17,0,t["\u0275nov"](l,18).transform(e.geofencesList$)),e.trackById),n(l,20,0),n(l,22,0,t["\u0275unv"](l,22,0,t["\u0275nov"](l,23).transform(e.hasGeofence)))},null)}var Jn=function(){function n(n,l){this.appConfig=n,this.vehicles=l,this.isVisible=!0,this.carIssueCount=0,this.issueCount=0}return n.prototype.ngOnInit=function(){var n=this;this.issues=[],this.issueCount=0,this.carIssueCount=0,this.displayState="hide",this.setOpen(!1),this._vehicleUpdateSubscription=this.vehicles.vehiclesListStream().subscribe(function(l){return n._vehicleUpdate(l)})},n.prototype.toggle=function(){"error"===this.status&&this.setOpen(!this.open)},n.prototype.setOpen=function(n){this.open=n,this.openClass=n?"open":""},n.prototype.carClicked=function(n){var l=this.vehicles.getSelectedVehicle();this.vehicles.selectVehicle(l&&l.id===n.id?null:n)},n.prototype.ngOnDestroy=function(){this._vehicleUpdateSubscription.unsubscribe()},n.prototype.onAnimationDone=function(n){"showThenHide"===n.toState&&(this.isVisible=!1,this._vehicleUpdateSubscription.unsubscribe())},n.prototype._vehicleUpdate=function(n){var l=0,e=0,t=0,i={},o=function(){var o=n[l];o.issueCount&&(e++,Object.keys(o.issues).forEach(function(n){t++,i[n]||(i[n]=[]),i[n].push(o)}))};for(l=0;l<n.length;l++)o();Object.keys(i).length>0?(this.displayState="showThenHide",this.status="error"):n.length&&(this.displayState="showThenHide",this.status="success"),this.issues=i,this.carIssueCount=e,this.issueCount=t},n}(),Xn=t["\u0275crt"]({encapsulation:0,styles:[['.fleet-state[_ngcontent-%COMP%]{background-color:rgba(255,255,255,.9);border-radius:4px;box-shadow:0 1px 2px 0 rgba(0,0,0,.2);box-sizing:border-box;font-size:18px;max-width:280px;min-width:253px;position:absolute!important;right:25px;top:89px}.issues[_ngcontent-%COMP%], .status[_ngcontent-%COMP%]{box-sizing:border-box}.status[_ngcontent-%COMP%]{background-color:transparent;background-position:left 50%;background-repeat:no-repeat;margin-left:25px;padding:18px 25px 18px 30px}.success[_ngcontent-%COMP%]{background-image:url(/assets/img/icon-checkmark-success.png);color:#019500}.error[_ngcontent-%COMP%]{background-image:url(/assets/img/icon-error.png);color:#ac0000;cursor:pointer}.error[_ngcontent-%COMP%]::after{content:"\\25B8";padding-left:8px}.issues[_ngcontent-%COMP%]{max-height:70vh}.open[_ngcontent-%COMP%]   .issue-container[_ngcontent-%COMP%]{border-top:1px solid #dcdcdc}.open[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]::after{content:"\\25BE"}.group[_ngcontent-%COMP%]{border-top:1px solid #dcdcdc;color:#4a4a4a;font-size:16px;padding:15px 25px}.group[_ngcontent-%COMP%]:first-child{border-top:0}.group[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:5px}.car[_ngcontent-%COMP%]{color:#363636;font-size:12px}']],data:{animation:[{type:7,name:"visibilityChanged",definitions:[{type:0,name:"showThenHide",styles:{type:6,styles:{opacity:0},offset:null},options:void 0},{type:0,name:"show",styles:{type:6,styles:{opacity:1},offset:null},options:void 0},{type:0,name:"hide",styles:{type:6,styles:{opacity:0},offset:null},options:void 0},{type:1,expr:"show <=> hide",animation:{type:4,styles:null,timings:500},options:null},{type:1,expr:"showThenHide => *",animation:{type:4,styles:null,timings:500},options:null},{type:1,expr:"* => showThenHide",animation:[{type:4,styles:{type:5,steps:[{type:6,styles:{opacity:0,offset:0},offset:null},{type:6,styles:{opacity:1,offset:.03333333333333333},offset:null},{type:6,styles:{opacity:1,offset:.9666666666666667},offset:null},{type:6,styles:{opacity:0,offset:1},offset:null}]},timings:15e3}],options:null}],options:{}}]}});function Qn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"div",[["translate",""]],[[8,"className",0]],[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.toggle()&&t),t},null,null)),t["\u0275did"](1,8536064,null,0,a.e,[a.j,t.ElementRef,t.ChangeDetectorRef],{translate:[0,"translate"],translateParams:[1,"translateParams"]},null),t["\u0275pod"](2,{carCount:0,issueCount:1}),(n()(),t["\u0275ted"](-1,null,["fleetStateIssues"]))],function(n,l){var e=l.component,t=n(l,2,0,e.carIssueCount,e.issueCount);n(l,1,0,"",t)},function(n,l){n(l,0,0,t["\u0275inlineInterpolate"](1,"status ",l.component.status,""))})}function nl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"div",[],[[8,"className",0]],[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.toggle()&&t),t},null,null)),(n()(),t["\u0275ted"](1,null,["",""])),t["\u0275pod"](2,{carCount:0,issueCount:1}),t["\u0275pid"](131072,a.i,[a.j,t.ChangeDetectorRef])],null,function(n,l){var e=l.component;n(l,0,0,t["\u0275inlineInterpolate"](1,"status ",e.status,""));var i=t["\u0275unv"](l,1,0,t["\u0275nov"](l,3).transform("fleetStateIssues",n(l,2,0,e.carIssueCount,e.issueCount)));n(l,1,0,i)})}function ll(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","col-6 car same-car-height py-3"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"app-vehicle-display",[["optionalClass","large small-title cursor-pointer"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.carClicked(n.context.$implicit)&&t),t},G.b,G.a)),t["\u0275did"](2,114688,null,0,E.a,[R.a],{vehicle:[0,"vehicle"],optionalClass:[1,"optionalClass"],selected:[2,"selected"]},null)],function(n,l){n(l,2,0,l.context.$implicit,"large small-title cursor-pointer",l.context.$implicit.isSelected)},null)}function el(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","row group"],["myMatchHeight","same-car-height"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,3,"div",[["class","col-12 title"]],null,null,null,null,null)),(n()(),t["\u0275ted"](2,null,["",""])),t["\u0275pod"](3,{count:0}),t["\u0275pid"](131072,a.i,[a.j,t.ChangeDetectorRef]),(n()(),t["\u0275and"](16777216,null,null,1,null,ll)),t["\u0275did"](6,278528,null,0,c.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(n,l){n(l,6,0,l.component.issues[l.context.$implicit])},function(n,l){var e=l.component,i=t["\u0275unv"](l,2,0,t["\u0275nov"](l,4).transform(l.context.$implicit,n(l,3,0,e.issues[l.context.$implicit].length)));n(l,2,0,i)})}function tl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","ui-g issue-container"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,4,"perfect-scrollbar",[["class","issues"]],[[2,"ps-show-limits",null],[2,"ps-show-active",null]],null,null,d.b,d.a)),t["\u0275did"](2,507904,null,0,p.b,[t.NgZone,t.ChangeDetectorRef,t.PLATFORM_ID],null,null),(n()(),t["\u0275and"](16777216,null,0,2,null,el)),t["\u0275did"](4,278528,null,0,c.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),t["\u0275pid"](0,P,[])],function(n,l){var e=l.component;n(l,2,0),n(l,4,0,t["\u0275unv"](l,4,0,t["\u0275nov"](l,5).transform(e.issues)))},function(n,l){n(l,1,0,t["\u0275nov"](l,2).autoPropagation,t["\u0275nov"](l,2).scrollIndicators)})}function il(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,6,"div",[],[[8,"className",0],[24,"@visibilityChanged",0]],null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,Qn)),t["\u0275did"](2,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,nl)),t["\u0275did"](4,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,tl)),t["\u0275did"](6,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,2,0,0===e.issueCount),n(l,4,0,0!==e.issueCount),n(l,6,0,e.open)},function(n,l){var e=l.component;n(l,0,0,t["\u0275inlineInterpolate"](1,"",e.openClass," fleet-state"),e.displayState)})}function ol(n){return t["\u0275vid"](0,[(n()(),t["\u0275and"](16777216,null,null,1,null,il)),t["\u0275did"](1,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){n(l,1,0,l.component.isVisible)},null)}var ul=e("UgwL"),rl=e("VQd/"),sl=e("AbPr"),al=e("B4gM"),cl=e("D6/d"),dl=e("wu8c"),pl=function(){function n(){this.displayDialog=!1}return n.prototype.show=function(n){this.vehicle=n,this.displayDialog=!0},n.prototype.getDTCList=function(){return this.vehicle.diagnosticCodes.filter(function(n){return!n.ignored})},n}(),fl=t["\u0275crt"]({encapsulation:0,styles:[[".dtc-block[_ngcontent-%COMP%]{border-right:1px solid rgba(0,186,242,.6);margin-bottom:40px}.dtc-block[_ngcontent-%COMP%]:last-child, .dtc-block[_ngcontent-%COMP%]:nth-child(even){border-right:0}.name[_ngcontent-%COMP%]{display:block;font-size:16px;width:90%}.date[_ngcontent-%COMP%]{font-size:14px;font-weight:500;line-height:19px;margin-bottom:5px}.desc[_ngcontent-%COMP%]{font-size:16px;font-weight:700;line-height:19px;margin-bottom:15px}.code[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .severity[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}.code[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .severity[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:rgba(54,54,54,.6);font-size:14px;font-weight:500;line-height:14px;margin-bottom:2px}.code[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%], .severity[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:17px;font-weight:700;line-height:23px;margin-bottom:15px}.severity-high[_ngcontent-%COMP%]{color:#d43213}.severity-medium[_ngcontent-%COMP%]{color:#ff7b00}.severity-low[_ngcontent-%COMP%]{color:#363636}"]],data:{}});function gl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,24,"div",[["class","col-12 dtc-block"]],null,null,null,null,null)),t["\u0275did"](1,278528,null,0,c.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](2,{"col-md":0,"col-md-6":1}),(n()(),t["\u0275eld"](3,0,null,null,21,"div",[],null,null,null,null,null)),(n()(),t["\u0275eld"](4,0,null,null,3,"div",[["class","date"]],null,null,null,null,null)),(n()(),t["\u0275ted"](5,null,[""," at ",""])),t["\u0275ppd"](6,3),t["\u0275ppd"](7,3),(n()(),t["\u0275eld"](8,0,null,null,1,"div",[["class","desc"]],null,null,null,null,null)),(n()(),t["\u0275ted"](9,null,["",""])),(n()(),t["\u0275eld"](10,0,null,null,5,"div",[["class","code"]],null,null,null,null,null)),(n()(),t["\u0275eld"](11,0,null,null,2,"span",[["class","label"]],null,null,null,null,null)),(n()(),t["\u0275ted"](12,null,["",""])),t["\u0275pid"](131072,a.i,[a.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](14,0,null,null,1,"span",[["class","value"]],null,null,null,null,null)),(n()(),t["\u0275ted"](15,null,["",""])),(n()(),t["\u0275eld"](16,0,null,null,6,"div",[["class","severity"]],null,null,null,null,null)),(n()(),t["\u0275eld"](17,0,null,null,2,"span",[["class","label"]],null,null,null,null,null)),(n()(),t["\u0275ted"](18,null,["",""])),t["\u0275pid"](131072,a.i,[a.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](20,0,null,null,2,"span",[],[[8,"className",0]],null,null,null,null)),t["\u0275ppd"](21,1),(n()(),t["\u0275ted"](22,null,["",""])),(n()(),t["\u0275eld"](23,0,null,null,1,"div",[["class","instructions"]],null,null,null,null,null)),(n()(),t["\u0275ted"](24,null,["",""]))],function(n,l){var e=n(l,2,0,!l.context.index,l.context.index);n(l,1,0,"col-12 dtc-block",e)},function(n,l){var e=l.component,i=t["\u0275unv"](l,5,0,n(l,6,0,t["\u0275nov"](l.parent.parent,0),l.context.$implicit.timestamp,"longDate",e.currentLang)),o=t["\u0275unv"](l,5,1,n(l,7,0,t["\u0275nov"](l.parent.parent,0),l.context.$implicit.timestamp,"h:mm a",e.currentLang));n(l,5,0,i,o),n(l,9,0,l.context.$implicit.description),n(l,12,0,t["\u0275unv"](l,12,0,t["\u0275nov"](l,13).transform("Code:"))),n(l,15,0,l.context.$implicit.code),n(l,18,0,t["\u0275unv"](l,18,0,t["\u0275nov"](l,19).transform("Severity:")));var u=t["\u0275inlineInterpolate"](1,"value severity-",t["\u0275unv"](l,20,0,n(l,21,0,t["\u0275nov"](l.parent.parent,1),l.context.$implicit.severity)),"");n(l,20,0,u),n(l,22,0,l.context.$implicit.severity),n(l,24,0,l.context.$implicit.instructions)})}function hl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,11,"app-common-dialog",[["customClass","modal-md"]],null,[[null,"visibilityChange"]],function(n,l,e){var t=!0;return"visibilityChange"===l&&(t=!1!==(n.component.displayDialog=e)&&t),t},A.b,A.a)),t["\u0275did"](1,638976,null,0,B.a,[],{customClass:[0,"customClass"],visibility:[1,"visibility"]},{visibilityChange:"visibilityChange"}),(n()(),t["\u0275eld"](2,0,null,0,6,"div",[["class","header flex-wrap flex-sm-nowrap"],["commonDialogHeader",""]],null,null,null,null,null)),(n()(),t["\u0275eld"](3,0,null,null,2,"h5",[],null,null,null,null,null)),(n()(),t["\u0275ted"](4,null,["",""])),t["\u0275pid"](131072,a.i,[a.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](6,0,null,null,2,"h6",[],null,null,null,null,null)),(n()(),t["\u0275ted"](7,null,["",""])),t["\u0275pid"](131072,a.i,[a.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](9,0,null,1,2,"div",[["class","row"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,gl)),t["\u0275did"](11,278528,null,0,c.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(n,l){var e=l.component;n(l,1,0,"modal-md",e.displayDialog),n(l,11,0,e.getDTCList())},function(n,l){var e=l.component;n(l,4,0,t["\u0275unv"](l,4,0,t["\u0275nov"](l,5).transform("DTC"))),n(l,7,0,e.vehicle.name||t["\u0275unv"](l,7,0,t["\u0275nov"](l,8).transform("No name")))})}function vl(n){return t["\u0275vid"](0,[t["\u0275pid"](0,c.DatePipe,[t.LOCALE_ID]),t["\u0275pid"](0,c.LowerCasePipe,[]),(n()(),t["\u0275and"](16777216,null,null,1,null,hl)),t["\u0275did"](3,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){n(l,3,0,l.component.vehicle)},null)}var ml=e("VnD/"),Cl=e("9Z1F"),bl=function(){function n(n,l,e){this.isForcedCallback=n,this.project=l,this.skipErrors=e}return n.prototype.call=function(n,l){var e,t=this;l.subscribe(function(l){(!e||e.closed||t.isForcedCallback(l))&&(e&&!e.closed&&e.unsubscribe(),e=t.project(l).subscribe(function(l){n.next(l)},function(l){t.skipErrors||n.error(l)}))},function(l){return n.error(l)})},n}(),_l=function(){function n(n,l,e,t){this._appConfig=n,this._vehiclesService=l,this._tripsService=e,this._translate=t,this.recentTrips=[],this._onDestroy$=new U.b,this._requestTrips$=new U.b}return n.prototype.ngOnInit=function(){var n,l,e,t=this;this.currentLang=this._translate.currentLang,this.slideState="out",this.overviewTabActive=!0,this.recentTrips=[],this.isTripsLoaded=!1,this.isLoadingErrorOccured=!1,this._tripStartIndex=0,this.measuringSys$=this._appConfig.getMeasuringSystem(),this._requestTrips$.pipe(Object(ml.a)(function(n){return n.force||!t.isLoadingErrorOccured}),(n=function(n){return n.force},l=function(n){return t.isTripsLoaded=!1,t.isLoadingErrorOccured=!1,t._tripsService.loadVehicleTrips(n.vehicleId,t._appConfig.recentTripCount,n.start,"StartTimestamp desc").pipe(Object(Cl.a)(function(n){return t.isLoadingErrorOccured=!0,Object(Nn.a)([])}))},void 0===e&&(e=!1),function(t){return t.lift(new bl(n,l,e))})).pipe(Object(Z.a)(this._onDestroy$)).subscribe(function(n){t.isTripsLoaded=!0,t._onTripsLoaded(n)}),this._vehiclesService.wsUpdatesStream().pipe(Object(Z.a)(this._onDestroy$)).subscribe(function(n){return t._vehicleUpdated(n)}),this._vehiclesService.selectedVehicleStream().pipe(Object(Z.a)(this._onDestroy$)).subscribe(function(n){return t._handleVehicleSelected(n.vehicle)})},n.prototype.clickOverview=function(){this.overviewTabActive=!0},n.prototype.clickDetails=function(){this.overviewTabActive=!1},n.prototype.clickIssues=function(){this.dtcDialog.show(this.vehicle)},n.prototype.closeOverview=function(){this._vehiclesService.selectVehicle(null),this.slideState="out"},n.prototype.doubleClickVehicle=function(){console.log(this.vehicle)},n.prototype.doubleClickTripRow=function(n){console.log(n)},n.prototype.ngOnDestroy=function(){this._onDestroy$.next()},n.prototype.scrollDown=function(n){var l=this.tripHistoryListScrollBar.directiveRef.ps();(n||0!==l.contentHeight&&l.lastScrollTop/l.contentHeight>.7)&&this._requestTrips$.next({vehicleId:this.vehicle.id,start:this._tripStartIndex})},n.prototype._vehicleUpdated=function(n){this.vehicle&&n&&this.vehicle.id===n.id&&(n.isSelected=this.vehicle.isSelected,this.vehicle=n,this.vehicle.isParked&&this._requestTrips$.next({vehicleId:this.vehicle.id,start:0,force:!0}))},n.prototype._handleVehicleSelected=function(n){var l=this;this._tripStartIndex=0,this.recentTrips=[];var e="out";n&&n.hasLoaction&&(this.vehicle=n,this.vinDetails=null,n.vin&&this._vehiclesService.loadVinDetails(n.id).subscribe(function(n){l.vinDetails=n}),this._requestTrips$.next({vehicleId:n.id,start:0,force:!0}),this.issueCount=n.issueCount,this.isBatteryOk="High"!==n.batteryRiskSeverity,e="in"),this.slideState=e},n.prototype._onTripsLoaded=function(n){if(n&&!(n&&n.length<1)){var l=this.recentTrips,e=n.filter(function(n){return n.completed}),t=[];if(e.forEach(function(n){var e=l.findIndex(function(l){return n.id===l.id});-1===e?t.push(n):l[e]=n}),l=l.concat(t),l=this._sortTripList(l),this.recentTrips=l,0===this._tripStartIndex){var i=document.querySelector(".vehicle-overview .content");i&&(i.scrollTop=0)}this._tripStartIndex=this.recentTrips.length}},n.prototype._sortTripList=function(n){return n.slice().sort(function(n,l){var e=0;return n.startTime&&l.startTime&&(n.startTime>l.startTime?e=-1:n.startTime<l.startTime&&(e=1)),e})},n}(),yl=t["\u0275crt"]({encapsulation:0,styles:[[".vehicle-overview[_ngcontent-%COMP%]{background-color:var(--white);height:calc(100vh - 68px);left:120px;position:absolute;top:68px;width:417px;max-width:417px;transition:-webkit-transform .4s ease-out;transition:transform .4s ease-out;transition:transform .4s ease-out,-webkit-transform .4s ease-out;-webkit-transform:translate3d(-150%,0,0);transform:translate3d(-150%,0,0)}.vehicle-overview.in[_ngcontent-%COMP%]{-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}.vehicle-overview[_ngcontent-%COMP%]   .details-content[_ngcontent-%COMP%], .vehicle-overview[_ngcontent-%COMP%]   .overview[_ngcontent-%COMP%], .vehicle-overview[_ngcontent-%COMP%]   .trip-item[_ngcontent-%COMP%], .vehicle-overview[_ngcontent-%COMP%]   .trips-section[_ngcontent-%COMP%]{padding-left:1.5rem;padding-right:1rem}.vehicle-overview[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{box-shadow:0 0 14px 0 rgba(0,0,0,.12)}.vehicle-overview[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:1rem;max-width:100%}.vehicle-overview[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{height:calc(100vh - 68px - var(--footer-height) - 245px)}.vehicle-overview[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .trips-section[_ngcontent-%COMP%]{background-color:#fafbfc;margin-top:13px;padding-top:1rem;padding-bottom:1rem}.vehicle-overview[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .trips-section[_ngcontent-%COMP%]   .view-full[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;text-align:right}.vehicle-overview[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .trips-section[_ngcontent-%COMP%]   .view-full[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}@media (max-width:575.98px){.vehicle-overview[_ngcontent-%COMP%]{left:0;width:100%;-webkit-transform:translate3d(0,calc(100vh - 68px - 165px),0);transform:translate3d(0,calc(100vh - 68px - 165px),0)}.vehicle-overview.out[_ngcontent-%COMP%]{-webkit-transform:translate3d(0,calc(100vh - 68px),0);transform:translate3d(0,calc(100vh - 68px),0)}.vehicle-overview.expanded[_ngcontent-%COMP%]{-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}}@media (min-width:576px){.vehicle-overview[_ngcontent-%COMP%]{height:calc(100vh - 68px - var(--footer-height))}}.close-list-sidebar-btn[_ngcontent-%COMP%]{display:block;background-color:var(--white);box-shadow:1px 1px 4px 0 rgba(156,156,156,.5);color:#9fa0a2;cursor:pointer;height:51px;line-height:51px;position:absolute;right:-18px;text-align:center;top:33px;width:18px;border:0}.info-block[_ngcontent-%COMP%]{padding:1rem 0}.info-block.recalls[_ngcontent-%COMP%]::before{background-color:transparent;background-position:left center;background-repeat:no-repeat;content:' ';display:block;float:left;height:43px;margin:0 18px 0 0;width:32px;background-image:url(/assets/img/recall.png);background-position-x:1px;background-size:30px 30px}.info-block[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:block;float:left;height:43px;margin:0 18px 0 0;width:32px}.info-block[_ngcontent-%COMP%]   .icon.fill-good[_ngcontent-%COMP%]{fill:#019500}.info-block[_ngcontent-%COMP%]   .icon.fill-bad[_ngcontent-%COMP%]{fill:#d0021b}.info-block[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{display:block;font-size:1.31rem;font-weight:700;line-height:1.5rem}.info-block[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{color:rgba(54,54,54,.6);font-size:.8rem;font-weight:500;line-height:1rem;text-transform:uppercase}.details-content[_ngcontent-%COMP%]{padding-top:1rem}.details-content[_ngcontent-%COMP%]   .details-block[_ngcontent-%COMP%]{padding:.4rem 0}.details-content[_ngcontent-%COMP%]   .details-block[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{display:block;font-size:.875rem;line-height:1.5rem}.details-content[_ngcontent-%COMP%]   .details-block[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{color:rgba(54,54,54,.6);font-size:.75rem;font-weight:500}.trip-item[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid rgba(54,54,54,.1)}.trip-item[_ngcontent-%COMP%]   .start-point-wrapper[_ngcontent-%COMP%]{display:flex}.trip-item[_ngcontent-%COMP%]   .start-point-wrapper[_ngcontent-%COMP%]   .left-decorations[_ngcontent-%COMP%]{position:relative;border-left:.0625rem dashed var(--gray);margin-top:8px;margin-bottom:-8px;padding-right:12px}.trip-item[_ngcontent-%COMP%]   .start-point-wrapper[_ngcontent-%COMP%]   .left-decorations[_ngcontent-%COMP%]::before{-webkit-mask-image:url(/assets/img/dot-circle-solid.svg);mask-image:url(/assets/img/dot-circle-solid.svg);-webkit-mask-position:left center;mask-position:left center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:10px 10px;mask-size:10px 10px;background-color:var(--primary);background-size:10px;position:absolute;top:-1px;left:-5px;content:' ';height:10px;width:10px}.trip-item[_ngcontent-%COMP%]   .start-point-wrapper[_ngcontent-%COMP%]   .left-decorations[_ngcontent-%COMP%]   .map-marker[_ngcontent-%COMP%]{position:absolute;bottom:-12px;left:-5px}.trip-item[_ngcontent-%COMP%]   .start-point-wrapper[_ngcontent-%COMP%]   .start-point[_ngcontent-%COMP%]{padding-bottom:1.5rem}.trip-item[_ngcontent-%COMP%]   .end-point-wrapper[_ngcontent-%COMP%]{padding-left:12px}.trip-item[_ngcontent-%COMP%]   .address[_ngcontent-%COMP%]{font-weight:500;font-size:.937rem}.trip-item[_ngcontent-%COMP%]   .address-date[_ngcontent-%COMP%]{font-weight:500;font-size:.875rem;opacity:.6;text-align:center}.trip-item[_ngcontent-%COMP%]   .trip-footer[_ngcontent-%COMP%]   .unit[_ngcontent-%COMP%]{font-size:.75rem}.trip-item[_ngcontent-%COMP%]   .trip-footer[_ngcontent-%COMP%]   .unit-value[_ngcontent-%COMP%]{font-size:1.1875rem;font-weight:700}.no-trips[_ngcontent-%COMP%]{background-image:url(/assets/img/no-notifications.svg);background-position:50% 50%;background-repeat:no-repeat;font-size:15px;font-weight:500;min-height:300px;padding:50px 0 0;text-align:center;width:100%}"]],data:{}});function Ol(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","location"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["",""]))],null,function(n,l){n(l,1,0,l.component.vehicle.address)})}function xl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","info-block clearfix"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"app-fuel-tank",[["displayStyle","large"]],null,null,null,F,T)),t["\u0275did"](2,573440,null,0,S,[D],{vehicle:[0,"vehicle"],displayStyle:[1,"displayStyle"]},null)],function(n,l){n(l,2,0,l.component.vehicle,"large")},null)}function wl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","info-block recalls"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"span",[["class","value"]],null,null,null,null,null)),(n()(),t["\u0275ted"](2,null,["",""])),(n()(),t["\u0275eld"](3,0,null,null,3,"span",[["class","desc"]],null,null,null,null,null)),(n()(),t["\u0275ted"](4,null,["",""])),t["\u0275pod"](5,{count:0}),t["\u0275pid"](131072,a.i,[a.j,t.ChangeDetectorRef])],null,function(n,l){var e=l.component;n(l,2,0,e.vinDetails.Recalls.length);var i=t["\u0275unv"](l,4,0,t["\u0275nov"](l,6).transform("Recalls",n(l,5,0,e.vinDetails.Recalls.length)));n(l,4,0,i)})}function Pl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,0,"div",[],null,null,null,null,null))],null,null)}function kl(n){return t["\u0275vid"](0,[(n()(),t["\u0275ted"](0,null,["",""])),t["\u0275pid"](131072,a.i,[a.j,t.ChangeDetectorRef])],null,function(n,l){n(l,0,0,t["\u0275unv"](l,0,0,t["\u0275nov"](l,1).transform("Good")))})}function Il(n){return t["\u0275vid"](0,[(n()(),t["\u0275ted"](0,null,["",""])),t["\u0275pid"](131072,a.i,[a.j,t.ChangeDetectorRef])],null,function(n,l){n(l,0,0,t["\u0275unv"](l,0,0,t["\u0275nov"](l,1).transform("Bad")))})}function Ml(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,12,"div",[["class","info-block"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,3,"svg-icon",[["class","icon"],["src","/assets/img/icon-battery.svg"]],null,null,null,k.b,k.a)),t["\u0275did"](2,278528,null,0,c.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](3,{"fill-good":0,"fill-bad":1}),t["\u0275did"](4,1032192,null,0,I.e,[t.ElementRef,t.KeyValueDiffers,t.Renderer2,I.f],{src:[0,"src"]},null),(n()(),t["\u0275eld"](5,0,null,null,2,"span",[["class","value"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,Pl)),t["\u0275did"](7,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),(n()(),t["\u0275and"](0,[["batteryGood",2]],null,0,null,kl)),(n()(),t["\u0275and"](0,[["batteryBad",2]],null,0,null,Il)),(n()(),t["\u0275eld"](10,0,null,null,2,"span",[["class","desc"]],null,null,null,null,null)),(n()(),t["\u0275ted"](11,null,["",""])),t["\u0275pid"](131072,a.i,[a.j,t.ChangeDetectorRef])],function(n,l){var e=l.component,i=n(l,3,0,e.isBatteryOk,!e.isBatteryOk);n(l,2,0,"icon",i),n(l,4,0,"/assets/img/icon-battery.svg"),n(l,7,0,e.isBatteryOk,t["\u0275nov"](l,8),t["\u0275nov"](l,9))},function(n,l){n(l,11,0,t["\u0275unv"](l,11,0,t["\u0275nov"](l,12).transform("Battery")))})}function Rl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,21,"div",[["class","row overview"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,15,"div",[["class","col-12 col-md-6"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,xl)),t["\u0275did"](3,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](4,0,null,null,12,"div",[["class","info-block"]],null,[[null,"click"]],function(n,l,e){var t=!0,i=n.component;return"click"===l&&(t=!1!==(i.issueCount>0&&i.clickIssues())&&t),t},null,null)),t["\u0275did"](5,278528,null,0,c.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](6,{"cursor-pointer":0}),(n()(),t["\u0275eld"](7,0,null,null,3,"svg-icon",[["class","icon"],["src","/assets/img/icon-car.svg"]],null,null,null,k.b,k.a)),t["\u0275did"](8,278528,null,0,c.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](9,{"fill-good":0,"fill-bad":1}),t["\u0275did"](10,1032192,null,0,I.e,[t.ElementRef,t.KeyValueDiffers,t.Renderer2,I.f],{src:[0,"src"]},null),(n()(),t["\u0275eld"](11,0,null,null,1,"div",[["class","value"]],null,null,null,null,null)),(n()(),t["\u0275ted"](12,null,["",""])),(n()(),t["\u0275eld"](13,0,null,null,3,"div",[["class","desc"]],null,null,null,null,null)),(n()(),t["\u0275ted"](14,null,["",""])),t["\u0275pod"](15,{count:0}),t["\u0275pid"](131072,a.i,[a.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](17,0,null,null,4,"div",[["class","col-12 col-md-6"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,wl)),t["\u0275did"](19,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,Ml)),t["\u0275did"](21,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,3,0,e.vehicle.hasFuelLevel);var t=n(l,6,0,e.issueCount);n(l,5,0,"info-block",t);var i=n(l,9,0,!e.issueCount,e.issueCount);n(l,8,0,"icon",i),n(l,10,0,"/assets/img/icon-car.svg"),n(l,19,0,e.vinDetails&&e.vinDetails.Recalls),n(l,21,0,e.vehicle.hasBattery&&!!e.vehicle.batteryValue)},function(n,l){var e=l.component;n(l,12,0,e.issueCount);var i=t["\u0275unv"](l,14,0,t["\u0275nov"](l,16).transform("Issues",n(l,15,0,e.issueCount)));n(l,14,0,i)})}function Dl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["",""])),t["\u0275pid"](131072,a.i,[a.j,t.ChangeDetectorRef])],null,function(n,l){n(l,1,0,t["\u0275unv"](l,1,0,t["\u0275nov"](l,2).transform("Miles")))})}function Sl(n){return t["\u0275vid"](0,[(n()(),t["\u0275ted"](0,null,["",""])),t["\u0275pid"](131072,a.i,[a.j,t.ChangeDetectorRef])],null,function(n,l){n(l,0,0,t["\u0275unv"](l,0,0,t["\u0275nov"](l,1).transform("KM")))})}function Tl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,12,"div",[["class","col-12 col-md-6"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,11,"div",[["class","details-block"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,2,"span",[["class","desc"]],null,null,null,null,null)),(n()(),t["\u0275ted"](3,null,["",""])),t["\u0275pid"](131072,a.i,[a.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](5,0,null,null,7,"span",[["class","value"]],null,null,null,null,null)),(n()(),t["\u0275ted"](6,null,[""," "])),t["\u0275pid"](131072,ul.a,[t.ChangeDetectorRef,M.a]),t["\u0275ppd"](8,3),(n()(),t["\u0275and"](16777216,null,null,2,null,Dl)),t["\u0275did"](10,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),t["\u0275pid"](131072,c.AsyncPipe,[t.ChangeDetectorRef]),(n()(),t["\u0275and"](0,[["elseKilometer",2]],null,0,null,Sl))],function(n,l){var e=l.component;n(l,10,0,"imperial"===t["\u0275unv"](l,10,0,t["\u0275nov"](l,11).transform(e.measuringSys$)),t["\u0275nov"](l,12))},function(n,l){var e=l.component;n(l,3,0,t["\u0275unv"](l,3,0,t["\u0275nov"](l,4).transform("Odometer")));var i=t["\u0275unv"](l,6,0,n(l,8,0,t["\u0275nov"](l.parent.parent.parent,0),t["\u0275unv"](l,6,0,t["\u0275nov"](l,7).transform(e.vehicle.odometer,"distance")),"1.0-1",e.currentLang));n(l,6,0,i)})}function Vl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","col-12 col-md-6"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,5,"div",[["class","details-block"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,2,"span",[["class","desc"]],null,null,null,null,null)),(n()(),t["\u0275ted"](3,null,["",""])),t["\u0275pid"](131072,a.i,[a.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](5,0,null,null,1,"span",[["class","value"]],null,null,null,null,null)),(n()(),t["\u0275ted"](6,null,["",""]))],null,function(n,l){var e=l.component;n(l,3,0,t["\u0275unv"](l,3,0,t["\u0275nov"](l,4).transform("License Plate"))),n(l,6,0,e.vehicle.LicensePlate)})}function Ll(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","col-12 col-md-6"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,5,"div",[["class","details-block"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,2,"span",[["class","desc"]],null,null,null,null,null)),(n()(),t["\u0275ted"](3,null,["",""])),t["\u0275pid"](131072,a.i,[a.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](5,0,null,null,1,"span",[["class","value"]],null,null,null,null,null)),(n()(),t["\u0275ted"](6,null,["",""]))],null,function(n,l){var e=l.component;n(l,3,0,t["\u0275unv"](l,3,0,t["\u0275nov"](l,4).transform("OBD II Device IMEI"))),n(l,6,0,e.vehicle.imei)})}function Nl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","col-12 col-md-6"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,5,"div",[["class","details-block"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,2,"span",[["class","desc"]],null,null,null,null,null)),(n()(),t["\u0275ted"](3,null,["",""])),t["\u0275pid"](131072,a.i,[a.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](5,0,null,null,1,"span",[["class","value"]],null,null,null,null,null)),(n()(),t["\u0275ted"](6,null,["",""]))],null,function(n,l){var e=l.component;n(l,3,0,t["\u0275unv"](l,3,0,t["\u0275nov"](l,4).transform("VIN"))),n(l,6,0,e.vehicle.vin)})}function jl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,16,"div",[["class","row details-content"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,7,"div",[["class","col-12 col-md-6"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,6,"div",[["class","details-block"]],null,null,null,null,null)),(n()(),t["\u0275eld"](3,0,null,null,2,"span",[["class","desc"]],null,null,null,null,null)),(n()(),t["\u0275ted"](4,null,["",""])),t["\u0275pid"](131072,a.i,[a.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](6,0,null,null,2,"span",[["class","value"]],null,null,null,null,null)),(n()(),t["\u0275ted"](7,null,["",""])),t["\u0275pid"](131072,rl.a,[t.ChangeDetectorRef,a.j,sl.a]),(n()(),t["\u0275and"](16777216,null,null,1,null,Tl)),t["\u0275did"](10,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,Vl)),t["\u0275did"](12,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,Ll)),t["\u0275did"](14,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,Nl)),t["\u0275did"](16,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,10,0,e.vehicle.odometer),n(l,12,0,e.vehicle.LicensePlate),n(l,14,0,e.vehicle.imei),n(l,16,0,e.vehicle.vin)},function(n,l){var e=l.component;n(l,4,0,t["\u0275unv"](l,4,0,t["\u0275nov"](l,5).transform("Date Added"))),n(l,7,0,t["\u0275unv"](l,7,0,t["\u0275nov"](l,8).transform(e.vehicle.createdOn)))})}function $l(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","col-12 col-md-6 view-full"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,4,"a",[["class","text-primary"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,e){var i=!0;return"click"===l&&(i=!1!==t["\u0275nov"](n,2).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&i),i},null,null)),t["\u0275did"](2,671744,null,0,Kn.n,[Kn.l,Kn.a,c.LocationStrategy],{routerLink:[0,"routerLink"]},null),t["\u0275pad"](3,2),(n()(),t["\u0275ted"](4,null,["",""])),t["\u0275pid"](131072,a.i,[a.j,t.ChangeDetectorRef])],function(n,l){var e=n(l,3,0,"/trip-history",l.component.vehicle.Id);n(l,2,0,e)},function(n,l){n(l,1,0,t["\u0275nov"](l,2).target,t["\u0275nov"](l,2).href),n(l,4,0,t["\u0275unv"](l,4,0,t["\u0275nov"](l,5).transform("View Full Trip History")))})}function Fl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","left-decorations"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-map-marker map-marker text-primary"]],null,null,null,null,null))],null,null)}function Gl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","col address"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,[" "," "]))],null,function(n,l){n(l,1,0,l.parent.context.$implicit.startAddress)})}function El(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","col-4 address-date"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,[" ",""])),t["\u0275pid"](131072,rl.a,[t.ChangeDetectorRef,a.j,sl.a]),(n()(),t["\u0275eld"](3,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),t["\u0275ted"](4,null,[" "," "])),t["\u0275pid"](131072,rl.a,[t.ChangeDetectorRef,a.j,sl.a])],null,function(n,l){n(l,1,0,t["\u0275unv"](l,1,0,t["\u0275nov"](l,2).transform(l.parent.context.$implicit.startTime))),n(l,4,0,t["\u0275unv"](l,4,0,t["\u0275nov"](l,5).transform(l.parent.context.$implicit.startTime,"@time")))})}function Al(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,[" "," "]))],null,function(n,l){n(l,1,0,l.parent.parent.context.$implicit.endAddress)})}function Bl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","col-4 address-date"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,[" ",""])),t["\u0275pid"](131072,rl.a,[t.ChangeDetectorRef,a.j,sl.a]),(n()(),t["\u0275eld"](3,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),t["\u0275ted"](4,null,[" "," "])),t["\u0275pid"](131072,rl.a,[t.ChangeDetectorRef,a.j,sl.a])],null,function(n,l){n(l,1,0,t["\u0275unv"](l,1,0,t["\u0275nov"](l,2).transform(l.parent.parent.context.$implicit.endTime))),n(l,4,0,t["\u0275unv"](l,4,0,t["\u0275nov"](l,5).transform(l.parent.parent.context.$implicit.endTime,"@time")))})}function zl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","end-point-wrapper"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,2,"div",[["class","col address"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,Al)),t["\u0275did"](4,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,Bl)),t["\u0275did"](6,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){n(l,4,0,l.parent.context.$implicit.endAddress),n(l,6,0,l.parent.context.$implicit.endTime)},null)}function Hl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","unit-value pr-1"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["",""]))],null,function(n,l){n(l,1,0,l.parent.context.$implicit.durationHours)})}function Kl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"span",[["class","unit pr-1"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["",""])),t["\u0275pod"](2,{count:0}),t["\u0275pid"](131072,a.i,[a.j,t.ChangeDetectorRef])],null,function(n,l){var e=t["\u0275unv"](l,1,0,t["\u0275nov"](l,3).transform("Hour",n(l,2,0,l.parent.context.$implicit.durationHours)));n(l,1,0,e)})}function Zl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","unit-value pr-1"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["",""]))],null,function(n,l){n(l,1,0,l.parent.context.$implicit.durationMinutes)})}function Ul(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"span",[["class","unit"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["",""])),t["\u0275pod"](2,{count:0}),t["\u0275pid"](131072,a.i,[a.j,t.ChangeDetectorRef])],null,function(n,l){var e=t["\u0275unv"](l,1,0,t["\u0275nov"](l,3).transform("Minute",n(l,2,0,l.parent.context.$implicit.durationMinutes)));n(l,1,0,e)})}function ql(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,29,"div",[["class","trip-item"]],null,[[null,"dblclick"]],function(n,l,e){var t=!0;return"dblclick"===l&&(t=!1!==n.component.doubleClickTripRow(n.context.$implicit)&&t),t},null,null)),(n()(),t["\u0275eld"](1,0,null,null,7,"div",[["class","start-point-wrapper"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,Fl)),t["\u0275did"](3,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](4,0,null,null,4,"div",[["class","row start-point"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,Gl)),t["\u0275did"](6,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,El)),t["\u0275did"](8,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,zl)),t["\u0275did"](10,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](11,0,null,null,18,"div",[["class","row trip-footer pt-3"]],null,null,null,null,null)),(n()(),t["\u0275eld"](12,0,null,null,8,"div",[["class","col-6"]],null,null,null,null,null)),(n()(),t["\u0275eld"](13,0,null,null,3,"span",[["class","unit-value pr-1"]],null,null,null,null,null)),(n()(),t["\u0275ted"](14,null,["",""])),t["\u0275pid"](131072,ul.a,[t.ChangeDetectorRef,M.a]),t["\u0275ppd"](16,2),(n()(),t["\u0275eld"](17,0,null,null,3,"span",[["class","unit"]],null,null,null,null,null)),(n()(),t["\u0275ted"](18,null,["",""])),t["\u0275pid"](131072,al.a,[M.a,t.ChangeDetectorRef]),t["\u0275pid"](131072,a.i,[a.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](21,0,null,null,8,"div",[["class","col-6"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,Hl)),t["\u0275did"](23,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,Kl)),t["\u0275did"](25,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,Zl)),t["\u0275did"](27,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,Ul)),t["\u0275did"](29,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){n(l,3,0,l.context.$implicit.startTime&&l.context.$implicit.completed),n(l,6,0,l.context.$implicit.startAddress),n(l,8,0,l.context.$implicit.startTime),n(l,10,0,l.context.$implicit.completed),n(l,23,0,l.context.$implicit.durationHours>0),n(l,25,0,l.context.$implicit.durationHours>0),n(l,27,0,l.context.$implicit.durationMinutes>0),n(l,29,0,l.context.$implicit.durationMinutes>0)},function(n,l){var e=t["\u0275unv"](l,14,0,n(l,16,0,t["\u0275nov"](l.parent.parent,0),t["\u0275unv"](l,14,0,t["\u0275nov"](l,15).transform(l.context.$implicit.distance,"distance")),"1.0-1"));n(l,14,0,e),n(l,18,0,t["\u0275unv"](l,18,0,t["\u0275nov"](l,20).transform(t["\u0275unv"](l,18,0,t["\u0275nov"](l,19).transform("KM","Miles")))))})}function Yl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","text-center pt-4"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"app-spinner",[],null,null,null,cl.b,cl.a)),t["\u0275did"](2,49152,null,0,dl.a,[],null,null)],null,null)}function Wl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","no-trips"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,[" "," "])),t["\u0275pid"](131072,a.i,[a.j,t.ChangeDetectorRef])],null,function(n,l){n(l,1,0,t["\u0275unv"](l,1,0,t["\u0275nov"](l,2).transform("You have no recorded trips!")))})}function Jl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","no-trips"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,[" "," "])),t["\u0275pid"](131072,a.i,[a.j,t.ChangeDetectorRef])],null,function(n,l){n(l,1,0,t["\u0275unv"](l,1,0,t["\u0275nov"](l,2).transform("Loading trips failed, please try again later")))})}function Xl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,39,"div",[["class","vehicle-overview-container"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,18,"div",[["class","header pt-4"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,4,"div",[["class","d-flex flex-column align-items-center"]],null,null,null,null,null)),(n()(),t["\u0275eld"](3,0,null,null,1,"app-vehicle-display",[["optionalClass","large"]],null,[[null,"dblclick"]],function(n,l,e){var t=!0;return"dblclick"===l&&(t=!1!==n.component.doubleClickVehicle()&&t),t},G.b,G.a)),t["\u0275did"](4,114688,null,0,E.a,[R.a],{vehicle:[0,"vehicle"],optionalClass:[1,"optionalClass"],selected:[2,"selected"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,Ol)),t["\u0275did"](6,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](7,0,null,null,12,"div",[["class","row"]],null,null,null,null,null)),(n()(),t["\u0275eld"](8,0,null,null,5,"div",[["class","col-6 pr-0"]],null,null,null,null,null)),(n()(),t["\u0275eld"](9,0,null,null,4,"button",[["class","w-100 btn btn-tab"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.clickOverview()&&t),t},null,null)),t["\u0275did"](10,278528,null,0,c.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](11,{active:0}),(n()(),t["\u0275ted"](12,null,["",""])),t["\u0275pid"](131072,a.i,[a.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](14,0,null,null,5,"div",[["class","col-6 pl-0"]],null,null,null,null,null)),(n()(),t["\u0275eld"](15,0,null,null,4,"button",[["class","w-100 btn btn-tab"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.clickDetails()&&t),t},null,null)),t["\u0275did"](16,278528,null,0,c.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](17,{active:0}),(n()(),t["\u0275ted"](18,null,["",""])),t["\u0275pid"](131072,a.i,[a.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](20,0,null,null,19,"perfect-scrollbar",[["class","content"]],[[2,"ps-show-limits",null],[2,"ps-show-active",null]],[[null,"psScrollDown"],[null,"psYReachEnd"]],function(n,l,e){var t=!0,i=n.component;return"psScrollDown"===l&&(t=!1!==i.scrollDown(!1)&&t),"psYReachEnd"===l&&(t=!1!==i.scrollDown(!0)&&t),t},d.b,d.a)),t["\u0275did"](21,507904,[[1,4],["tripHistoryListScrollBar",4]],0,p.b,[t.NgZone,t.ChangeDetectorRef,t.PLATFORM_ID],null,{psScrollDown:"psScrollDown",psYReachEnd:"psYReachEnd"}),(n()(),t["\u0275and"](16777216,null,0,1,null,Rl)),t["\u0275did"](23,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,0,1,null,jl)),t["\u0275did"](25,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](26,0,null,0,5,"div",[["class","row trips-section"]],null,null,null,null,null)),(n()(),t["\u0275eld"](27,0,null,null,2,"div",[["class","col-12 col-md-6 font-weight-medium"]],null,null,null,null,null)),(n()(),t["\u0275ted"](28,null,["",""])),t["\u0275pid"](131072,a.i,[a.j,t.ChangeDetectorRef]),(n()(),t["\u0275and"](16777216,null,null,1,null,$l)),t["\u0275did"](31,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,0,1,null,ql)),t["\u0275did"](33,278528,null,0,c.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275and"](16777216,null,0,1,null,Yl)),t["\u0275did"](35,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,0,1,null,Wl)),t["\u0275did"](37,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,0,1,null,Jl)),t["\u0275did"](39,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,4,0,e.vehicle,"large",!0),n(l,6,0,e.vehicle.address);var t=n(l,11,0,e.overviewTabActive);n(l,10,0,"w-100 btn btn-tab",t);var i=n(l,17,0,!e.overviewTabActive);n(l,16,0,"w-100 btn btn-tab",i),n(l,21,0),n(l,23,0,e.overviewTabActive),n(l,25,0,!e.overviewTabActive),n(l,31,0,e.recentTrips&&e.recentTrips.length>0),n(l,33,0,e.recentTrips),n(l,35,0,!e.isTripsLoaded),n(l,37,0,!e.isLoadingErrorOccured&&e.isTripsLoaded&&0==e.recentTrips.length),n(l,39,0,e.isLoadingErrorOccured)},function(n,l){n(l,12,0,t["\u0275unv"](l,12,0,t["\u0275nov"](l,13).transform("Overview"))),n(l,18,0,t["\u0275unv"](l,18,0,t["\u0275nov"](l,19).transform("Details"))),n(l,20,0,t["\u0275nov"](l,21).autoPropagation,t["\u0275nov"](l,21).scrollIndicators),n(l,28,0,t["\u0275unv"](l,28,0,t["\u0275nov"](l,29).transform("Recent Trips")))})}function Ql(n){return t["\u0275vid"](0,[t["\u0275pid"](0,c.DecimalPipe,[t.LOCALE_ID]),t["\u0275qud"](671088640,1,{tripHistoryListScrollBar:0}),t["\u0275qud"](402653184,2,{dtcDialog:0}),(n()(),t["\u0275eld"](3,0,null,null,5,"div",[["class","vehicle-overview"]],null,null,null,null,null)),t["\u0275did"](4,278528,null,0,c.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),t["\u0275eld"](5,0,null,null,1,"a",[["class","close-list-sidebar-btn d-none d-sm-block"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.closeOverview()&&t),t},null,null)),(n()(),t["\u0275eld"](6,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-caret-left"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,Xl)),t["\u0275did"](8,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](9,0,null,null,1,"app-dtc",[],null,null,null,vl,fl)),t["\u0275did"](10,49152,[[2,4],["dtcDialog",4]],0,pl,[],null,null)],function(n,l){var e=l.component;n(l,4,0,"vehicle-overview",e.slideState),n(l,8,0,e.vehicle)},null)}var ne=function(){function n(n){this._appConfig=n}return n.prototype.ngOnInit=function(){this.f=this._appConfig.getAvailableFeatures()},n}(),le=t["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block}.footer-content[_ngcontent-%COMP%]{display:none;width:100%;background-color:#fff}@media (min-width:576px){.footer-content[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;height:40px}}.footer-text[_ngcontent-%COMP%]{font-size:.75rem;margin-right:25px}"]],data:{}});function ee(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","footer-content"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,2,"span",[["class","footer-text"]],null,null,null,null,null)),(n()(),t["\u0275ted"](2,null,[" "," "])),t["\u0275pid"](131072,a.i,[a.j,t.ChangeDetectorRef])],null,function(n,l){n(l,2,0,t["\u0275unv"](l,2,0,t["\u0275nov"](l,3).transform("This portal is operated by Mojio Inc. (c) 2019, Moj.io Inc.")))})}function te(n){return t["\u0275vid"](0,[(n()(),t["\u0275and"](16777216,null,null,1,null,ee)),t["\u0275did"](1,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){n(l,1,0,l.component.f.footer)},null)}var ie=function(){function n(n,l){this.appState=n,this.route=l,this.shownGeofences=!1}return n.prototype.ngOnInit=function(){var n=this;this._subscription=this.route.parent.url.subscribe(function(l){l.length&&(n.shownGeofences="geofences"===l[0].path)})},n.prototype.ngOnDestroy=function(){this._subscription.unsubscribe()},n}(),oe=t["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function ue(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-geofences",[],null,null,null,w,_)),t["\u0275did"](1,245760,null,0,b,[C],null,null)],function(n,l){n(l,1,0)},null)}function re(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-car-list-sidebar",[],null,null,null,pn,W)),t["\u0275did"](1,245760,null,0,Y,[M.a,z.a,K.a,H.a,R.a],null,null),(n()(),t["\u0275eld"](2,0,null,null,1,"app-live-view-map",[],null,null,null,Wn,Zn)),t["\u0275did"](3,245760,null,0,Hn,[M.a,K.a,z.a,Kn.l,En.a,An.a,vn.a,C,In.a],null,null),(n()(),t["\u0275eld"](4,0,null,null,1,"app-fleet-state",[],[[40,"@visibilityChanged",0]],[["component","@visibilityChanged.done"]],function(n,l,e){var i=!0;return"component:@visibilityChanged.done"===l&&(i=!1!==t["\u0275nov"](n,5).onAnimationDone(e)&&i),i},ol,Xn)),t["\u0275did"](5,245760,null,0,Jn,[M.a,z.a],null,null),(n()(),t["\u0275eld"](6,0,null,null,1,"app-vehicle-overview",[],null,null,null,Ql,yl)),t["\u0275did"](7,245760,null,0,_l,[M.a,z.a,An.a,a.j],null,null),(n()(),t["\u0275and"](16777216,null,null,1,null,ue)),t["\u0275did"](9,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](10,0,null,null,1,"app-footer",[],null,null,null,te,le)),t["\u0275did"](11,114688,null,0,ne,[M.a],null,null)],function(n,l){var e=l.component;n(l,1,0),n(l,3,0),n(l,5,0),n(l,7,0),n(l,9,0,e.shownGeofences),n(l,11,0)},function(n,l){n(l,4,0,t["\u0275nov"](l,5).displayState)})}function se(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"home",[],null,null,null,re,oe)),t["\u0275did"](1,245760,null,0,ie,[K.a,Kn.a],null,null)],function(n,l){n(l,1,0)},null)}var ae=t["\u0275ccf"]("home",ie,se,{},{},[]),ce=e("+MoC"),de=e("S7LP"),pe=e("6aHO"),fe=e("008C"),ge=e("t/Na"),he=e("kVKH"),ve=e("PgCX"),me=e("o52G"),Ce=e("Fq6B"),be=e("uhLm"),_e=e("dxr7"),ye=e("BdWp"),Oe=function(){return function(){}}(),xe=e("ATTh"),we=function(){return function(){}}(),Pe=function(){return function(){}}();e.d(l,"HomeModuleNgFactory",function(){return ke});var ke=t["\u0275cmf"](i,[],function(n){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[o.a,u.a,r.a,s.a,ae]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,c.NgLocalization,c.NgLocaleLocalization,[t.LOCALE_ID,[2,c["\u0275angular_packages_common_common_a"]]]),t["\u0275mpd"](4608,ce.a,ce.a,[In.a]),t["\u0275mpd"](4608,de.a,de.a,[]),t["\u0275mpd"](4608,pe.a,pe.a,[t.ComponentFactoryResolver,t.NgZone,t.Injector,de.a,t.ApplicationRef]),t["\u0275mpd"](4608,fe.a,fe.a,[t.RendererFactory2,pe.a]),t["\u0275mpd"](4608,c.DatePipe,c.DatePipe,[t.LOCALE_ID]),t["\u0275mpd"](4608,I.g,I.d,[ge.c]),t["\u0275mpd"](5120,I.f,I.c,[[3,I.f],I.g,t.PLATFORM_ID,[2,I.b],[2,c.DOCUMENT]]),t["\u0275mpd"](1073742336,c.CommonModule,c.CommonModule,[]),t["\u0275mpd"](1073742336,he.a,he.a,[]),t["\u0275mpd"](1073742336,ve.a,ve.a,[]),t["\u0275mpd"](1073742336,me.a,me.a,[]),t["\u0275mpd"](1073742336,zn.a,zn.a,[]),t["\u0275mpd"](1073742336,a.g,a.g,[]),t["\u0275mpd"](1073742336,p.d,p.d,[]),t["\u0275mpd"](1073742336,Ce.a,Ce.a,[]),t["\u0275mpd"](1073742336,be.a,be.a,[]),t["\u0275mpd"](1073742336,_e.a,_e.a,[]),t["\u0275mpd"](1073742336,ye.a,ye.a,[]),t["\u0275mpd"](1073742336,I.a,I.a,[]),t["\u0275mpd"](1073742336,Oe,Oe,[]),t["\u0275mpd"](1073742336,Kn.o,Kn.o,[[2,Kn.u],[2,Kn.l]]),t["\u0275mpd"](1073742336,xe.a,xe.a,[]),t["\u0275mpd"](1073742336,we,we,[]),t["\u0275mpd"](1073742336,Pe,Pe,[]),t["\u0275mpd"](1073742336,i,i,[]),t["\u0275mpd"](1024,Kn.j,function(){return[[{path:"",component:ie}]]},[])])})}}]);