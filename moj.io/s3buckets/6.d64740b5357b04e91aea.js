(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{NJ4I:function(l,n,e){"use strict";e.r(n);var t={};e.r(t),e.d(t,"BUSINESS",function(){return Tn}),e.d(t,"PERSONAL",function(){return xn});var i=e("CcnG"),u=function(){return function(){}}(),o=e("ueff"),r=e("lOTE"),s=e("gfs7"),a=e("pMnS"),c=e("WmtN"),d=e("iXb4"),p=e("bse0"),g=e("A7o+"),f=e("Ip0R"),h=e("1O70"),m=e("WZiZ"),v=e("1l6o"),C=function(){function l(){this.select=new i.EventEmitter}return l.prototype.trackById=function(l,n){return n.Id},l}(),b=i["\u0275crt"]({encapsulation:0,styles:[[".car-list[_ngcontent-%COMP%]   .vehicle-row[_ngcontent-%COMP%]{padding:0}.car-list[_ngcontent-%COMP%]   .vehicle-row[_ngcontent-%COMP%]   .vehicle-wrapper[_ngcontent-%COMP%]{padding:.5rem 0}.car-list[_ngcontent-%COMP%]   .vehicle-row.selected[_ngcontent-%COMP%]   .vehicle-wrapper[_ngcontent-%COMP%]{border-left:5px solid var(--primary);padding-right:5px;background-color:#e8e8e8}"]],data:{}});function y(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,3,"div",[["class","text-center"]],null,null,null,null,null)),(l()(),i["\u0275eld"](1,0,null,null,2,"small",[],null,null,null,null,null)),(l()(),i["\u0275ted"](2,null,["",""])),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef])],null,function(l,n){l(n,2,0,i["\u0275unv"](n,2,0,i["\u0275nov"](n,3).transform("Loading vehicles")))})}function M(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,3,"div",[["class","text-center"]],null,null,null,null,null)),(l()(),i["\u0275eld"](1,0,null,null,2,"small",[],null,null,null,null,null)),(l()(),i["\u0275ted"](2,null,["",""])),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef])],null,function(l,n){l(n,2,0,i["\u0275unv"](n,2,0,i["\u0275nov"](n,3).transform("No records found")))})}function T(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,6,"div",[["class","row vehicle-row"]],null,null,null,null,null)),i["\u0275did"](1,278528,null,0,f.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](2,{selected:0}),(l()(),i["\u0275eld"](3,0,null,null,3,"div",[["class","col"]],null,null,null,null,null)),(l()(),i["\u0275eld"](4,0,null,null,2,"div",[["class","vehicle-wrapper"]],null,null,null,null,null)),(l()(),i["\u0275eld"](5,0,null,null,1,"app-vehicle-display",[["optionalClass","cursor-pointer px-1"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.select.emit(l.context.$implicit)&&t),t},h.b,h.a)),i["\u0275did"](6,114688,null,0,m.a,[v.a],{vehicle:[0,"vehicle"],optionalClass:[1,"optionalClass"],selected:[2,"selected"]},null)],function(l,n){var e=l(n,2,0,n.context.$implicit.isSelected);l(n,1,0,"row vehicle-row",e),l(n,6,0,n.context.$implicit,"cursor-pointer px-1",n.context.$implicit.isSelected)},null)}function x(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,6,"div",[["class","car-list"]],null,null,null,null,null)),(l()(),i["\u0275and"](16777216,null,null,1,null,y)),i["\u0275did"](2,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275and"](16777216,null,null,1,null,M)),i["\u0275did"](4,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275and"](16777216,null,null,1,null,T)),i["\u0275did"](6,278528,null,0,f.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],function(l,n){var e=n.component;l(n,2,0,!e.isListLoaded),l(n,4,0,e.isListLoaded&&!(null!=e.list&&e.list.length)),l(n,6,0,e.list,e.trackById)},null)}var _=e("dArN"),D=e("XhJV"),I=e("6aHO"),w=e("OsAV"),R=e("DXLV"),O=e("0fgc"),k=e("ZYCi"),P=e("VQd/"),S=e("AbPr"),L=e("UgwL"),V=e("CHF0"),E=e("B4gM"),N=e("Gxtu"),A=e("TJWg");function j(l){var n=[],e={};return l.forEach(function(l){var t=function(l,n){var e=[l.getDate(),l.getMonth(),l.getFullYear()].join(":");return n[e]||(n[e]={Id:e,date:l,trips:[]}),n[e]}(new Date(l.startTime),e);-1===n.indexOf(t)&&n.push(t),t.trips.push(l)}),n}var F=function(){return function(){this.days=[]}}(),H=function(){function l(l,n,e){this._viewContainer=l,this._templateRef=n,this._differs=e,this._view=null,this._differ=null}return l.prototype.ngOnChanges=function(l){if("tripsToDays"in l){var n=l.tripsToDays.currentValue;!this._differ&&n&&(this._differ=this._differs.find(n).create(this._trackByFn))}},l.prototype.ngDoCheck=function(){this._differ&&this._differ.diff(this.tripsToDays)&&this._updateView(this.tripsToDays)},l.prototype.ngOnInit=function(){this._view=this._viewContainer.createEmbeddedView(this._templateRef,new F)},l.prototype._trackByFn=function(l,n){return n.Id},l.prototype._updateView=function(l){this._view&&(this._view.context.days=j(l))},l}(),B=e("F5nt"),$=function(){return function(l){this.appState=l,this.tripsList=[],this.visible=!1,this.visibleChange=new i.EventEmitter,this.tripPurposesList=[{label:"Between Offices",value:"Between Offices"},{label:"Customer Visit",value:"Customer Visit"},{label:"Meeting",value:"Meeting"},{label:"Supplies / Errand",value:"Supplies / Errand"},{label:"Temporary Work Site",value:"Temporary Work Site"},{label:"Meals or Entertainment",value:"Meals or Entertainment"},{label:"Train / Airport",value:"Train / Airport"}]}}(),z=i["\u0275crt"]({encapsulation:0,styles:[[".dialog-selected-trips[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-weight:700;padding-bottom:16px;padding-top:24px;opacity:.6}.dialog-selected-trips[_ngcontent-%COMP%]   .trip[_ngcontent-%COMP%]{display:flex;font-size:.875rem;padding:.5rem .5rem .5rem 0}.dialog-selected-trips[_ngcontent-%COMP%]   .trip[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center;padding-left:16px}.dialog-selected-trips[_ngcontent-%COMP%]   .trip[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{justify-content:center}.dialog-selected-trips[_ngcontent-%COMP%]   .trip[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-size:12px;opacity:.6}.dialog-selected-trips[_ngcontent-%COMP%]   .trip[_ngcontent-%COMP%]   .address[_ngcontent-%COMP%]{margin-top:4px}.dialog-selected-trips[_ngcontent-%COMP%]   .trip[_ngcontent-%COMP%]   .start-address[_ngcontent-%COMP%]{display:flex;align-items:center}.dialog-selected-trips[_ngcontent-%COMP%]   .trip[_ngcontent-%COMP%]   .start-address[_ngcontent-%COMP%]::before{-webkit-mask-image:url(/assets/img/dot-circle-solid.svg);-webkit-mask-position:left center;-webkit-mask-repeat:no-repeat;-webkit-mask-size:10px 10px;mask-image:url(/assets/img/dot-circle-solid.svg);mask-position:left center;mask-repeat:no-repeat;mask-size:10px 10px;content:' ';display:block;height:10px;width:14px;padding:0;margin-right:13px;flex-shrink:0;background-color:var(--primary)}.dialog-selected-trips[_ngcontent-%COMP%]   .trip[_ngcontent-%COMP%]   .finish-icon[_ngcontent-%COMP%]{margin-right:16px;color:var(--primary)}.dialog-selected-trips[_ngcontent-%COMP%]   .trip[_ngcontent-%COMP%]   .toggle-icon[_ngcontent-%COMP%]{font-size:12px;margin-right:32px}.dialog-selected-trips[_ngcontent-%COMP%]   .trip[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]{background:0;border:0;cursor:pointer}.dialog-selected-trips[_ngcontent-%COMP%]   .padding-left[_ngcontent-%COMP%]{padding-left:1rem}"]],data:{}});function K(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","time"]],null,null,null,null,null)),(l()(),i["\u0275ted"](1,null,[" "," "])),i["\u0275pid"](131072,P.a,[i.ChangeDetectorRef,g.j,S.a])],null,function(l,n){l(n,1,0,i["\u0275unv"](n,1,0,i["\u0275nov"](n,2).transform(n.parent.context.$implicit.startTime,"@time")))})}function W(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","address"]],null,null,null,null,null)),(l()(),i["\u0275eld"](1,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),i["\u0275ted"](2,null,["",""]))],null,function(l,n){l(n,2,0,n.parent.context.$implicit.startAddress)})}function q(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","time"]],null,null,null,null,null)),(l()(),i["\u0275ted"](1,null,[" "," "])),i["\u0275pid"](131072,P.a,[i.ChangeDetectorRef,g.j,S.a])],null,function(l,n){l(n,1,0,i["\u0275unv"](n,1,0,i["\u0275nov"](n,2).transform(n.parent.context.$implicit.endTime,"@time")))})}function U(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),i["\u0275eld"](1,0,null,null,1,"div",[["class","address"]],null,null,null,null,null)),(l()(),i["\u0275ted"](2,null,[" "," "]))],null,function(l,n){l(n,2,0,n.parent.context.$implicit.endAddress)})}function Y(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,25,"div",[],null,null,null,null,null)),(l()(),i["\u0275eld"](1,0,null,null,24,"div",[["class","trip row border-bottom"]],null,null,null,null,null)),(l()(),i["\u0275eld"](2,0,null,null,2,"div",[["class","col-12 col-md-3 border-right"]],null,null,null,null,null)),(l()(),i["\u0275ted"](3,null,[" "," "])),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef]),(l()(),i["\u0275eld"](5,0,null,null,6,"div",[["class","col-12 col-md-3 border-right pt-2 pt-sm-0"]],null,null,null,null,null)),(l()(),i["\u0275eld"](6,0,null,null,5,"div",[["class","start-address"]],null,null,null,null,null)),(l()(),i["\u0275eld"](7,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),i["\u0275and"](16777216,null,null,1,null,K)),i["\u0275did"](9,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275and"](16777216,null,null,1,null,W)),i["\u0275did"](11,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275eld"](12,0,null,null,6,"div",[["class","col-12 col-md-3 border-right pt-2 pt-sm-0"]],null,null,null,null,null)),(l()(),i["\u0275eld"](13,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-map-marker finish-icon"]],null,null,null,null,null)),(l()(),i["\u0275eld"](14,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),i["\u0275and"](16777216,null,null,1,null,q)),i["\u0275did"](16,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275and"](16777216,null,null,1,null,U)),i["\u0275did"](18,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275eld"](19,0,null,null,6,"div",[["class","col-12 col-md-3 pt-2 pt-sm-0"]],null,null,null,null,null)),(l()(),i["\u0275eld"](20,0,null,null,5,"div",[],null,null,null,null,null)),(l()(),i["\u0275ted"](21,null,[" "," "," "])),i["\u0275pid"](131072,L.a,[i.ChangeDetectorRef,V.a]),i["\u0275ppd"](23,2),i["\u0275pid"](131072,E.a,[V.a,i.ChangeDetectorRef]),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef])],function(l,n){l(n,9,0,n.context.$implicit.startTime),l(n,11,0,n.context.$implicit.startAddress),l(n,16,0,n.context.$implicit.endTime),l(n,18,0,n.context.$implicit.endAddress)},function(l,n){l(n,3,0,n.context.$implicit.vehicleName||i["\u0275unv"](n,3,0,i["\u0275nov"](n,4).transform("No name")));var e=i["\u0275unv"](n,21,0,l(n,23,0,i["\u0275nov"](n.parent.parent.parent,0),i["\u0275unv"](n,21,0,i["\u0275nov"](n,22).transform(n.context.$implicit.distance,"distance")),"1.0-1"));l(n,21,0,e,i["\u0275unv"](n,21,1,i["\u0275nov"](n,25).transform(i["\u0275unv"](n,21,1,i["\u0275nov"](n,24).transform("KM","Miles")))))})}function G(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,5,"div",[["class","trips-for-day"]],null,null,null,null,null)),(l()(),i["\u0275eld"](1,0,null,null,2,"div",[["class","date padding-left row border-bottom"]],null,null,null,null,null)),(l()(),i["\u0275ted"](2,null,[" "," "])),i["\u0275pid"](131072,P.a,[i.ChangeDetectorRef,g.j,S.a]),(l()(),i["\u0275and"](16777216,null,null,1,null,Y)),i["\u0275did"](5,278528,null,0,f.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,5,0,n.context.$implicit.trips)},function(l,n){l(n,2,0,i["\u0275unv"](n,2,0,i["\u0275nov"](n,3).transform(n.context.$implicit.date)))})}function Z(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),i["\u0275and"](16777216,null,null,1,null,G)),i["\u0275did"](2,278528,null,0,f.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.context.days)},null)}function X(l){return i["\u0275vid"](0,[i["\u0275pid"](0,f.DecimalPipe,[i.LOCALE_ID]),(l()(),i["\u0275eld"](1,0,null,null,10,"app-common-dialog",[["bodyClass","px-3"],["headerClass","px-3"]],null,[[null,"visibilityChange"]],function(l,n,e){var t=!0;return"visibilityChange"===n&&(t=!1!==l.component.visibleChange.emit(e)&&t),t},N.b,N.a)),i["\u0275did"](2,638976,null,0,A.a,[],{bodyClass:[0,"bodyClass"],headerClass:[1,"headerClass"],visibility:[2,"visibility"]},{visibilityChange:"visibilityChange"}),(l()(),i["\u0275eld"](3,0,null,1,3,"div",[["class","dialog-selected-trips"]],null,null,null,null,null)),(l()(),i["\u0275eld"](4,0,null,null,2,"div",[["class",""]],null,null,null,null,null)),(l()(),i["\u0275and"](16777216,null,null,1,null,Z)),i["\u0275did"](6,868352,null,0,H,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{tripsToDays:[0,"tripsToDays"]},null),i["\u0275ncd"](1,0),(l()(),i["\u0275eld"](8,0,null,0,1,"div",[["commonDialogHeader",""]],null,null,null,null,null)),i["\u0275ncd"](null,1),(l()(),i["\u0275eld"](10,0,null,2,1,"div",[["commonDialogFooter",""]],null,null,null,null,null)),i["\u0275ncd"](null,2)],function(l,n){var e=n.component;l(n,2,0,"px-3","px-3",e.visible),l(n,6,0,e.tripsList)},null)}var J=e("gIcY");function Q(l,n){return Array(n-l+1).fill(0).map(function(n,e){return l+e})}var ll=function(){function l(l,n){this._datePipe=l,this._translate=n,this.selectedMinChange=new i.EventEmitter,this.selectedMaxChange=new i.EventEmitter}return l.prototype.ngOnInit=function(){var l=this;this.locale=this._getLocale(this._translate.currentLang),this._langSubs=this._translate.onLangChange.subscribe(function(){l.locale=l._getLocale(l._translate.currentLang)}),this.upMonthDays()},l.prototype.ngOnChanges=function(l){l.defaultDate&&this.defaultDate&&this.upMonthDays()},l.prototype.ngOnDestroy=function(){this._langSubs.unsubscribe()},l.prototype.onDayClick=function(l){l&&!this.isDayDisabled(l)&&(this.selectedMin&&!this.selectedMax&&this._getDateTimeCode(this.selectedMin)<this._getDayTimeCode(l)?(this.selectedMax=this._dayToDate(l),this.selectedMaxChange.emit(this.selectedMax)):(this.selectedMin=this._dayToDate(l),this.selectedMinChange.emit(this.selectedMin),this.selectedMax=null,this.selectedMaxChange.emit(null)))},l.prototype.isDayDisabled=function(l){return this.minDate&&this._getDateTimeCode(this.minDate)>this._getDayTimeCode(l)||this.maxDate&&this._getDateTimeCode(this.maxDate)<this._getDayTimeCode(l)},l.prototype.isDaySelected=function(l){return l&&(this.selectedMin&&this._getDateTimeCode(this.selectedMin)===this._getDayTimeCode(l)||this.selectedMax&&this._getDateTimeCode(this.selectedMax)===this._getDayTimeCode(l))},l.prototype.isDayHighlighted=function(l){return l&&this.selectedMin&&this.selectedMax&&this._getDateTimeCode(this.selectedMin)<this._getDayTimeCode(l)&&this._getDateTimeCode(this.selectedMax)>this._getDayTimeCode(l)},l.prototype.upMonthDays=function(){var l=this.defaultDate||new Date;this.currentMonth=l.getMonth(),this.currentYear=l.getFullYear(),this.monthWeeks=this._getMonthWeeksWithDays(this.currentMonth,this.currentYear,this.locale.firstDayOfWeek)},l.prototype._getMonthWeeksWithDays=function(l,n,e){var t=new Date;t.setDate(1),t.setMonth(l),t.setFullYear(n);var i=t.getDay()-e,u=Array(i>0?i:7-i).fill(0).concat(Q(1,this._getDaysCountInMonth(l,n))).map(function(l,n,e){return n%7==0?e.slice(n,n+7):null}).filter(function(l){return l}),o=u[u.length-1];return o.length<7&&Q(1,7-o.length).forEach(function(){return o.push(0)}),u},l.prototype._getDaysCountInMonth=function(l,n){return new Date(n,l+1,0).getDate()},l.prototype._getLocale=function(l){var n=this,e=this._translate.instant("monthsList").split(","),t=new Date(1978,0,1);return{firstDayOfWeek:0,days:Q(1,7).map(function(e){return t.setDate(e),n._datePipe.transform(t,"EEE",null,l)}),months:12===e.length?e:Q(0,11).map(function(e){return t.setMonth(e),n._datePipe.transform(t,"MMMM",null,l)})}},l.prototype._getDateTimeCode=function(l){if(!l)return NaN;var n=l instanceof Date?{d:l.getDate(),m:l.getMonth(),y:l.getFullYear()}:l;return 372*n.y+31*n.m+n.d},l.prototype._getDayTimeCode=function(l){return this._getDateTimeCode({d:l,m:this.currentMonth,y:this.currentYear})},l.prototype._dayToDate=function(l){return new Date(this.currentYear,this.currentMonth,l)},l}(),nl=i["\u0275crt"]({encapsulation:0,styles:[[".app-day-picker[_ngcontent-%COMP%]{display:inline-block;min-height:465px}.app-day-picker[_ngcontent-%COMP%]   .picker-title[_ngcontent-%COMP%]{font-size:1rem;line-height:1.8rem;text-align:center;padding:1rem;border-bottom:3px solid #f7f7f7}.app-day-picker[_ngcontent-%COMP%]   .picker-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .app-day-picker[_ngcontent-%COMP%]   .picker-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{height:57px;width:57px;text-align:center;border:2px solid var(--white)}.app-day-picker[_ngcontent-%COMP%]   .picker-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:.75rem;font-weight:400;text-transform:uppercase}.app-day-picker[_ngcontent-%COMP%]   .picker-table[_ngcontent-%COMP%]   .day-cell[_ngcontent-%COMP%]{background-color:#f7f7f7;font-size:1rem;cursor:pointer}.app-day-picker[_ngcontent-%COMP%]   .picker-table[_ngcontent-%COMP%]   .day-cell.disabled[_ngcontent-%COMP%]{cursor:default;opacity:.35}.app-day-picker[_ngcontent-%COMP%]   .picker-table[_ngcontent-%COMP%]   .day-cell.highlighted[_ngcontent-%COMP%], .app-day-picker[_ngcontent-%COMP%]   .picker-table[_ngcontent-%COMP%]   .day-cell.selected[_ngcontent-%COMP%]{color:var(--white);background-color:var(--primary)}.app-day-picker[_ngcontent-%COMP%]   .picker-table[_ngcontent-%COMP%]   .day-cell.highlighted[_ngcontent-%COMP%]{opacity:.4}@media (max-width:575.98px){.app-day-picker[_ngcontent-%COMP%]{min-height:305px}.app-day-picker[_ngcontent-%COMP%]   .picker-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .app-day-picker[_ngcontent-%COMP%]   .picker-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{height:35px;width:35px}.app-day-picker[_ngcontent-%COMP%]   .picker-table[_ngcontent-%COMP%]   td.day-cell[_ngcontent-%COMP%], .app-day-picker[_ngcontent-%COMP%]   .picker-table[_ngcontent-%COMP%]   th.day-cell[_ngcontent-%COMP%]{font-size:.9rem}}"]],data:{}});function el(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),i["\u0275ted"](1,null,[" "," "]))],null,function(l,n){var e=n.component;l(n,1,0,e.locale.days[(n.context.$implicit+e.locale.firstDayOfWeek)%7])})}function tl(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,3,"td",[],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onDayClick(l.context.$implicit)&&t),t},null,null)),i["\u0275did"](1,278528,null,0,f.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngClass:[0,"ngClass"]},null),i["\u0275pod"](2,{"day-cell":0,disabled:1,selected:2,highlighted:3}),(l()(),i["\u0275ted"](3,null,[" "," "]))],function(l,n){var e=n.component,t=l(n,2,0,n.context.$implicit,e.isDayDisabled(n.context.$implicit),e.isDaySelected(n.context.$implicit),e.isDayHighlighted(n.context.$implicit));l(n,1,0,t)},function(l,n){l(n,3,0,n.context.$implicit?n.context.$implicit:"")})}function il(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,2,"tr",[],null,null,null,null,null)),(l()(),i["\u0275and"](16777216,null,null,1,null,tl)),i["\u0275did"](2,278528,null,0,f.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.context.$implicit)},null)}function ul(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,11,"div",[["class","app-day-picker"]],null,null,null,null,null)),i["\u0275did"](1,278528,null,0,f.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),i["\u0275eld"](2,0,null,null,1,"div",[["class","picker-title"]],null,null,null,null,null)),(l()(),i["\u0275ted"](3,null,[" "," "," "])),(l()(),i["\u0275eld"](4,0,null,null,7,"table",[["class","picker-table"]],null,null,null,null,null)),(l()(),i["\u0275eld"](5,0,null,null,6,"tbody",[],null,null,null,null,null)),(l()(),i["\u0275eld"](6,0,null,null,3,"tr",[],null,null,null,null,null)),(l()(),i["\u0275and"](16777216,null,null,2,null,el)),i["\u0275did"](8,278528,null,0,f.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),i["\u0275pad"](9,7),(l()(),i["\u0275and"](16777216,null,null,1,null,il)),i["\u0275did"](11,278528,null,0,f.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,1,0,"app-day-picker",e.customClass);var t=l(n,9,0,0,1,2,3,4,5,6);l(n,8,0,t),l(n,11,0,e.monthWeeks)},function(l,n){var e=n.component;l(n,3,0,e.locale.months[e.currentMonth],e.currentYear)})}var ol=e("gMr2"),rl=e("QpxQ"),sl=e("P6uZ"),al=e("PAny"),cl=e("cnYv"),dl=function(){function l(l,n,e){this.appState=l,this._vehicles=n,this._tripsService=e,this.visibility=!1,this.visibilityChange=new i.EventEmitter,this.exportForAllVehicles=!1,this.exportAsOptions=[{label:"CSV",value:"csv"},{label:"PDF",value:"pdf"}],this.format=this.exportAsOptions[0].value,this.exportEntryHistory=!1,this.maxDate=new Date,this.success=new i.EventEmitter,this.error=new i.EventEmitter}return l.prototype.ngOnInit=function(){var l=this;this._upEmail(),this._vehicles.vehiclesListStream().pipe(Object(sl.a)()).subscribe(function(n){var e=n.map(function(l){return l.createdOn}).reduce(function(l,n){return l<n?l:n},null);e&&(l.allVehiclesMinDate=new Date(e))})},l.prototype.onAllVehicleExportChanged=function(){this._upMinStartDates()},l.prototype.ngOnChanges=function(){this._upMinStartDates(),this._upEmail()},l.prototype.navBackward=function(l){this.firstMonthDate=new Date(this.firstMonthDate),this.firstMonthDate.setMonth(this.firstMonthDate.getMonth()-1),this._upNextDate()},l.prototype.navForward=function(l){this.firstMonthDate=new Date(this.firstMonthDate),this.firstMonthDate.setMonth(this.firstMonthDate.getMonth()+1),this._upNextDate()},l.prototype.exportTripHistory=function(){var l,n;this.exportEntryHistory?(l=new Date(this.vehicle.createdOn),n=new Date):(l=this.startDate,n=this.endDate),this._export(this.exportForAllVehicles?[]:[this.vehicle.id],l,n,this.format)},l.prototype._upMinStartDates=function(){var l=this;this.vehicle&&!this.exportForAllVehicles&&(this.startDate=new Date(this.vehicle.createdOn),this.endDate=null,this.minDate=this.startDate),this.exportForAllVehicles&&(this.startDate=this.allVehiclesMinDate,this.endDate=null,this.minDate=this.allVehiclesMinDate),this.startDate&&this.visibility&&!this.endDate&&setTimeout(function(){l._upCalendarsPosition(l.startDate)})},l.prototype._upCalendarsPosition=function(l){this.firstMonthDate=l,this._upNextDate()},l.prototype._upNextDate=function(){this.nextMonthDate=new Date(this.firstMonthDate),this.nextMonthDate.setMonth(this.nextMonthDate.getMonth()+1)},l.prototype._upEmail=function(){var l=this.appState.get("user");l.Emails.length>0&&(this.email=l.Emails[0].Address)},l.prototype._export=function(l,n,e,t){var i=this;this.exportInProgress=!0,this._tripsService.tripSummary(l,n,e,t).subscribe(function(){i.exportInProgress=!1,i.success.emit()},function(l){i.exportInProgress=!1,i.error.emit(l)})},l}(),pl=i["\u0275crt"]({encapsulation:0,styles:[[".trip-history-export-dialog{max-width:1220px;margin-left:auto;margin-right:auto}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;margin-right:1rem}.all-vehicles-chk[_ngcontent-%COMP%]{font-size:14px;flex-shrink:0;margin-right:60px;font-weight:500}.sub-title[_ngcontent-%COMP%]{opacity:.6}.content-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.content-wrapper[_ngcontent-%COMP%]   .calendar-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.nav-button[_ngcontent-%COMP%]{background:rgba(255,255,255,.7);border:0;width:7%;margin:2px;z-index:1}.export-entry-trip[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-top:32px}.export-form-wrapper[_ngcontent-%COMP%]{margin:32px 7%;border-top:2px solid #dcdcdc;padding-top:32px}.export-form-wrapper[_ngcontent-%COMP%]   .inputtext[_ngcontent-%COMP%]{font-size:.875rem;line-height:.875rem;padding:7px;height:auto;background-color:#f7f7f7}.export-form-wrapper[_ngcontent-%COMP%]   .format-select[_ngcontent-%COMP%]{font-size:.875rem;line-height:.875rem}.export-form-wrapper[_ngcontent-%COMP%]   .format-select[_ngcontent-%COMP%]     .ng-select-container{height:auto;min-height:32px;background-color:#f7f7f7}.disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}.disabled[_ngcontent-%COMP%]   .btn[disabled][_ngcontent-%COMP%]{opacity:1}"]],data:{}});function gl(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,4,"h5",[],null,null,null,null,null)),(l()(),i["\u0275ted"](1,null,[" "," "])),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef]),i["\u0275pod"](3,{vehicleName:0}),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef])],null,function(l,n){var e=n.component,t=i["\u0275unv"](n,1,0,i["\u0275nov"](n,4).transform("TripHistoryExportTitle",l(n,3,0,(null==e.vehicle?null:e.vehicle.name)||i["\u0275unv"](n,1,0,i["\u0275nov"](n,2).transform("No name")))));l(n,1,0,t)})}function fl(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,2,"h5",[],null,null,null,null,null)),(l()(),i["\u0275ted"](1,null,[" "," "])),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef])],null,function(l,n){l(n,1,0,i["\u0275unv"](n,1,0,i["\u0275nov"](n,2).transform("Export Trip History for all vehicles")))})}function hl(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,0,"i",[["class","fa fa-spin fa-circle-o-notch"]],null,null,null,null,null))],null,null)}function ml(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,86,"app-common-dialog",[["customClass","trip-history-export-dialog"]],null,[[null,"visibilityChange"]],function(l,n,e){var t=!0;return"visibilityChange"===n&&(t=!1!==l.component.visibilityChange.emit(e)&&t),t},N.b,N.a)),i["\u0275did"](1,638976,null,0,A.a,[],{customClass:[0,"customClass"],visibility:[1,"visibility"]},{visibilityChange:"visibilityChange"}),(l()(),i["\u0275eld"](2,0,null,0,15,"div",[["class","header flex-wrap flex-sm-nowrap"],["commonDialogHeader",""]],null,null,null,null,null)),(l()(),i["\u0275and"](16777216,null,null,1,null,gl)),i["\u0275did"](4,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275and"](16777216,null,null,1,null,fl)),i["\u0275did"](6,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275eld"](7,0,null,null,10,"label",[["class","app-checkbox mb-0 all-vehicles-chk"]],null,null,null,null,null)),(l()(),i["\u0275eld"](8,0,null,null,2,"span",[["class","pl-2"]],null,null,null,null,null)),(l()(),i["\u0275ted"](9,null,["",""])),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef]),(l()(),i["\u0275eld"](11,0,null,null,5,"input",[["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var t=!0,u=l.component;return"change"===n&&(t=!1!==i["\u0275nov"](l,12).onChange(e.target.checked)&&t),"blur"===n&&(t=!1!==i["\u0275nov"](l,12).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(u.exportForAllVehicles=e)&&t),"change"===n&&(t=!1!==u.onAllVehicleExportChanged()&&t),t},null,null)),i["\u0275did"](12,16384,null,0,J.b,[i.Renderer2,i.ElementRef],null,null),i["\u0275prd"](1024,null,J.j,function(l){return[l]},[J.b]),i["\u0275did"](14,671744,null,0,J.m,[[8,null],[8,null],[8,null],[6,J.j]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,J.k,null,[J.m]),i["\u0275did"](16,16384,null,0,J.l,[[4,J.k]],null,null),(l()(),i["\u0275eld"](17,0,null,null,0,"span",[["class","checkmark fa fa-check"]],null,null,null,null,null)),(l()(),i["\u0275eld"](18,0,null,1,13,"div",[],null,null,null,null,null)),(l()(),i["\u0275eld"](19,0,null,null,2,"div",[["class","sub-title"]],null,null,null,null,null)),(l()(),i["\u0275ted"](20,null,[" "," "])),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef]),(l()(),i["\u0275eld"](22,0,null,null,9,"div",[["class","content-wrapper"]],[[2,"disabled",null]],null,null,null,null)),(l()(),i["\u0275eld"](23,0,null,null,1,"button",[["class","nav-button align-left"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.navBackward(e)&&t),t},null,null)),(l()(),i["\u0275eld"](24,0,null,null,0,"i",[["class","fa fa-chevron-left"]],null,null,null,null,null)),(l()(),i["\u0275eld"](25,0,null,null,4,"div",[["class","calendar-wrapper"]],null,null,null,null,null)),(l()(),i["\u0275eld"](26,0,null,null,1,"app-day-picker",[],null,[[null,"selectedMinChange"],[null,"selectedMaxChange"]],function(l,n,e){var t=!0,i=l.component;return"selectedMinChange"===n&&(t=!1!==(i.startDate=e)&&t),"selectedMaxChange"===n&&(t=!1!==(i.endDate=e)&&t),t},ul,nl)),i["\u0275did"](27,770048,null,0,ll,[f.DatePipe,g.j],{defaultDate:[0,"defaultDate"],minDate:[1,"minDate"],maxDate:[2,"maxDate"],selectedMin:[3,"selectedMin"],selectedMax:[4,"selectedMax"]},{selectedMinChange:"selectedMinChange",selectedMaxChange:"selectedMaxChange"}),(l()(),i["\u0275eld"](28,0,null,null,1,"app-day-picker",[["customClass","d-none d-sm-inline-block"]],null,[[null,"selectedMinChange"],[null,"selectedMaxChange"]],function(l,n,e){var t=!0,i=l.component;return"selectedMinChange"===n&&(t=!1!==(i.startDate=e)&&t),"selectedMaxChange"===n&&(t=!1!==(i.endDate=e)&&t),t},ul,nl)),i["\u0275did"](29,770048,null,0,ll,[f.DatePipe,g.j],{customClass:[0,"customClass"],defaultDate:[1,"defaultDate"],minDate:[2,"minDate"],maxDate:[3,"maxDate"],selectedMin:[4,"selectedMin"],selectedMax:[5,"selectedMax"]},{selectedMinChange:"selectedMinChange",selectedMaxChange:"selectedMaxChange"}),(l()(),i["\u0275eld"](30,0,null,null,1,"button",[["class","nav-button align-right"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.navForward(e)&&t),t},null,null)),(l()(),i["\u0275eld"](31,0,null,null,0,"i",[["class","fa fa-chevron-right"]],null,null,null,null,null)),(l()(),i["\u0275eld"](32,0,null,1,11,"div",[["class","export-entry-trip"]],null,null,null,null,null)),(l()(),i["\u0275eld"](33,0,null,null,10,"label",[["class","app-checkbox mb-0 all-vehicles-chk"]],null,null,null,null,null)),(l()(),i["\u0275eld"](34,0,null,null,2,"span",[["class","pl-2"]],null,null,null,null,null)),(l()(),i["\u0275ted"](35,null,["",""])),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef]),(l()(),i["\u0275eld"](37,0,null,null,5,"input",[["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var t=!0,u=l.component;return"change"===n&&(t=!1!==i["\u0275nov"](l,38).onChange(e.target.checked)&&t),"blur"===n&&(t=!1!==i["\u0275nov"](l,38).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(u.exportEntryHistory=e)&&t),t},null,null)),i["\u0275did"](38,16384,null,0,J.b,[i.Renderer2,i.ElementRef],null,null),i["\u0275prd"](1024,null,J.j,function(l){return[l]},[J.b]),i["\u0275did"](40,671744,null,0,J.m,[[8,null],[8,null],[8,null],[6,J.j]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,J.k,null,[J.m]),i["\u0275did"](42,16384,null,0,J.l,[[4,J.k]],null,null),(l()(),i["\u0275eld"](43,0,null,null,0,"span",[["class","checkmark fa fa-check"]],null,null,null,null,null)),(l()(),i["\u0275eld"](44,0,null,1,42,"div",[["class","export-form-wrapper"]],[[2,"disabled",null]],null,null,null,null)),(l()(),i["\u0275eld"](45,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(l()(),i["\u0275eld"](46,0,null,null,2,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),i["\u0275ted"](47,null,[" "," "])),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef]),(l()(),i["\u0275eld"](49,0,null,null,2,"div",[["class","col-5"]],null,null,null,null,null)),(l()(),i["\u0275ted"](50,null,[" "," "])),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef]),(l()(),i["\u0275eld"](52,0,null,null,34,"div",[["class","row"]],null,null,null,null,null)),(l()(),i["\u0275eld"](53,0,null,null,20,"div",[["class","col-3 px-0 px-sm-3"]],null,null,null,null,null)),(l()(),i["\u0275eld"](54,0,null,null,19,"ng-select",[["bindLabel","label"],["bindValue","value"],["class","format-select ng-select"],["role","listbox"]],[[8,"style",2],[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown"]],function(l,n,e){var t=!0,u=l.component;return"keydown"===n&&(t=!1!==i["\u0275nov"](l,56).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(u.format=e)&&t),t},ol.b,ol.a)),i["\u0275prd"](4608,null,rl.f,rl.f,[]),i["\u0275did"](56,4964352,null,12,rl.a,[[8,"format-select"],[8,null],[8,null],rl.b,rl.d,i.ElementRef,i.ChangeDetectorRef,rl.i],{bindLabel:[0,"bindLabel"],bindValue:[1,"bindValue"],clearable:[2,"clearable"],items:[3,"items"]},null),i["\u0275qud"](335544320,1,{optionTemplate:0}),i["\u0275qud"](335544320,2,{optgroupTemplate:0}),i["\u0275qud"](335544320,3,{labelTemplate:0}),i["\u0275qud"](335544320,4,{multiLabelTemplate:0}),i["\u0275qud"](335544320,5,{headerTemplate:0}),i["\u0275qud"](335544320,6,{footerTemplate:0}),i["\u0275qud"](335544320,7,{notFoundTemplate:0}),i["\u0275qud"](335544320,8,{typeToSearchTemplate:0}),i["\u0275qud"](335544320,9,{loadingTextTemplate:0}),i["\u0275qud"](335544320,10,{tagTemplate:0}),i["\u0275qud"](335544320,11,{loadingSpinnerTemplate:0}),i["\u0275qud"](603979776,12,{ngOptions:1}),i["\u0275prd"](1024,null,J.j,function(l){return[l]},[rl.a]),i["\u0275did"](70,671744,null,0,J.m,[[8,null],[8,null],[8,null],[6,J.j]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,J.k,null,[J.m]),i["\u0275did"](72,16384,null,0,J.l,[[4,J.k]],null,null),i["\u0275pod"](73,{width:0}),(l()(),i["\u0275eld"](74,0,null,null,6,"div",[["class","col-5"]],null,null,null,null,null)),(l()(),i["\u0275eld"](75,0,null,null,5,"input",[["class","w-100 form-control inputtext"],["placeholder","username@domain.com"],["readonly",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var t=!0,u=l.component;return"input"===n&&(t=!1!==i["\u0275nov"](l,76)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==i["\u0275nov"](l,76).onTouched()&&t),"compositionstart"===n&&(t=!1!==i["\u0275nov"](l,76)._compositionStart()&&t),"compositionend"===n&&(t=!1!==i["\u0275nov"](l,76)._compositionEnd(e.target.value)&&t),"ngModelChange"===n&&(t=!1!==(u.email=e)&&t),t},null,null)),i["\u0275did"](76,16384,null,0,J.c,[i.Renderer2,i.ElementRef,[2,J.a]],null,null),i["\u0275prd"](1024,null,J.j,function(l){return[l]},[J.c]),i["\u0275did"](78,671744,null,0,J.m,[[8,null],[8,null],[8,null],[6,J.j]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,J.k,null,[J.m]),i["\u0275did"](80,16384,null,0,J.l,[[4,J.k]],null,null),(l()(),i["\u0275eld"](81,0,null,null,5,"div",[["class","col-4 text-right"]],null,null,null,null,null)),(l()(),i["\u0275eld"](82,0,null,null,4,"button",[["class","btn btn-sm btn-primary px-4"]],[[8,"disabled",0],[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.exportTripHistory()&&t),t},null,null)),(l()(),i["\u0275ted"](83,null,[" "," "])),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef]),(l()(),i["\u0275and"](16777216,null,null,1,null,hl)),i["\u0275did"](86,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,1,0,"trip-history-export-dialog",e.visibility),l(n,4,0,!e.exportForAllVehicles),l(n,6,0,e.exportForAllVehicles),l(n,14,0,e.exportForAllVehicles),l(n,27,0,e.firstMonthDate,e.minDate,e.maxDate,e.startDate,e.endDate),l(n,29,0,"d-none d-sm-inline-block",e.nextMonthDate,e.minDate,e.maxDate,e.startDate,e.endDate),l(n,40,0,e.exportEntryHistory),l(n,56,0,"label","value",!1,e.exportAsOptions),l(n,70,0,e.format),l(n,78,0,e.email),l(n,86,0,e.exportInProgress)},function(l,n){var e=n.component;l(n,9,0,i["\u0275unv"](n,9,0,i["\u0275nov"](n,10).transform("Export for all vehicles"))),l(n,11,0,i["\u0275nov"](n,16).ngClassUntouched,i["\u0275nov"](n,16).ngClassTouched,i["\u0275nov"](n,16).ngClassPristine,i["\u0275nov"](n,16).ngClassDirty,i["\u0275nov"](n,16).ngClassValid,i["\u0275nov"](n,16).ngClassInvalid,i["\u0275nov"](n,16).ngClassPending),l(n,20,0,i["\u0275unv"](n,20,0,i["\u0275nov"](n,21).transform("Pick a Time Frame"))),l(n,22,0,e.exportEntryHistory),l(n,23,0,e.exportEntryHistory),l(n,30,0,e.exportEntryHistory),l(n,35,0,i["\u0275unv"](n,35,0,i["\u0275nov"](n,36).transform("Export Entire Trip History"))),l(n,37,0,i["\u0275nov"](n,42).ngClassUntouched,i["\u0275nov"](n,42).ngClassTouched,i["\u0275nov"](n,42).ngClassPristine,i["\u0275nov"](n,42).ngClassDirty,i["\u0275nov"](n,42).ngClassValid,i["\u0275nov"](n,42).ngClassInvalid,i["\u0275nov"](n,42).ngClassPending),l(n,44,0,!(e.startDate&&e.endDate||e.exportEntryHistory)),l(n,47,0,i["\u0275unv"](n,47,0,i["\u0275nov"](n,48).transform("Export as:"))),l(n,50,0,i["\u0275unv"](n,50,0,i["\u0275nov"](n,51).transform("Send to:")));var t=l(n,73,0,"150px");l(n,54,1,[t,!i["\u0275nov"](n,56).multiple,i["\u0275nov"](n,56).typeahead,i["\u0275nov"](n,56).multiple,i["\u0275nov"](n,56).addTag,i["\u0275nov"](n,56).searchable,i["\u0275nov"](n,56).clearable,i["\u0275nov"](n,56).isOpen,i["\u0275nov"](n,56).disabled,i["\u0275nov"](n,56).filtered,i["\u0275nov"](n,72).ngClassUntouched,i["\u0275nov"](n,72).ngClassTouched,i["\u0275nov"](n,72).ngClassPristine,i["\u0275nov"](n,72).ngClassDirty,i["\u0275nov"](n,72).ngClassValid,i["\u0275nov"](n,72).ngClassInvalid,i["\u0275nov"](n,72).ngClassPending]),l(n,75,0,i["\u0275nov"](n,80).ngClassUntouched,i["\u0275nov"](n,80).ngClassTouched,i["\u0275nov"](n,80).ngClassPristine,i["\u0275nov"](n,80).ngClassDirty,i["\u0275nov"](n,80).ngClassValid,i["\u0275nov"](n,80).ngClassInvalid,i["\u0275nov"](n,80).ngClassPending),l(n,82,0,e.exportInProgress,!(e.startDate&&e.endDate||e.exportEntryHistory)),l(n,83,0,i["\u0275unv"](n,83,0,i["\u0275nov"](n,84).transform("Export")))})}var vl=e("AIIW"),Cl=e("B7Lh"),bl=e("JsDN"),yl=e("KDJi"),Ml=e("G0XU"),Tl=e("IXP5"),xl=e("xvOT"),_l=e("PK9H"),Dl=e("FMkC"),Il=e("Wmu6"),wl=e("Y8qE"),Rl=e("m9cR"),Ol=(e("LOCc"),function(){function l(l){this._appConfig=l,this.visibility=!1,this.visibilityChange=new i.EventEmitter,this.mapShown=!1}return l.prototype.ngOnInit=function(){this.f=this._appConfig.getAvailableFeatures()},l.prototype.onMapLoaded=function(l){l.showContentFromHolder(this.tripMap.getContentHolder(),!0)},l}()),kl=i["\u0275crt"]({encapsulation:0,styles:[[".trip-details-dlg-map{height:450px;width:100%}.trip-parameters[_ngcontent-%COMP%]   .measurement-circle[_ngcontent-%COMP%]{border-width:3px;border-style:solid;border-radius:50%;border-color:var(--primary);display:table;height:78px;margin:0 auto;width:78px}.trip-parameters[_ngcontent-%COMP%]   .measurement-circle[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}.trip-parameters[_ngcontent-%COMP%]   .measurement-circle[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:1.1875rem;font-weight:700;line-height:1.56rem;text-align:center}.trip-parameters[_ngcontent-%COMP%]   .measurement-circle[_ngcontent-%COMP%]   .unit[_ngcontent-%COMP%]{color:rgba(54,54,54,.6);font-size:.75rem;line-height:1rem;text-align:center}.trip-parameters[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{color:rgba(54,54,54,.6);font-size:.875rem;font-weight:500;line-height:1.1875rem;margin-top:3px;text-align:center}.events[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{font-size:22px;font-weight:700;line-height:28px;opacity:.9}.events[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]::before{background-color:transparent;background-position:left bottom;background-repeat:no-repeat;background-size:9px;content:' ';display:inline-block;height:21px;width:14px}.events[_ngcontent-%COMP%]   .rapid-accels[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]::before{background-image:url(/assets/img/icon-harsh-accel.svg);background-size:12px}.events[_ngcontent-%COMP%]   .harsh-decels[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]::before{background-image:url(/assets/img/icon-harsh-decel.svg)}.events[_ngcontent-%COMP%]   .idling[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]::before{background-image:url(/assets/img/icon-harsh-idling.svg)}.events[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:.75rem;font-weight:400;line-height:.875rem;text-align:left;text-transform:uppercase;color:rgba(54,54,54,.6)}"]],data:{}});function Pl(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,6,"app-map",[["className","trip-details-dlg-map"]],null,[[null,"load"],[null,"mousewheel"],[null,"wheel"]],function(l,n,e){var t=!0,u=l.component;return"mousewheel"===n&&(t=!1!==i["\u0275nov"](l,6)._onMouseWheelChrome(e)&&t),"wheel"===n&&(t=!1!==i["\u0275nov"](l,6)._onMouseWheelFirefox(e)&&t),"load"===n&&(t=!1!==u.onMapLoaded(e)&&t),t},vl.b,vl.a)),i["\u0275prd"](4608,null,Cl.a,Cl.a,[]),i["\u0275prd"](1024,null,bl.a,yl.a,[i.NgZone,Ml.a]),i["\u0275prd"](1024,null,Tl.a,xl.a,[i.NgZone,Ml.a]),i["\u0275prd"](1024,null,_l.a,Dl.a,[i.NgZone,Ml.a,bl.a,Tl.a]),i["\u0275prd"](1024,null,Il.a,wl.a,[i.NgZone,Ml.a]),i["\u0275did"](6,245760,null,0,Rl.a,[_l.a,Ml.a,bl.a,Tl.a,Il.a],{className:[0,"className"]},{load:"load"})],function(l,n){l(n,6,0,"trip-details-dlg-map")},null)}function Sl(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,0,"div",[["class","trip-details-dlg-map bg-light"]],null,null,null,null,null))],null,null)}function Ll(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","value"]],null,null,null,null,null)),(l()(),i["\u0275ted"](1,null,["",""]))],null,function(l,n){l(n,1,0,n.component.trip.durationHours)})}function Vl(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","value"]],null,null,null,null,null)),(l()(),i["\u0275ted"](1,null,["",":",""])),i["\u0275ppd"](2,2)],null,function(l,n){var e=n.component,t=e.trip.durationHours,u=i["\u0275unv"](n,1,1,l(n,2,0,i["\u0275nov"](n.parent,0),e.trip.durationMinutes,"2.0"));l(n,1,0,t,u)})}function El(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,3,"div",[["class","unit"]],null,null,null,null,null)),(l()(),i["\u0275ted"](1,null,["",""])),i["\u0275pod"](2,{count:0}),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef])],null,function(l,n){var e=n.component,t=i["\u0275unv"](n,1,0,i["\u0275nov"](n,3).transform("HR",l(n,2,0,e.trip.durationHours)));l(n,1,0,t)})}function Nl(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","value"]],null,null,null,null,null)),(l()(),i["\u0275ted"](1,null,["",""]))],null,function(l,n){l(n,1,0,n.component.trip.durationMinutes)})}function Al(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","value"]],null,null,null,null,null)),(l()(),i["\u0275ted"](-1,null,["0"]))],null,null)}function jl(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,3,"div",[["class","unit text-uppercase"]],null,null,null,null,null)),(l()(),i["\u0275ted"](1,null,["",""])),i["\u0275pod"](2,{count:0}),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef])],null,function(l,n){var e=n.component,t=i["\u0275unv"](n,1,0,i["\u0275nov"](n,3).transform("Minute",l(n,2,0,e.trip.durationMinutes)));l(n,1,0,t)})}function Fl(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,13,"div",[["class","col-6 col-md-3 col-lg-2"]],null,null,null,null,null)),(l()(),i["\u0275eld"](1,0,null,null,9,"div",[["class","measurement-circle"]],null,null,null,null,null)),(l()(),i["\u0275eld"](2,0,null,null,8,"div",[["class","cell"]],null,null,null,null,null)),(l()(),i["\u0275eld"](3,0,null,null,3,"div",[["class","value"]],null,null,null,null,null)),(l()(),i["\u0275ted"](4,null,["",""])),i["\u0275pid"](131072,L.a,[i.ChangeDetectorRef,V.a]),i["\u0275ppd"](6,2),(l()(),i["\u0275eld"](7,0,null,null,3,"div",[["class","unit"]],null,null,null,null,null)),(l()(),i["\u0275ted"](8,null,["",""])),i["\u0275pid"](131072,E.a,[V.a,i.ChangeDetectorRef]),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef]),(l()(),i["\u0275eld"](11,0,null,null,2,"div",[["class","desc"]],null,null,null,null,null)),(l()(),i["\u0275ted"](12,null,["",""])),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef])],null,function(l,n){var e=n.component,t=i["\u0275unv"](n,4,0,l(n,6,0,i["\u0275nov"](n.parent,0),i["\u0275unv"](n,4,0,i["\u0275nov"](n,5).transform(e.trip.avgSpeed,"speed")),"1.0-0"));l(n,4,0,t),l(n,8,0,i["\u0275unv"](n,8,0,i["\u0275nov"](n,10).transform(i["\u0275unv"](n,8,0,i["\u0275nov"](n,9).transform("KilometersPerHour","MilesPerHour"))))),l(n,12,0,i["\u0275unv"](n,12,0,i["\u0275nov"](n,13).transform("Avg Speed")))})}function Hl(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,13,"div",[["class","col-6 col-md-3 col-lg-2"]],null,null,null,null,null)),(l()(),i["\u0275eld"](1,0,null,null,9,"div",[["class","measurement-circle"]],null,null,null,null,null)),(l()(),i["\u0275eld"](2,0,null,null,8,"div",[["class","cell"]],null,null,null,null,null)),(l()(),i["\u0275eld"](3,0,null,null,3,"div",[["class","value"]],null,null,null,null,null)),(l()(),i["\u0275ted"](4,null,["",""])),i["\u0275pid"](131072,L.a,[i.ChangeDetectorRef,V.a]),i["\u0275ppd"](6,2),(l()(),i["\u0275eld"](7,0,null,null,3,"div",[["class","unit"]],null,null,null,null,null)),(l()(),i["\u0275ted"](8,null,["",""])),i["\u0275pid"](131072,E.a,[V.a,i.ChangeDetectorRef]),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef]),(l()(),i["\u0275eld"](11,0,null,null,2,"div",[["class","desc"]],null,null,null,null,null)),(l()(),i["\u0275ted"](12,null,["",""])),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef])],null,function(l,n){var e=n.component,t=i["\u0275unv"](n,4,0,l(n,6,0,i["\u0275nov"](n.parent,0),i["\u0275unv"](n,4,0,i["\u0275nov"](n,5).transform(e.trip.maxSpeed,"speed")),"1.0-1"));l(n,4,0,t),l(n,8,0,i["\u0275unv"](n,8,0,i["\u0275nov"](n,10).transform(i["\u0275unv"](n,8,0,i["\u0275nov"](n,9).transform("KilometersPerHour","MilesPerHour"))))),l(n,12,0,i["\u0275unv"](n,12,0,i["\u0275nov"](n,13).transform("Max Speed")))})}function Bl(l){return i["\u0275vid"](0,[i["\u0275pid"](0,f.DecimalPipe,[i.LOCALE_ID]),(l()(),i["\u0275eld"](1,0,null,null,64,"app-common-dialog",[["bodyClass","pt-0"],["customClass","modal-md"]],null,[[null,"visibilityChange"],[null,"shown"],[null,"hidden"]],function(l,n,e){var t=!0,i=l.component;return"visibilityChange"===n&&(t=!1!==i.visibilityChange.emit(e)&&t),"shown"===n&&(t=0!=(i.mapShown=!0)&&t),"hidden"===n&&(t=0!=(i.mapShown=!1)&&t),t},N.b,N.a)),i["\u0275did"](2,638976,null,0,A.a,[],{title:[0,"title"],customClass:[1,"customClass"],bodyClass:[2,"bodyClass"],visibility:[3,"visibility"]},{visibilityChange:"visibilityChange",hidden:"hidden",shown:"shown"}),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef]),(l()(),i["\u0275eld"](4,0,null,1,4,"div",[["class","modal-body-no-pad"]],null,null,null,null,null)),(l()(),i["\u0275and"](16777216,null,null,1,null,Pl)),i["\u0275did"](6,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275and"](16777216,null,null,1,null,Sl)),i["\u0275did"](8,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275eld"](9,0,null,1,56,"div",[],null,null,null,null,null)),(l()(),i["\u0275eld"](10,0,null,null,36,"div",[["class","row pt-4 trip-parameters"]],null,null,null,null,null)),(l()(),i["\u0275eld"](11,0,null,null,13,"div",[["class","col-6 col-md-3 col-lg-2"]],null,null,null,null,null)),(l()(),i["\u0275eld"](12,0,null,null,9,"div",[["class","measurement-circle"]],null,null,null,null,null)),(l()(),i["\u0275eld"](13,0,null,null,8,"div",[["class","cell"]],null,null,null,null,null)),(l()(),i["\u0275eld"](14,0,null,null,3,"div",[["class","value"]],null,null,null,null,null)),(l()(),i["\u0275ted"](15,null,["",""])),i["\u0275pid"](131072,L.a,[i.ChangeDetectorRef,V.a]),i["\u0275ppd"](17,2),(l()(),i["\u0275eld"](18,0,null,null,3,"div",[["class","unit"]],null,null,null,null,null)),(l()(),i["\u0275ted"](19,null,["",""])),i["\u0275pid"](131072,E.a,[V.a,i.ChangeDetectorRef]),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef]),(l()(),i["\u0275eld"](22,0,null,null,2,"div",[["class","desc"]],null,null,null,null,null)),(l()(),i["\u0275ted"](23,null,["",""])),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef]),(l()(),i["\u0275eld"](25,0,null,null,17,"div",[["class","col-6 col-md-3 col-lg-2"]],null,null,null,null,null)),(l()(),i["\u0275eld"](26,0,null,null,13,"div",[["class","measurement-circle"]],null,null,null,null,null)),(l()(),i["\u0275eld"](27,0,null,null,12,"div",[["class","cell"]],null,null,null,null,null)),(l()(),i["\u0275and"](16777216,null,null,1,null,Ll)),i["\u0275did"](29,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275and"](16777216,null,null,1,null,Vl)),i["\u0275did"](31,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275and"](16777216,null,null,1,null,El)),i["\u0275did"](33,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275and"](16777216,null,null,1,null,Nl)),i["\u0275did"](35,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275and"](16777216,null,null,1,null,Al)),i["\u0275did"](37,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275and"](16777216,null,null,1,null,jl)),i["\u0275did"](39,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275eld"](40,0,null,null,2,"div",[["class","desc"]],null,null,null,null,null)),(l()(),i["\u0275ted"](41,null,["",""])),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef]),(l()(),i["\u0275and"](16777216,null,null,1,null,Fl)),i["\u0275did"](44,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275and"](16777216,null,null,1,null,Hl)),i["\u0275did"](46,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275eld"](47,0,null,null,18,"div",[["class","row events pt-4 pl-3"]],null,null,null,null,null)),(l()(),i["\u0275eld"](48,0,null,null,5,"div",[["class","col-4 col-md-2 rapid-accels"]],null,null,null,null,null)),(l()(),i["\u0275eld"](49,0,null,null,1,"div",[["class","count"]],null,null,null,null,null)),(l()(),i["\u0275ted"](50,null,["",""])),(l()(),i["\u0275eld"](51,0,null,null,2,"div",[["class","desc"]],null,null,null,null,null)),(l()(),i["\u0275ted"](52,null,["",""])),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef]),(l()(),i["\u0275eld"](54,0,null,null,5,"div",[["class","col-4 col-md-2 harsh-decels"]],null,null,null,null,null)),(l()(),i["\u0275eld"](55,0,null,null,1,"div",[["class","count"]],null,null,null,null,null)),(l()(),i["\u0275ted"](56,null,["",""])),(l()(),i["\u0275eld"](57,0,null,null,2,"div",[["class","desc"]],null,null,null,null,null)),(l()(),i["\u0275ted"](58,null,["",""])),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef]),(l()(),i["\u0275eld"](60,0,null,null,5,"div",[["class","col-4 col-md-2 idling"]],null,null,null,null,null)),(l()(),i["\u0275eld"](61,0,null,null,1,"div",[["class","count"]],null,null,null,null,null)),(l()(),i["\u0275ted"](62,null,["",""])),(l()(),i["\u0275eld"](63,0,null,null,2,"div",[["class","desc"]],null,null,null,null,null)),(l()(),i["\u0275ted"](64,null,["",""])),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef])],function(l,n){var e=n.component;l(n,2,0,i["\u0275unv"](n,2,0,i["\u0275nov"](n,3).transform("Trip Details")),"modal-md","pt-0",e.visibility),l(n,6,0,e.mapShown),l(n,8,0,!e.mapShown),l(n,29,0,e.trip.durationHours>0&&0===e.trip.durationMinutes),l(n,31,0,e.trip.durationHours>0&&e.trip.durationMinutes>0),l(n,33,0,e.trip.durationHours>0),l(n,35,0,0===e.trip.durationHours&&e.trip.durationMinutes>0),l(n,37,0,0===e.trip.durationHours&&0===e.trip.durationMinutes),l(n,39,0,0===e.trip.durationHours),l(n,44,0,e.f.tripHistoryAVG&&e.trip.avgSpeed),l(n,46,0,e.f.tripHistoryMaxSpeed&&e.trip.maxSpeed)},function(l,n){var e=n.component,t=i["\u0275unv"](n,15,0,l(n,17,0,i["\u0275nov"](n,0),i["\u0275unv"](n,15,0,i["\u0275nov"](n,16).transform(e.trip.distance,"distance")),"1.0-1"));l(n,15,0,t),l(n,19,0,i["\u0275unv"](n,19,0,i["\u0275nov"](n,21).transform(i["\u0275unv"](n,19,0,i["\u0275nov"](n,20).transform("KM","Miles"))))),l(n,23,0,i["\u0275unv"](n,23,0,i["\u0275nov"](n,24).transform("Distance"))),l(n,41,0,i["\u0275unv"](n,41,0,i["\u0275nov"](n,42).transform("Duration"))),l(n,50,0,e.trip.harshAcclCount),l(n,52,0,i["\u0275unv"](n,52,0,i["\u0275nov"](n,53).transform("Rapid Accels"))),l(n,56,0,e.trip.harshDecelCount),l(n,58,0,i["\u0275unv"](n,58,0,i["\u0275nov"](n,59).transform("Harsh Brakes"))),l(n,62,0,e.trip.idlingCount),l(n,64,0,i["\u0275unv"](n,64,0,i["\u0275nov"](n,65).transform("Idling")))})}var $l=e("D6/d"),zl=e("wu8c"),Kl=e("Xv+2"),Wl=e("GWfa"),ql=function(){return function(){}}(),Ul=i["\u0275crt"]({encapsulation:0,styles:[[".title[_ngcontent-%COMP%]{font-size:12px;opacity:.6;margin-bottom:4px}.content[_ngcontent-%COMP%]{font-size:14px}"]],data:{}});function Yl(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),i["\u0275eld"](1,0,null,null,1,"div",[["class","title"]],null,null,null,null,null)),(l()(),i["\u0275ted"](2,null,["",""])),(l()(),i["\u0275eld"](3,0,null,null,1,"div",[["class","content"]],null,null,null,null,null)),i["\u0275ncd"](null,0)],null,function(l,n){l(n,2,0,n.component.title)})}var Gl=e("VNr4"),Zl=e("F/XL"),Xl=e("6blF"),Jl=e("67Y/"),Ql=e("vubp"),ln=e("0Nby"),nn=function(){function l(l,n,e,t,u){this.tripsService=l,this.vehicles=n,this._appConfig=e,this._vehicleMapIcons=t,this._cdr=u,this.mapClick=new i.EventEmitter}return l.prototype.ngOnInit=function(){this.f=this._appConfig.getAvailableFeatures(),this._initMap(this.trip)},l.prototype.onMapLoaded=function(l){var n=this;this._initPolyline(this.trip),this._initTripHarshEventsMakrers(this.trip),this._initTripIdlingMakrers(this.trip),Object(Gl.a)([this._initStartMarker(this.trip),this._initEndMarker(this.trip)]).pipe(Object(Jl.a)(function(l){n._cdr.markForCheck()}),Object(Ql.a)(10)).subscribe(function(n){l.fitToContent()})},l.prototype.handleMapClick=function(l){this.mapClick.emit({map:l,trip:this.trip})},l.prototype._initMap=function(l){this.mapOptions={center:{lng:-97.26835700000004,lat:43.0496665969095},zoom:[this._appConfig.defaultGoogleMapTripHistoryZoom]},l.startLatLng&&(this.mapOptions.center=l.startLatLng)},l.prototype._initStartMarker=function(l){var n=this;return l.startLatLng?Xl.a.create(function(e){n._vehicleMapIcons.getTripStartImg().subscribe(function(t){n.startMarker={img:t,latLng:l.startLatLng},e.next(!0),e.complete()})}):Object(Zl.a)(!1)},l.prototype._initEndMarker=function(l){var n=this;return l.endLatLng?Xl.a.create(function(e){var t=n.vehicles.getVehicle(l.vehicleId);n._vehicleMapIcons.getVehcileParkedImg(t).subscribe(function(t){n.endMarker={img:t,latLng:l.endLatLng},e.next(!0),e.complete()})}):Object(Zl.a)(!1)},l.prototype._initPolyline=function(l){l.encodedPolyline&&(this.polyline={width:4,opacity:.8,color:this._appConfig.currentTripPolylineColour,encoded:l.encodedPolyline})},l.prototype._initTripHarshEventsMakrers=function(l){var n=this,e=l.harshAcclPoints,t=l.harshDecelPoints;e.length&&this._vehicleMapIcons.getTripAccelerationImg().subscribe(function(l){n.accelPoints={img:l,coordinates:e}}),t.length&&this._vehicleMapIcons.getTripDecelerationImg().subscribe(function(l){n.decelPoints={img:l,coordinates:t}})},l.prototype._initTripIdlingMakrers=function(l){var n=this,e=l.idleEvents;e.length&&this._vehicleMapIcons.getTripIdlingImg().subscribe(function(l){n.idlingPoints={img:l,coordinates:e}})},l}(),en=i["\u0275crt"]({encapsulation:0,styles:[[".title[_ngcontent-%COMP%]{font-weight:500}.event-dot[_ngcontent-%COMP%]{font-size:16px;margin-right:5px}.color-brakes[_ngcontent-%COMP%]{color:#d43213}.color-accels[_ngcontent-%COMP%]{color:#3ebf30}.color-idling[_ngcontent-%COMP%]{color:#f5a623}.ui-g-nopad-h[_ngcontent-%COMP%]{padding-right:0;padding-left:0}.right-panel[_ngcontent-%COMP%]{height:210px;display:table}.right-panel[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:table-row}.right-panel[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]{padding:0 16px;display:table-cell;overflow:hidden}.right-panel[_ngcontent-%COMP%]   .row.bordered[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]{border-right:1px solid rgba(54,54,54,.1)}.right-panel[_ngcontent-%COMP%]   .row.bordered[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]:last-child{border-right:0}.right-panel[_ngcontent-%COMP%]   .row.bottom[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]{vertical-align:bottom}.param-content[_ngcontent-%COMP%]{display:flex}.param-content[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{margin-right:5px}  .trip-details-map{width:100%;height:210px;cursor:pointer}"]],data:{}});function tn(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,1,"app-map-polyline",[],null,null,null,null,null)),i["\u0275did"](1,737280,null,0,Kl.a,[Tl.a],{encoded:[0,"encoded"],color:[1,"color"],width:[2,"width"],opacity:[3,"opacity"]},null)],function(l,n){var e=n.component;l(n,1,0,e.polyline.encoded,e.polyline.color,e.polyline.width,e.polyline.opacity)},null)}function un(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,1,"app-map-marker",[],null,null,null,null,null)),i["\u0275did"](1,737280,null,0,Wl.a,[bl.a,_l.a],{latLng:[0,"latLng"],img:[1,"img"]},null)],function(l,n){var e=n.component;l(n,1,0,e.startMarker.latLng,e.startMarker.img)},null)}function on(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,1,"app-map-marker",[["anchor","bottom"]],null,null,null,null,null)),i["\u0275did"](1,737280,null,0,Wl.a,[bl.a,_l.a],{latLng:[0,"latLng"],img:[1,"img"],anchor:[2,"anchor"]},null)],function(l,n){var e=n.component;l(n,1,0,e.endMarker.latLng,e.endMarker.img,"bottom")},null)}function rn(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,1,"app-map-marker",[],null,null,null,null,null)),i["\u0275did"](1,737280,null,0,Wl.a,[bl.a,_l.a],{latLng:[0,"latLng"],img:[1,"img"]},null)],function(l,n){l(n,1,0,n.context.$implicit,n.component.accelPoints.img)},null)}function sn(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),i["\u0275and"](16777216,null,null,1,null,rn)),i["\u0275did"](2,278528,null,0,f.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.component.accelPoints.coordinates)},null)}function an(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,1,"app-map-marker",[],null,null,null,null,null)),i["\u0275did"](1,737280,null,0,Wl.a,[bl.a,_l.a],{latLng:[0,"latLng"],img:[1,"img"]},null)],function(l,n){l(n,1,0,n.context.$implicit,n.component.decelPoints.img)},null)}function cn(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),i["\u0275and"](16777216,null,null,1,null,an)),i["\u0275did"](2,278528,null,0,f.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.component.decelPoints.coordinates)},null)}function dn(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,1,"app-map-marker",[],null,null,null,null,null)),i["\u0275did"](1,737280,null,0,Wl.a,[bl.a,_l.a],{latLng:[0,"latLng"],img:[1,"img"]},null)],function(l,n){l(n,1,0,n.context.$implicit,n.component.idlingPoints.img)},null)}function pn(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),i["\u0275and"](16777216,null,null,1,null,dn)),i["\u0275did"](2,278528,null,0,f.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.component.idlingPoints.coordinates)},null)}function gn(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,19,"div",[],null,null,null,null,null)),(l()(),i["\u0275eld"](1,0,null,null,18,"app-map",[["className","trip-details-map"]],null,[[null,"mapClick"],[null,"load"],[null,"mousewheel"],[null,"wheel"]],function(l,n,e){var t=!0,u=l.component;return"mousewheel"===n&&(t=!1!==i["\u0275nov"](l,7)._onMouseWheelChrome(e)&&t),"wheel"===n&&(t=!1!==i["\u0275nov"](l,7)._onMouseWheelFirefox(e)&&t),"mapClick"===n&&(t=!1!==u.handleMapClick(e)&&t),"load"===n&&(t=!1!==u.onMapLoaded(e)&&t),t},vl.b,vl.a)),i["\u0275prd"](4608,null,Cl.a,Cl.a,[]),i["\u0275prd"](1024,null,bl.a,yl.a,[i.NgZone,Ml.a]),i["\u0275prd"](1024,null,Tl.a,xl.a,[i.NgZone,Ml.a]),i["\u0275prd"](1024,null,_l.a,Dl.a,[i.NgZone,Ml.a,bl.a,Tl.a]),i["\u0275prd"](1024,null,Il.a,wl.a,[i.NgZone,Ml.a]),i["\u0275did"](7,245760,null,0,Rl.a,[_l.a,Ml.a,bl.a,Tl.a,Il.a],{className:[0,"className"],center:[1,"center"],interaction:[2,"interaction"]},{load:"load",mapClick:"mapClick"}),(l()(),i["\u0275and"](16777216,null,null,1,null,tn)),i["\u0275did"](9,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275and"](16777216,null,null,1,null,un)),i["\u0275did"](11,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275and"](16777216,null,null,1,null,on)),i["\u0275did"](13,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275and"](16777216,null,null,1,null,sn)),i["\u0275did"](15,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275and"](16777216,null,null,1,null,cn)),i["\u0275did"](17,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275and"](16777216,null,null,1,null,pn)),i["\u0275did"](19,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,7,0,"trip-details-map",e.mapOptions.center,!1),l(n,9,0,e.polyline),l(n,11,0,e.startMarker),l(n,13,0,e.endMarker),l(n,15,0,e.accelPoints),l(n,17,0,e.decelPoints),l(n,19,0,e.idlingPoints)},null)}function fn(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),i["\u0275ted"](1,null,[""," ",""])),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef])],null,function(l,n){l(n,1,0,n.component.trip.durationHours,i["\u0275unv"](n,1,1,i["\u0275nov"](n,2).transform("HR")))})}function hn(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),i["\u0275ted"](1,null,["",":"," ",""])),i["\u0275ppd"](2,2),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef])],null,function(l,n){var e=n.component,t=e.trip.durationHours,u=i["\u0275unv"](n,1,1,l(n,2,0,i["\u0275nov"](n.parent,0),e.trip.durationMinutes,"2.0"));l(n,1,0,t,u,i["\u0275unv"](n,1,2,i["\u0275nov"](n,3).transform("HR")))})}function mn(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),i["\u0275ted"](1,null,[""," ",""])),i["\u0275pod"](2,{count:0}),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef])],null,function(l,n){var e=n.component,t=e.trip.durationMinutes,u=i["\u0275unv"](n,1,1,i["\u0275nov"](n,3).transform("Minute",l(n,2,0,e.trip.durationMinutes)));l(n,1,0,t,u)})}function vn(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,11,"div",[["class","cell"]],null,null,null,null,null)),(l()(),i["\u0275eld"](1,0,null,null,10,"app-short-param",[],null,null,null,Yl,Ul)),i["\u0275did"](2,49152,null,0,ql,[],{title:[0,"title"]},null),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef]),(l()(),i["\u0275eld"](4,0,null,0,7,"div",[["class","param-content"]],null,null,null,null,null)),(l()(),i["\u0275eld"](5,0,null,null,3,"div",[["class","value"]],null,null,null,null,null)),(l()(),i["\u0275ted"](6,null,["",""])),i["\u0275pid"](131072,L.a,[i.ChangeDetectorRef,V.a]),i["\u0275ppd"](8,2),(l()(),i["\u0275ted"](9,null,[" "," "])),i["\u0275pid"](131072,E.a,[V.a,i.ChangeDetectorRef]),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef])],function(l,n){l(n,2,0,i["\u0275unv"](n,2,0,i["\u0275nov"](n,3).transform("Efficiency")))},function(l,n){var e=n.component,t=i["\u0275unv"](n,6,0,l(n,8,0,i["\u0275nov"](n.parent,0),i["\u0275unv"](n,6,0,i["\u0275nov"](n,7).transform(e.trip.fuelEfficiency,"fuelEfficiency")),"1.0-1"));l(n,6,0,t),l(n,9,0,i["\u0275unv"](n,9,0,i["\u0275nov"](n,11).transform(i["\u0275unv"](n,9,0,i["\u0275nov"](n,10).transform("KilometerPerLiter","MilesPerGallon")))))})}function Cn(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,11,"div",[["class","cell"]],null,null,null,null,null)),(l()(),i["\u0275eld"](1,0,null,null,10,"app-short-param",[],null,null,null,Yl,Ul)),i["\u0275did"](2,49152,null,0,ql,[],{title:[0,"title"]},null),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef]),(l()(),i["\u0275eld"](4,0,null,0,7,"div",[["class","param-content"]],null,null,null,null,null)),(l()(),i["\u0275eld"](5,0,null,null,3,"div",[["class","value"]],null,null,null,null,null)),(l()(),i["\u0275ted"](6,null,["",""])),i["\u0275pid"](131072,L.a,[i.ChangeDetectorRef,V.a]),i["\u0275ppd"](8,2),(l()(),i["\u0275ted"](9,null,[" "," "])),i["\u0275pid"](131072,E.a,[V.a,i.ChangeDetectorRef]),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef])],function(l,n){l(n,2,0,i["\u0275unv"](n,2,0,i["\u0275nov"](n,3).transform("Avg Speed")))},function(l,n){var e=n.component,t=i["\u0275unv"](n,6,0,l(n,8,0,i["\u0275nov"](n.parent,0),i["\u0275unv"](n,6,0,i["\u0275nov"](n,7).transform(e.trip.avgSpeed,"speed")),"1.0-0"));l(n,6,0,t),l(n,9,0,i["\u0275unv"](n,9,0,i["\u0275nov"](n,11).transform(i["\u0275unv"](n,9,0,i["\u0275nov"](n,10).transform("KilometersPerHour","MilesPerHour")))))})}function bn(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,11,"div",[["class","cell"]],null,null,null,null,null)),(l()(),i["\u0275eld"](1,0,null,null,10,"app-short-param",[],null,null,null,Yl,Ul)),i["\u0275did"](2,49152,null,0,ql,[],{title:[0,"title"]},null),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef]),(l()(),i["\u0275eld"](4,0,null,0,7,"div",[["class","param-content"]],null,null,null,null,null)),(l()(),i["\u0275eld"](5,0,null,null,3,"div",[["class","value"]],null,null,null,null,null)),(l()(),i["\u0275ted"](6,null,["",""])),i["\u0275pid"](131072,L.a,[i.ChangeDetectorRef,V.a]),i["\u0275ppd"](8,2),(l()(),i["\u0275ted"](9,null,[" "," "])),i["\u0275pid"](131072,E.a,[V.a,i.ChangeDetectorRef]),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef])],function(l,n){l(n,2,0,i["\u0275unv"](n,2,0,i["\u0275nov"](n,3).transform("Max Speed")))},function(l,n){var e=n.component,t=i["\u0275unv"](n,6,0,l(n,8,0,i["\u0275nov"](n.parent,0),i["\u0275unv"](n,6,0,i["\u0275nov"](n,7).transform(e.trip.maxSpeed,"speed")),"1.0-1"));l(n,6,0,t),l(n,9,0,i["\u0275unv"](n,9,0,i["\u0275nov"](n,11).transform(i["\u0275unv"](n,9,0,i["\u0275nov"](n,10).transform("KilometersPerHour","MilesPerHour")))))})}function yn(l){return i["\u0275vid"](0,[i["\u0275pid"](0,f.DecimalPipe,[i.LOCALE_ID]),(l()(),i["\u0275eld"](1,0,null,null,2,"div",[["class","title pt-3 pb-1"]],null,null,null,null,null)),(l()(),i["\u0275ted"](2,null,["",""])),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef]),(l()(),i["\u0275eld"](4,0,null,null,57,"div",[["class","row pb-3"]],null,null,null,null,null)),(l()(),i["\u0275eld"](5,0,null,null,2,"div",[["class","col-12 col-sm-6 pr-0"]],null,null,null,null,null)),(l()(),i["\u0275and"](16777216,null,null,1,null,gn)),i["\u0275did"](7,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275eld"](8,0,null,null,53,"div",[["class","col-12 col-sm-6 pt-2 pt-sm-0"]],null,null,null,null,null)),(l()(),i["\u0275eld"](9,0,null,null,52,"div",[["class","right-panel"]],null,null,null,null,null)),(l()(),i["\u0275eld"](10,0,null,null,24,"div",[["class","row bordered"]],null,null,null,null,null)),(l()(),i["\u0275eld"](11,0,null,null,11,"div",[["class","cell"]],null,null,null,null,null)),(l()(),i["\u0275eld"](12,0,null,null,10,"app-short-param",[],null,null,null,Yl,Ul)),i["\u0275did"](13,49152,null,0,ql,[],{title:[0,"title"]},null),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef]),(l()(),i["\u0275eld"](15,0,null,0,7,"div",[["class","param-content"]],null,null,null,null,null)),(l()(),i["\u0275eld"](16,0,null,null,3,"div",[["class","value"]],null,null,null,null,null)),(l()(),i["\u0275ted"](17,null,["",""])),i["\u0275pid"](131072,L.a,[i.ChangeDetectorRef,V.a]),i["\u0275ppd"](19,2),(l()(),i["\u0275ted"](20,null,[" "," "])),i["\u0275pid"](131072,E.a,[V.a,i.ChangeDetectorRef]),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef]),(l()(),i["\u0275eld"](23,0,null,null,9,"div",[["class","cell"]],null,null,null,null,null)),(l()(),i["\u0275eld"](24,0,null,null,8,"app-short-param",[],null,null,null,Yl,Ul)),i["\u0275did"](25,49152,null,0,ql,[],{title:[0,"title"]},null),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef]),(l()(),i["\u0275and"](16777216,null,0,1,null,fn)),i["\u0275did"](28,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275and"](16777216,null,0,1,null,hn)),i["\u0275did"](30,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275and"](16777216,null,0,1,null,mn)),i["\u0275did"](32,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275and"](16777216,null,null,1,null,vn)),i["\u0275did"](34,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275eld"](35,0,null,null,4,"div",[["class","row bordered"]],null,null,null,null,null)),(l()(),i["\u0275and"](16777216,null,null,1,null,Cn)),i["\u0275did"](37,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275and"](16777216,null,null,1,null,bn)),i["\u0275did"](39,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275eld"](40,0,null,null,21,"div",[["class","row bottom"]],null,null,null,null,null)),(l()(),i["\u0275eld"](41,0,null,null,6,"div",[["class","cell"]],null,null,null,null,null)),(l()(),i["\u0275eld"](42,0,null,null,5,"app-short-param",[],null,null,null,Yl,Ul)),i["\u0275did"](43,49152,null,0,ql,[],{title:[0,"title"]},null),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef]),(l()(),i["\u0275eld"](45,0,null,0,1,"span",[["class","color-accels event-dot"]],null,null,null,null,null)),(l()(),i["\u0275ted"](-1,null,["\u25cf"])),(l()(),i["\u0275ted"](47,0,[" "," "])),(l()(),i["\u0275eld"](48,0,null,null,6,"div",[["class","cell"]],null,null,null,null,null)),(l()(),i["\u0275eld"](49,0,null,null,5,"app-short-param",[],null,null,null,Yl,Ul)),i["\u0275did"](50,49152,null,0,ql,[],{title:[0,"title"]},null),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef]),(l()(),i["\u0275eld"](52,0,null,0,1,"span",[["class","color-brakes event-dot"]],null,null,null,null,null)),(l()(),i["\u0275ted"](-1,null,["\u25cf"])),(l()(),i["\u0275ted"](54,0,[" "," "])),(l()(),i["\u0275eld"](55,0,null,null,6,"div",[["class","cell"]],null,null,null,null,null)),(l()(),i["\u0275eld"](56,0,null,null,5,"app-short-param",[],null,null,null,Yl,Ul)),i["\u0275did"](57,49152,null,0,ql,[],{title:[0,"title"]},null),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef]),(l()(),i["\u0275eld"](59,0,null,0,1,"span",[["class","color-idling event-dot"]],null,null,null,null,null)),(l()(),i["\u0275ted"](-1,null,["\u25cf"])),(l()(),i["\u0275ted"](61,0,[" "," "]))],function(l,n){var e=n.component;l(n,7,0,e.trip.startLatLng),l(n,13,0,i["\u0275unv"](n,13,0,i["\u0275nov"](n,14).transform("Distance"))),l(n,25,0,i["\u0275unv"](n,25,0,i["\u0275nov"](n,26).transform("Duration"))),l(n,28,0,e.trip.durationHours>0&&0===e.trip.durationMinutes),l(n,30,0,e.trip.durationHours>0&&e.trip.durationMinutes>0),l(n,32,0,0===e.trip.durationHours&&e.trip.durationMinutes>0),l(n,34,0,e.f.tripHistoryEfficiency&&e.trip.fuelEfficiency),l(n,37,0,e.f.tripHistoryAVG&&e.trip.avgSpeed),l(n,39,0,e.f.tripHistoryMaxSpeed&&e.trip.maxSpeed),l(n,43,0,i["\u0275unv"](n,43,0,i["\u0275nov"](n,44).transform("Rapid Accels"))),l(n,50,0,i["\u0275unv"](n,50,0,i["\u0275nov"](n,51).transform("Harsh Brakes"))),l(n,57,0,i["\u0275unv"](n,57,0,i["\u0275nov"](n,58).transform("Idling")))},function(l,n){var e=n.component;l(n,2,0,i["\u0275unv"](n,2,0,i["\u0275nov"](n,3).transform("Trip Details")));var t=i["\u0275unv"](n,17,0,l(n,19,0,i["\u0275nov"](n,0),i["\u0275unv"](n,17,0,i["\u0275nov"](n,18).transform(e.trip.distance,"distance")),"1.0-1"));l(n,17,0,t),l(n,20,0,i["\u0275unv"](n,20,0,i["\u0275nov"](n,22).transform(i["\u0275unv"](n,20,0,i["\u0275nov"](n,21).transform("KM","Miles"))))),l(n,47,0,e.trip.harshAcclCount),l(n,54,0,e.trip.harshDecelCount),l(n,61,0,e.trip.idlingCount)})}var Mn=e("gyGe"),Tn="business",xn="personal",_n=function(){function l(){this.selected=!1,this.expanded=!1,this.selectedChange=new i.EventEmitter,this.expandedChange=new i.EventEmitter,this.mapClick=new i.EventEmitter}return Object.defineProperty(l.prototype,"isBusinessTrip",{get:function(){return-1!==this.trip.tags.indexOf(Tn)},enumerable:!0,configurable:!0}),l}(),Dn=i["\u0275crt"]({encapsulation:0,styles:[[".trip[_ngcontent-%COMP%]{font-size:.875rem;padding:.5em .5em .5em 0;min-height:54px}.trip[_ngcontent-%COMP%]   .trip-cell[_ngcontent-%COMP%]{display:flex;align-items:center;padding-left:1rem}.trip[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{padding-left:0}.trip[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{justify-content:center}.trip[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-size:.75rem;opacity:.6}.trip[_ngcontent-%COMP%]   .start-address[_ngcontent-%COMP%]{display:flex;align-items:center}.trip[_ngcontent-%COMP%]   .start-address[_ngcontent-%COMP%]::before{-webkit-mask-image:url(/assets/img/dot-circle-solid.svg);-webkit-mask-position:left center;-webkit-mask-repeat:no-repeat;-webkit-mask-size:10px 10px;mask-image:url(/assets/img/dot-circle-solid.svg);mask-position:left center;mask-repeat:no-repeat;mask-size:10px 10px;content:' ';display:block;height:10px;width:10px;padding:0;margin-right:13px;flex-shrink:0;background-color:var(--primary)}.trip[_ngcontent-%COMP%]   .finish-icon[_ngcontent-%COMP%]{margin-right:16px;color:var(--primary)}.trip[_ngcontent-%COMP%]   .toggle-icon[_ngcontent-%COMP%]{font-size:.75rem;margin-right:32px}.trip[_ngcontent-%COMP%]   .business-icon[_ngcontent-%COMP%]{height:25px;width:25px;background-image:url(/assets/img/business-icon.svg);background-size:22px;background-position:center;background-repeat:no-repeat;flex-shrink:0;margin-left:auto}.trip[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]{background:0;border:0;cursor:pointer}.trip[_ngcontent-%COMP%]  .gmap{height:144px;width:100%}@media (max-width:1199.98px){.border-small-none[_ngcontent-%COMP%]{border:0!important}.pr-small-0[_ngcontent-%COMP%]{padding-right:0!important}}"]],data:{}});function In(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","time"]],null,null,null,null,null)),(l()(),i["\u0275ted"](1,null,[" "," "])),i["\u0275pid"](131072,P.a,[i.ChangeDetectorRef,g.j,S.a])],null,function(l,n){var e=n.component;l(n,1,0,i["\u0275unv"](n,1,0,i["\u0275nov"](n,2).transform(e.trip.startTime,"@time")))})}function wn(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),i["\u0275eld"](1,0,null,null,1,"span",[["class",""]],null,null,null,null,null)),(l()(),i["\u0275ted"](2,null,["",""]))],null,function(l,n){l(n,2,0,n.component.trip.startAddress)})}function Rn(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","time"]],null,null,null,null,null)),(l()(),i["\u0275ted"](1,null,[" "," "])),i["\u0275pid"](131072,P.a,[i.ChangeDetectorRef,g.j,S.a])],null,function(l,n){var e=n.component;l(n,1,0,i["\u0275unv"](n,1,0,i["\u0275nov"](n,2).transform(e.trip.endTime,"@time")))})}function On(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),i["\u0275eld"](1,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),i["\u0275ted"](2,null,["",""]))],null,function(l,n){l(n,2,0,n.component.trip.endAddress)})}function kn(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,0,"div",[["class","business-icon float-right"]],null,null,null,null,null))],null,null)}function Pn(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,4,"div",[["class","row border-bottom"]],null,null,null,null,null)),(l()(),i["\u0275eld"](1,0,null,null,0,"div",[["class","col-11 col-lg-3"]],null,null,null,null,null)),(l()(),i["\u0275eld"](2,0,null,null,2,"div",[["class","col-12 col-lg-8"]],null,null,null,null,null)),(l()(),i["\u0275eld"](3,0,null,null,1,"app-trip-history-item-details",[],null,[[null,"mapClick"]],function(l,n,e){var t=!0;return"mapClick"===n&&(t=!1!==l.component.mapClick.emit(e)&&t),t},yn,en)),i["\u0275did"](4,114688,null,0,nn,[cl.a,al.a,V.a,ln.a,i.ChangeDetectorRef],{trip:[0,"trip"]},{mapClick:"mapClick"})],function(l,n){l(n,4,0,n.component.trip)},null)}function Sn(l){return i["\u0275vid"](0,[i["\u0275pid"](0,Mn.a,[]),i["\u0275pid"](0,f.DecimalPipe,[i.LOCALE_ID]),(l()(),i["\u0275eld"](2,0,null,null,47,"div",[["class","trip border-bottom row m-0 pr-small-0"]],null,null,null,null,null)),(l()(),i["\u0275eld"](3,0,null,null,4,"div",[["class","col-12 d-block d-lg-none pb-2"]],null,null,null,null,null)),(l()(),i["\u0275ted"](4,null,["",""])),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef]),i["\u0275pad"](6,1),i["\u0275ppd"](7,2),(l()(),i["\u0275eld"](8,0,null,null,1,"div",[["class","trip-cell col-2 d-flex align-items-end d-lg-none border-right pl-0"]],null,null,null,null,null)),(l()(),i["\u0275eld"](9,0,null,null,0,"button",[["class","fa toggle-icon toggle-btn"]],[[2,"fa-chevron-down",null],[2,"fa-chevron-right",null]],[[null,"click"]],function(l,n,e){var t=!0,i=l.component;return"click"===n&&(t=!1!==i.expandedChange.emit(!i.expanded)&&t),t},null,null)),(l()(),i["\u0275eld"](10,0,null,null,5,"div",[["class","trip-cell col-12 col-lg-3 border-right d-none d-lg-flex pl-0"]],null,null,null,null,null)),(l()(),i["\u0275eld"](11,0,null,null,0,"button",[["class","fa toggle-icon toggle-btn"]],[[2,"fa-chevron-down",null],[2,"fa-chevron-right",null]],[[null,"click"]],function(l,n,e){var t=!0,i=l.component;return"click"===n&&(t=!1!==i.expandedChange.emit(!i.expanded)&&t),t},null,null)),(l()(),i["\u0275ted"](12,null,[" "," "])),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef]),i["\u0275pad"](14,1),i["\u0275ppd"](15,2),(l()(),i["\u0275eld"](16,0,null,null,33,"div",[["class","col-10 col-lg-9 row pr-small-0"]],null,null,null,null,null)),(l()(),i["\u0275eld"](17,0,null,null,6,"div",[["class","trip-cell col-12 col-lg-4 border-right border-small-none"]],null,null,null,null,null)),(l()(),i["\u0275eld"](18,0,null,null,5,"div",[["class","start-address"]],null,null,null,null,null)),(l()(),i["\u0275eld"](19,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),i["\u0275and"](16777216,null,null,1,null,In)),i["\u0275did"](21,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275and"](16777216,null,null,1,null,wn)),i["\u0275did"](23,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275eld"](24,0,null,null,6,"div",[["class","trip-cell col-12 col-lg-4 border-right pt-3 pt-lg-0 border-small-none"]],null,null,null,null,null)),(l()(),i["\u0275eld"](25,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-map-marker finish-icon"]],null,null,null,null,null)),(l()(),i["\u0275eld"](26,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),i["\u0275and"](16777216,null,null,1,null,Rn)),i["\u0275did"](28,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275and"](16777216,null,null,1,null,On)),i["\u0275did"](30,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275eld"](31,0,null,null,8,"div",[["class","trip-cell col-10 col-lg-3 border-right border-small-none pt-3 pt-lg-0"]],null,null,null,null,null)),(l()(),i["\u0275eld"](32,0,null,null,5,"div",[],null,null,null,null,null)),(l()(),i["\u0275ted"](33,null,[" "," "," "])),i["\u0275pid"](131072,L.a,[i.ChangeDetectorRef,V.a]),i["\u0275ppd"](35,2),i["\u0275pid"](131072,E.a,[V.a,i.ChangeDetectorRef]),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef]),(l()(),i["\u0275and"](16777216,null,null,1,null,kn)),i["\u0275did"](39,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275eld"](40,0,null,null,9,"div",[["class","trip-cell col-2 col-lg-1 actions pt-3 pt-lg-0"]],null,null,null,null,null)),(l()(),i["\u0275eld"](41,0,null,null,8,"label",[["class","app-checkbox mb-0"]],null,null,null,null,null)),(l()(),i["\u0275ted"](-1,null,["\xa0 "])),(l()(),i["\u0275eld"](43,0,null,null,5,"input",[["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var t=!0,u=l.component;return"change"===n&&(t=!1!==i["\u0275nov"](l,44).onChange(e.target.checked)&&t),"blur"===n&&(t=!1!==i["\u0275nov"](l,44).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(u.selected=e)&&t),"change"===n&&(t=!1!==u.selectedChange.emit(e.target.checked)&&t),t},null,null)),i["\u0275did"](44,16384,null,0,J.b,[i.Renderer2,i.ElementRef],null,null),i["\u0275prd"](1024,null,J.j,function(l){return[l]},[J.b]),i["\u0275did"](46,671744,null,0,J.m,[[8,null],[8,null],[8,null],[6,J.j]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,J.k,null,[J.m]),i["\u0275did"](48,16384,null,0,J.l,[[4,J.k]],null,null),(l()(),i["\u0275eld"](49,0,null,null,0,"span",[["class","checkmark fa fa-check"]],null,null,null,null,null)),(l()(),i["\u0275and"](16777216,null,null,1,null,Pn)),i["\u0275did"](51,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,21,0,e.trip.startTime),l(n,23,0,e.trip.startAddress),l(n,28,0,e.trip.endTime),l(n,30,0,e.trip.endAddress),l(n,39,0,e.isBusinessTrip),l(n,46,0,e.selected),l(n,51,0,e.expanded)},function(l,n){var e=n.component,t=i["\u0275unv"](n,4,0,l(n,7,0,i["\u0275nov"](n,0),e.trip.vehicleName||i["\u0275unv"](n,4,0,i["\u0275nov"](n,5).transform("No name")),l(n,6,0,30)));l(n,4,0,t),l(n,9,0,e.expanded,!e.expanded),l(n,11,0,e.expanded,!e.expanded);var u=i["\u0275unv"](n,12,0,l(n,15,0,i["\u0275nov"](n,0),e.trip.vehicleName||i["\u0275unv"](n,12,0,i["\u0275nov"](n,13).transform("No name")),l(n,14,0,30)));l(n,12,0,u);var o=i["\u0275unv"](n,33,0,l(n,35,0,i["\u0275nov"](n,1),i["\u0275unv"](n,33,0,i["\u0275nov"](n,34).transform(e.trip.distance,"distance")),"1.0-1"));l(n,33,0,o,i["\u0275unv"](n,33,1,i["\u0275nov"](n,37).transform(i["\u0275unv"](n,33,1,i["\u0275nov"](n,36).transform("KM","Miles"))))),l(n,43,0,i["\u0275nov"](n,48).ngClassUntouched,i["\u0275nov"](n,48).ngClassTouched,i["\u0275nov"](n,48).ngClassPristine,i["\u0275nov"](n,48).ngClassDirty,i["\u0275nov"](n,48).ngClassValid,i["\u0275nov"](n,48).ngClassInvalid,i["\u0275nov"](n,48).ngClassPending)})}var Ln=function(){function l(l){this.el=l,this.afterViewInit=new i.EventEmitter}return l.prototype.ngAfterViewInit=function(){this.afterViewInit.emit(this.el)},l}(),Vn=e("K9Ia"),En=e("mrSG"),Nn=e("T1DM"),An=e("FFOo"),jn=e("nkY7"),Fn=function(){function l(l,n,e,t){this.bufferTimeSpan=l,this.bufferCreationInterval=n,this.maxBufferSize=e,this.scheduler=t}return l.prototype.call=function(l,n){return n.subscribe(new Bn(l,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},l}(),Hn=function(){return function(){this.buffer=[]}}(),Bn=function(l){function n(n,e,t,i,u){var o=l.call(this,n)||this;o.bufferTimeSpan=e,o.bufferCreationInterval=t,o.maxBufferSize=i,o.scheduler=u,o.contexts=[];var r=o.openContext();if(o.timespanOnly=null==t||t<0,o.timespanOnly)o.add(r.closeAction=u.schedule($n,e,{subscriber:o,context:r,bufferTimeSpan:e}));else{var s={bufferTimeSpan:e,bufferCreationInterval:t,subscriber:o,scheduler:u};o.add(r.closeAction=u.schedule(Kn,e,{subscriber:o,context:r})),o.add(u.schedule(zn,t,s))}return o}return En.c(n,l),n.prototype._next=function(l){for(var n,e=this.contexts,t=e.length,i=0;i<t;i++){var u=e[i],o=u.buffer;o.push(l),o.length==this.maxBufferSize&&(n=u)}n&&this.onBufferFull(n)},n.prototype._error=function(n){this.contexts.length=0,l.prototype._error.call(this,n)},n.prototype._complete=function(){for(var n=this.contexts,e=this.destination;n.length>0;){var t=n.shift();e.next(t.buffer)}l.prototype._complete.call(this)},n.prototype._unsubscribe=function(){this.contexts=null},n.prototype.onBufferFull=function(l){this.closeContext(l);var n=l.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){l=this.openContext();var e=this.bufferTimeSpan;this.add(l.closeAction=this.scheduler.schedule($n,e,{subscriber:this,context:l,bufferTimeSpan:e}))}},n.prototype.openContext=function(){var l=new Hn;return this.contexts.push(l),l},n.prototype.closeContext=function(l){this.destination.next(l.buffer);var n=this.contexts;(n?n.indexOf(l):-1)>=0&&n.splice(n.indexOf(l),1)},n}(An.a);function $n(l){var n=l.subscriber,e=l.context;e&&n.closeContext(e),n.closed||(l.context=n.openContext(),l.context.closeAction=this.schedule(l,l.bufferTimeSpan))}function zn(l){var n=l.bufferCreationInterval,e=l.bufferTimeSpan,t=l.subscriber,i=l.scheduler,u=t.openContext();t.closed||(t.add(u.closeAction=i.schedule(Kn,e,{subscriber:t,context:u})),this.schedule(l,n))}function Kn(l){l.subscriber.closeContext(l.context)}var Wn=e("VnD/"),qn=e("ny24"),Un=function(){function l(l){this.cdRef=l,this.tripsList=[],this.loadingInProgress=!1,this.tripMapClick=new i.EventEmitter,this.expandedTrip=null,this.visibleTrips=[],this.listHeight=0,this.topOffset=0,this.prevStartIdx=0,this.itemsHeightMap=new Map,this.upVisibleTrips$=new Vn.b,this.onDestroy$=new Vn.b,this.selectedTrips=[],this.nextPageRequested=new i.EventEmitter,this.selectedTripsChange=new i.EventEmitter}return l.prototype.ngOnInit=function(){var l=this;this.upVisibleTrips$.pipe(function(l){var n=arguments.length,e=Nn.a;Object(jn.a)(arguments[arguments.length-1])&&(e=arguments[arguments.length-1],n--);var t=null;n>=2&&(t=arguments[1]);var i=Number.POSITIVE_INFINITY;return n>=3&&(i=arguments[2]),function(l){return l.lift(new Fn(100,t,i,e))}}(100),Object(Wn.a)(function(l){return l&&!!l.length}),Object(qn.a)(this.onDestroy$)).subscribe(function(n){l._upVisibleTrips(),l.cdRef.markForCheck()})},l.prototype.ngOnChanges=function(l){this.tripHistoryListScrollBar&&this.tripHistoryListScrollBar.directiveRef.update(),l.tripsList&&this._setTripsList(l.tripsList.currentValue)},l.prototype.ngOnDestroy=function(){this.onDestroy$.next()},l.prototype.resetToTop=function(){this.itemsHeightMap.clear(),this.listHeight=0,this.prevStartIdx=0,this.topOffset=0,this.tripHistoryListScrollBar.directiveRef.scrollToTop(0)},l.prototype.isTripSelected=function(l){return-1!==this.selectedTrips.indexOf(l)},l.prototype.tripCheckboxChange=function(l,n){l?this.selectedTrips.push(n):this.selectedTrips.splice(this.selectedTrips.indexOf(n),1),this.selectedTripsChange.emit(this.selectedTrips)},l.prototype.expandTrip=function(l,n){this.expandedTrip=l?n:null},l.prototype.doubleClickTripRow=function(l){console.log(l)},l.prototype.trackById=function(l,n){return n.Id},l.prototype.onScrollDown=function(l){void 0===l&&(l=!1);var n=this.tripHistoryListScrollBar.directiveRef.ps();(l||0!==n.contentHeight&&n.lastScrollTop/n.contentHeight>.7)&&this.nextPageRequested.emit()},l.prototype.onItemViewInited=function(l,n){this.itemsHeightMap.set(l.Id,n.nativeElement.offsetHeight)},l.prototype.onScrollY=function(){this.upVisibleTrips$.next()},l.prototype._setTripsList=function(l){this.tripsWithDays=this._getTripsWithDays(l),this.upVisibleTrips$.next()},l.prototype._getTripsWithDays=function(l){return j(l).reduce(function(l,n){return l.push({isDay:!0,Id:n.Id,date:n.date}),l.concat(n.trips)},[])},l.prototype._upVisibleTrips=function(){for(var l=this,n=this.tripHistoryListScrollBar.directiveRef.ps(),e=0,t=0,i=0;i<this.tripsWithDays.length;i++){var u=this.itemsHeightMap.get(this.tripsWithDays[i].Id);if(u&&(e=i),t+u>n.lastScrollTop)break;t+=u}if(e-25>0){for(i=e;i>e-25;i--)t-=this.itemsHeightMap.get(this.tripsWithDays[i].Id);e-=25}else e=0,t=0;this.prevStartIdx<e&&this.visibleTrips.some(function(n){return!l.itemsHeightMap.get(n.Id)})&&(e=this.prevStartIdx,t=this.topOffset);var o=e+50+25,r=t;for(i=e;i<this.tripsWithDays.length;i++)if((r+=this.itemsHeightMap.get(this.tripsWithDays[i].Id))>n.lastScrollTop+n.containerHeight){o=i;break}this.visibleTrips=this.tripsWithDays.slice(e,o+=25).map(function(l,n,i){return l.idx=e+n,l.style={position:"relative",top:t+"px"},l}),this.topOffset=t,this.prevStartIdx=e,this.listHeight=this.listHeight<t?t:this.listHeight},l}(),Yn=i["\u0275crt"]({encapsulation:0,styles:[[".trip-history-list[_ngcontent-%COMP%]{height:calc(100vh - 68px - 87px - 2px)}@media (max-width:575.98px){.trip-history-list[_ngcontent-%COMP%]{height:calc(100vh - 80px)}}.trip-history-list[_ngcontent-%COMP%]   .list-wrapper[_ngcontent-%COMP%]{padding:0 2.45rem}.trip-history-list[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-weight:700;padding-left:0;padding-bottom:16px;padding-top:24px}.trip-history-list[_ngcontent-%COMP%]     .ps-content{height:100%}"]],data:{}});function Gn(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","d-flex justify-content-center align-items-center"],["style","height: 85%"]],null,null,null,null,null)),(l()(),i["\u0275eld"](1,0,null,null,1,"app-spinner",[],null,null,null,$l.b,$l.a)),i["\u0275did"](2,49152,null,0,zl.a,[],null,null)],null,null)}function Zn(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,0,"div",[],null,null,null,null,null))],null,null)}function Xn(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","date border-bottom"]],null,null,null,null,null)),(l()(),i["\u0275ted"](1,null,[" "," "])),i["\u0275pid"](131072,P.a,[i.ChangeDetectorRef,g.j,S.a])],null,function(l,n){l(n,1,0,i["\u0275unv"](n,1,0,i["\u0275nov"](n,2).transform(n.parent.context.$implicit.date)))})}function Jn(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,1,"app-trip-history-item",[],null,[[null,"dblclick"],[null,"mapClick"],[null,"selectedChange"],[null,"expandedChange"]],function(l,n,e){var t=!0,i=l.component;return"dblclick"===n&&(t=!1!==i.doubleClickTripRow(l.parent.context.$implicit)&&t),"mapClick"===n&&(t=!1!==i.tripMapClick.emit(e)&&t),"selectedChange"===n&&(t=!1!==i.tripCheckboxChange(e,l.parent.context.$implicit)&&t),"expandedChange"===n&&(t=!1!==i.expandTrip(e,l.parent.context.$implicit)&&t),t},Sn,Dn)),i["\u0275did"](1,49152,null,0,_n,[],{trip:[0,"trip"],selected:[1,"selected"],expanded:[2,"expanded"]},{selectedChange:"selectedChange",expandedChange:"expandedChange",mapClick:"mapClick"})],function(l,n){var e=n.component;l(n,1,0,n.parent.context.$implicit,e.isTripSelected(n.parent.context.$implicit),n.parent.context.$implicit===e.expandedTrip)},null)}function Qn(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,6,"div",[],null,[[null,"afterViewInit"]],function(l,n,e){var t=!0;return"afterViewInit"===n&&(t=!1!==l.component.onItemViewInited(l.context.$implicit,e)&&t),t},null,null)),i["\u0275did"](1,278528,null,0,f.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),i["\u0275did"](2,4210688,null,0,Ln,[i.ElementRef],null,{afterViewInit:"afterViewInit"}),(l()(),i["\u0275and"](16777216,null,null,1,null,Zn)),i["\u0275did"](4,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),(l()(),i["\u0275and"](0,[["thenBlock",2]],null,0,null,Xn)),(l()(),i["\u0275and"](0,[["elseBlock",2]],null,0,null,Jn))],function(l,n){l(n,1,0,n.context.$implicit.style),l(n,4,0,n.context.$implicit.isDay,i["\u0275nov"](n,5),i["\u0275nov"](n,6))},null)}function le(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,4,"div",[["class","text-center position-relative"]],null,null,null,null,null)),i["\u0275did"](1,278528,null,0,f.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),i["\u0275pod"](2,{top:0}),(l()(),i["\u0275eld"](3,0,null,null,1,"app-spinner",[],null,null,null,$l.b,$l.a)),i["\u0275did"](4,49152,null,0,zl.a,[],null,null)],function(l,n){var e=l(n,2,0,n.component.topOffset+"px");l(n,1,0,e)},null)}function ne(l){return i["\u0275vid"](2,[i["\u0275qud"](402653184,1,{tripHistoryListScrollBar:0}),(l()(),i["\u0275eld"](1,0,null,null,11,"perfect-scrollbar",[["class","trip-history-list"]],[[2,"ps-show-limits",null],[2,"ps-show-active",null]],[[null,"psScrollDown"],[null,"psYReachEnd"],[null,"psScrollY"]],function(l,n,e){var t=!0,i=l.component;return"psScrollDown"===n&&(t=!1!==i.onScrollDown()&&t),"psYReachEnd"===n&&(t=!1!==i.onScrollDown(!0)&&t),"psScrollY"===n&&(t=!1!==i.onScrollY()&&t),t},d.b,d.a)),i["\u0275did"](2,507904,[[1,4],["tripHistoryListScrollBar",4]],0,p.b,[i.NgZone,i.ChangeDetectorRef,i.PLATFORM_ID],null,{psScrollY:"psScrollY",psScrollDown:"psScrollDown",psYReachEnd:"psYReachEnd"}),i["\u0275ncd"](0,0),(l()(),i["\u0275and"](16777216,null,0,1,null,Gn)),i["\u0275did"](5,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275eld"](6,0,[["listWrapper",1]],0,6,"div",[["class","list-wrapper position-relative"]],null,null,null,null,null)),i["\u0275did"](7,278528,null,0,f.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),i["\u0275pod"](8,{"min-height":0}),(l()(),i["\u0275and"](16777216,null,null,1,null,Qn)),i["\u0275did"](10,278528,null,0,f.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(l()(),i["\u0275and"](16777216,null,null,1,null,le)),i["\u0275did"](12,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0),l(n,5,0,e.loadingInProgress&&!e.visibleTrips.length);var t=l(n,8,0,e.listHeight+"px");l(n,7,0,t),l(n,10,0,e.visibleTrips,e.trackById),l(n,12,0,e.loadingInProgress&&e.visibleTrips.length)},function(l,n){l(n,1,0,i["\u0275nov"](n,2).autoPropagation,i["\u0275nov"](n,2).scrollIndicators)})}var ee=e("K4tl"),te=e("LvMd"),ie=e("WXUZ"),ue=function(){function l(l,n,e,i,u,o,r,s,a,c){var d=this;this.appState=l,this.vehicles=n,this.tripsService=e,this._appConfig=i,this.translate=u,this.route=o,this._router=r,this._progress=s,this._toasts=a,this._errorTranslate=c,this.isLeftSideMenuShown=!1,this.tripTags=t,this.markAsBusinessEnabled=!1,this.waitingForVehiclesOnFirstLoad=!1,this.vehiclesAll=[],this.isVehiclesLoaded=!1,this.allCarsSidebarActive=!1,this.selectedTripDetails=null,this.tripsToDisplay=[],this.hasNotBusinessTrips=!1,this.tripsDialogModes={MARK_AS_BUSINESS:"markbusiness",EDIT:"edit"},this.isSelectedTripsDialogShown=!1,this.isExportTripsDialogShown=!1,this.isTripDetailsDialogShown=!1,this.ActionSelect={NONE:"none",ALL:"all",UNTAGGED:"untagged"},this.isLastPageLoaded=!1,this.isTripsLoadingInProgress=!1,this.isTripsModifyInProgress=!1,this.isRemovingTagInProgress=!1,this._tripsList=[],this._tripsIdsSet=new Set,this._subsList=[],u.onLangChange.subscribe(function(l){d._languageChanged()})}return l.prototype.ngOnInit=function(){var l=this;this.markAsBusinessEnabled=this._appConfig.markAsBusinessEnabled,this.waitingForVehiclesOnFirstLoad=!0,this.allCarsSidebarActive=!0,this.tripTypeSelected="",this.tripsSelectedList=[],this.busintesTripsSelected=[],this.nonBusintesTripsSelected=[],this._languageChanged(),this._subsList.push(this.vehicles.vehiclesListStream().subscribe(function(n){return l._vehiclesUpdated(n)})),this._subsList.push(this.vehicles.wsUpdatesStream().subscribe(function(n){return l._vehicleUpdated(n)})),this._subsList.push(this.route.params.subscribe(function(n){l.routeVehicleId=n.id,l.tripTypeSelected=n.type||"",l.vehiclesAll.length&&(l.vehiclesAll.length>0&&!l.routeVehicleId&&(l.routeVehicleId=l.vehiclesAll[0].id),l._handleVehicleSelected({vehicle:l.vehicles.getVehicle(l.routeVehicleId),zoom:!1}))}))},l.prototype.onTripMapClick=function(l){this.selectedTripDetails={map:l.map,trip:l.trip},this.isTripDetailsDialogShown=!0},l.prototype.showSelectedTripsDialog=function(l){this.selectedTripsDialogMode=l,this.isSelectedTripsDialogShown=!0},l.prototype.setSelectedTrips=function(l){this.tripsSelectedList=l,this.busintesTripsSelected=l.filter(function(l){return-1!==l.tags.indexOf(Tn)}),this.nonBusintesTripsSelected=l.filter(function(l){return-1===l.tags.indexOf(Tn)})},Object.defineProperty(l.prototype,"tripsForCurrentSelection",{get:function(){switch(this.selectedTripsDialogMode){case this.tripsDialogModes.EDIT:return this.busintesTripsSelected;case this.tripsDialogModes.MARK_AS_BUSINESS:return this.nonBusintesTripsSelected;default:return this.tripsSelectedList||[]}},enumerable:!0,configurable:!0}),l.prototype.onTagAsBusiness=function(l){var n=this;this.isTripsModifyInProgress=!0;var e=this._filterTripsByTag(l,Tn,!1);Object(Gl.a)(e.map(function(l){return n.tripsService.postTripTag(l.vehicleId,l.id,Tn)})).subscribe(function(){e.forEach(function(l){l.tags.push(Tn)}),n._toasts.success(n.translate.instant("trips_marked_as_business_msg",{count:e.length})),n.hasNotBusinessTrips=n._tripsList.some(function(l){return!l.tags.includes(Tn)}),n.isSelectedTripsDialogShown=!1,n.setSelectedTrips(n.tripsSelectedList),n._deselectTrips(l),n.setTripsToDisplay(n._tripsList),n.isTripsModifyInProgress=!1},function(l){return n._handleRequestError(l)})},l.prototype.onRemoveBusinessTag=function(l){var n=this,e=this._filterTripsByTag(l,Tn,!0);this.isRemovingTagInProgress=!0,Object(Gl.a)(e.map(function(l){return n.tripsService.deleteTripTag(l.vehicleId,l.id,Tn)})).subscribe(function(){e.forEach(function(l){var n=l.tags;n.splice(n.indexOf(Tn),1)}),n._toasts.success(n.translate.instant("trips_removed_from_business_msg",{count:e.length})),n.hasNotBusinessTrips=n._tripsList.some(function(l){return!l.tags.includes(Tn)}),n.isSelectedTripsDialogShown=!1,n._deselectTrips(l),n.setTripsToDisplay(n._tripsList),n.isRemovingTagInProgress=!1},function(l){n._handleRequestError(l),n.isRemovingTagInProgress=!1})},l.prototype.selectTrips=function(l){switch(l){case this.ActionSelect.ALL:this.setSelectedTrips(this.tripsToDisplay.slice());break;case this.ActionSelect.NONE:this.setSelectedTrips([]);break;case this.ActionSelect.UNTAGGED:this.setSelectedTrips(this._filterTripsByTag(this.tripsToDisplay,Tn,!1))}},Object.defineProperty(l.prototype,"tripSelectionIcon",{get:function(){if(this.tripsSelectedList&&this.tripsSelectedList.length)return this.tripsSelectedList.length===this.tripsToDisplay.length?"fa-check":"fa-minus"},enumerable:!0,configurable:!0}),l.prototype.toggleTripsSelection=function(){this.selectTrips(this.tripsSelectedList&&this.tripsSelectedList.length?this.ActionSelect.NONE:this.ActionSelect.ALL)},l.prototype.ngOnDestroy=function(){this._subsList.forEach(function(l){return l.unsubscribe()})},l.prototype.onHistoryExportSuccess=function(){this._toasts.success(this.translate.instant("Request for export has been sent successfully")),this.isExportTripsDialogShown=!1},l.prototype.onHistoryExportError=function(l){this._handleRequestError(l)},l.prototype.loadNextPageOfTrips=function(){!this.vehicle||this.isLastPageLoaded||this.isTripsLoadingInProgress||this._getTrips(this.vehicle.id,this._tripsList.length)},l.prototype.onVehicleSelect=function(l){this._router.navigate(["/trip-history",l.id])},l.prototype._deselectTrips=function(l){this.setSelectedTrips(this.tripsSelectedList.filter(function(n){return-1===l.indexOf(n)}))},l.prototype._handleRequestError=function(l){var n=this;this.isTripsModifyInProgress=!1,this._errorTranslate.getErrorMessages(l).forEach(function(l){return n._toasts.error(l)})},l.prototype._initTripType=function(){this.tripType=[{label:this.translate.instant("All Trips"),value:""},{label:this.translate.instant("Business Trips"),value:Tn}]},l.prototype._languageChanged=function(){this.currentLang=this.translate.currentLang,this._initTripType()},l.prototype._vehicleUpdated=function(l){this.vehicle&&this.routeVehicleId&&this.vehicle.id===this.routeVehicleId&&this.vehicle.id===l.id&&l.isParked&&(this.vehicle=l,this._getTrips(this.vehicle.id))},l.prototype._vehiclesUpdated=function(l){this.isVehiclesLoaded=!0,this.vehiclesAll=l,this.waitingForVehiclesOnFirstLoad&&this.vehiclesAll.length&&(this.waitingForVehiclesOnFirstLoad=!1,this.vehiclesAll.length>0&&!this.routeVehicleId&&(this.routeVehicleId=this.vehiclesAll[0].id),this.vehicle=this.vehicles.getVehicle(this.routeVehicleId),!this.vehicle&&this.routeVehicleId?this._router.navigate(["/trip-history"]):this._handleVehicleSelected({vehicle:this.vehicle,zoom:!1}))},l.prototype._handleVehicleSelected=function(l){this._tripsList=[],this.tripsToDisplay=[],this.isLastPageLoaded=!1,this.selectTrips(this.ActionSelect.NONE),this.tripsListComponent.resetToTop(),l&&l.vehicle?this.vehicle=l.vehicle:this.vehiclesAll.length&&(this.vehicle=this.vehiclesAll[0],this.routeVehicleId=this.vehiclesAll[0].id),this.vehicles.selectVehicle(this.vehicle),this._getTrips(this.vehicle.id)},l.prototype._getTrips=function(l,n){var e=this;void 0===n&&(n=0);var t=l?this._appConfig.tripHistoryCount:this._appConfig.tripHistoryAllCarsCount,i=this.vehicles.getVehicle(l);this.isTripsLoadingInProgress=!0,this._tripsLoadSubscription&&this._tripsLoadSubscription.unsubscribe(),this._tripsLoadSubscription=this.tripsService.loadVehicleTrips(l,t,n,"StartTimestamp desc",i.name).subscribe(function(n){if(e.isTripsLoadingInProgress=!1,!n||n&&n.length<1)e.isLastPageLoaded=!0;else{e.isLastPageLoaded=!1,n.forEach(function(l){e._tripsIdsSet.has(l.id)?e._tripsList[e._tripsList.findIndex(function(n){return l.id===n.id})]=l:e._tripsList.push(l)});var t=e.tripsToDisplay.length;e.setTripsToDisplay(e._tripsList),t===e.tripsToDisplay.length&&e._getTrips(l,e._tripsList.length),e._progress.addProgress(e._appConfig.progressLoaderForVehicles)}},function(l){e.isTripsLoadingInProgress=!1})},l.prototype.setTripsToDisplay=function(l){var n=this;this._tripsIdsSet.clear(),l.forEach(function(l){return n._tripsIdsSet.add(l.id)}),this.tripsToDisplay=this._sortTripList(this._filterTripsByType(l,this.tripTypeSelected).filter(function(l){return l.completed})),this.hasNotBusinessTrips=this.tripsToDisplay.some(function(l){return!l.tags.includes(Tn)})},l.prototype._filterTripsByType=function(l,n){switch(n){case Tn:return this._filterTripsByTag(l,Tn);case xn:return this._filterTripsByTag(l,Tn,!1);default:return l}},l.prototype._filterTripsByTag=function(l,n,e){return void 0===e&&(e=!0),l.filter(function(l){var t=l.tags;return e&&-1!==t.indexOf(n)||!e&&-1===t.indexOf(n)})},l.prototype._sortTripList=function(l){return l.slice().sort(function(l,n){var e=0;return l.startTime&&n.startTime&&(l.startTime>n.startTime?e=-1:l.startTime<n.startTime&&(e=1)),e})},l}(),oe=i["\u0275crt"]({encapsulation:0,styles:[[".sidebar[_ngcontent-%COMP%]{background-color:#fff;bottom:0;box-shadow:1px 4px 4px 0 rgba(0,0,0,.5);left:0;position:absolute;top:68px;width:120px;z-index:101}.trip-history-container[_ngcontent-%COMP%]{margin-left:120px}@media (max-width:575.98px){.trip-history-container[_ngcontent-%COMP%]{margin-left:0}}.trip-history-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{box-shadow:0 0 4px 0 rgba(0,0,0,.12);border-bottom:1px solid #e1e1e1;display:flex;justify-content:flex-end}.trip-history-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{margin-right:auto;margin-left:auto}.trip-history-container[_ngcontent-%COMP%]   .align-hv-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:85%}.trip-history-container[_ngcontent-%COMP%]   .align-hv-center[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{margin-bottom:24px}.business-add[_ngcontent-%COMP%], .business-remove[_ngcontent-%COMP%], .business-spinner[_ngcontent-%COMP%]{height:38px;width:64px}.business-add[_ngcontent-%COMP%], .business-remove[_ngcontent-%COMP%]{background-position:center;background-repeat:no-repeat}.business-spinner[_ngcontent-%COMP%]{justify-content:center;text-align:center}.business-remove[_ngcontent-%COMP%]{background-image:url(/assets/img/business-remove.svg);background-size:30px}.business-add[_ngcontent-%COMP%]{background-image:url(/assets/img/business-icon.svg);background-size:25px}.trip-selector-check-box[_ngcontent-%COMP%]{width:16px;height:15px;line-height:14px;padding-top:1px;border:1px solid #d6d6d6;background:var(--white);color:#555;box-sizing:content-box}.dropdown-item[_ngcontent-%COMP%]{white-space:nowrap}.dd-btn[_ngcontent-%COMP%]{display:flex;padding:9px 20px}.dd-icon[_ngcontent-%COMP%]{font-size:10px;margin-left:5px;padding-top:2px}.dd-menu[_ngcontent-%COMP%]{background-color:rgba(247,247,247,.8);text-align:center}.footer-action-btn[_ngcontent-%COMP%]{border-radius:4px;padding-right:99px;padding-left:99px}.mobile-remove-business[_ngcontent-%COMP%]::before{content:' ';display:block;width:37px;height:2px;background-color:var(--primary);-webkit-transform:rotate(35deg);transform:rotate(35deg);position:absolute}"]],data:{}});function re(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,4,"div",[["class","sidebar d-none d-sm-block"]],null,null,null,null,null)),(l()(),i["\u0275eld"](1,0,null,null,3,"perfect-scrollbar",[],[[2,"ps-show-limits",null],[2,"ps-show-active",null]],null,null,d.b,d.a)),i["\u0275did"](2,507904,null,0,p.b,[i.NgZone,i.ChangeDetectorRef,i.PLATFORM_ID],null,null),(l()(),i["\u0275eld"](3,0,null,0,1,"app-trip-history-car-list",[],null,[[null,"select"]],function(l,n,e){var t=!0;return"select"===n&&(t=!1!==l.component.onVehicleSelect(e)&&t),t},x,b)),i["\u0275did"](4,49152,null,0,C,[],{list:[0,"list"],isListLoaded:[1,"isListLoaded"]},{select:"select"})],function(l,n){var e=n.component;l(n,2,0),l(n,4,0,e.vehiclesAll,e.isVehiclesLoaded)},function(l,n){l(n,1,0,i["\u0275nov"](n,2).autoPropagation,i["\u0275nov"](n,2).scrollIndicators)})}function se(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,2,"li",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.component.isExportTripsDialogShown=!0)&&t),t},null,null)),(l()(),i["\u0275ted"](1,null,["",""])),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef])],null,function(l,n){l(n,1,0,i["\u0275unv"](n,1,0,i["\u0275nov"](n,2).transform("Export Trip History")))})}function ae(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,2,"li",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,e){var t=!0,i=l.component;return"click"===n&&(t=!1!==i.selectTrips(i.ActionSelect.UNTAGGED)&&t),t},null,null)),(l()(),i["\u0275ted"](1,null,["",""])),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef])],null,function(l,n){l(n,1,0,i["\u0275unv"](n,1,0,i["\u0275nov"](n,2).transform("Select Untagged")))})}function ce(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,10,"ul",[["class","dropdown-menu dropdown-menu-right dd-menu"]],null,null,null,null,null)),(l()(),i["\u0275and"](16777216,null,null,1,null,se)),i["\u0275did"](2,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275eld"](3,0,null,null,2,"li",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,e){var t=!0,i=l.component;return"click"===n&&(t=!1!==i.selectTrips(i.ActionSelect.ALL)&&t),t},null,null)),(l()(),i["\u0275ted"](4,null,["",""])),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef]),(l()(),i["\u0275eld"](6,0,null,null,2,"li",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,e){var t=!0,i=l.component;return"click"===n&&(t=!1!==i.selectTrips(i.ActionSelect.NONE)&&t),t},null,null)),(l()(),i["\u0275ted"](7,null,["",""])),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef]),(l()(),i["\u0275and"](16777216,null,null,1,null,ae)),i["\u0275did"](10,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,e.vehicle&&e.tripsToDisplay.length),l(n,10,0,e.hasNotBusinessTrips)},function(l,n){l(n,4,0,i["\u0275unv"](n,4,0,i["\u0275nov"](n,5).transform("Select All"))),l(n,7,0,i["\u0275unv"](n,7,0,i["\u0275nov"](n,8).transform("Select None")))})}function de(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,16777216,null,null,7,"div",[["class","mobile-btn top"],["dropdown",""],["style","right: 0"]],[[2,"dropup",null],[2,"open",null],[2,"show",null]],null,null,null,null)),i["\u0275prd"](512,null,_.a,_.a,[]),i["\u0275did"](2,212992,null,0,D.a,[i.ElementRef,i.Renderer2,i.ViewContainerRef,I.a,w.a,_.a],null,null),(l()(),i["\u0275eld"](3,0,null,null,2,"button",[["class","icon-btn"],["dropdownToggle",""]],[[1,"aria-haspopup",0],[1,"disabled",0],[1,"aria-expanded",0]],[[null,"click"],["document","click"],[null,"keyup.esc"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==i["\u0275nov"](l,4).onClick()&&t),"document:click"===n&&(t=!1!==i["\u0275nov"](l,4).onDocumentClick(e)&&t),"keyup.esc"===n&&(t=!1!==i["\u0275nov"](l,4).onEsc()&&t),t},null,null)),i["\u0275did"](4,147456,null,0,R.a,[_.a,i.ElementRef],null,null),(l()(),i["\u0275eld"](5,0,null,null,0,"i",[["class","fa fa-ellipsis-v"]],null,null,null,null,null)),(l()(),i["\u0275and"](16777216,null,null,1,null,ce)),i["\u0275did"](7,16384,null,0,O.a,[_.a,i.ViewContainerRef,i.TemplateRef],null,null),(l()(),i["\u0275and"](0,null,null,0))],function(l,n){l(n,2,0)},function(l,n){l(n,0,0,i["\u0275nov"](n,2).dropup,i["\u0275nov"](n,2).isOpen,i["\u0275nov"](n,2).isOpen&&i["\u0275nov"](n,2).isBs4),l(n,3,0,!0,i["\u0275nov"](n,4).isDisabled,i["\u0275nov"](n,4).isOpen)})}function pe(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,2,"button",[["class","mobile-btn top icon-btn"],["style","right: 90px;"]],[[8,"title",0]],[[null,"click"]],function(l,n,e){var t=!0,i=l.component;return"click"===n&&(t=!1!==i.showSelectedTripsDialog(i.tripsDialogModes.MARK_AS_BUSINESS)&&t),t},null,null)),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef]),(l()(),i["\u0275eld"](2,0,null,null,0,"i",[["class","fa fa-briefcase"]],null,null,null,null,null))],null,function(l,n){l(n,0,0,i["\u0275inlineInterpolate"](1,"",i["\u0275unv"](n,0,0,i["\u0275nov"](n,1).transform("Mark as Business")),""))})}function ge(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,2,"button",[["class","mobile-btn top icon-btn mobile-remove-business"],["style","right: 90px;"]],[[8,"title",0]],[[null,"click"]],function(l,n,e){var t=!0,i=l.component;return"click"===n&&(t=!1!==i.onRemoveBusinessTag(i.busintesTripsSelected)&&t),t},null,null)),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef]),(l()(),i["\u0275eld"](2,0,null,null,0,"i",[["class","fa fa-briefcase"]],null,null,null,null,null))],null,function(l,n){l(n,0,0,i["\u0275inlineInterpolate"](1,"",i["\u0275unv"](n,0,0,i["\u0275nov"](n,1).transform("Remove from business category")),""))})}function fe(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,18,"ul",[["aria-labelledby","button-basic"],["class","dropdown-menu"],["id","dropdown-basic"],["role","menu"]],null,null,null,null,null)),(l()(),i["\u0275eld"](1,0,null,null,5,"li",[["role","menuitem"]],null,null,null,null,null)),(l()(),i["\u0275eld"](2,0,null,null,4,"a",[["class","dropdown-item"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==i["\u0275nov"](l,3).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&t),t},null,null)),i["\u0275did"](3,671744,null,0,k.n,[k.l,k.a,f.LocationStrategy],{routerLink:[0,"routerLink"]},null),i["\u0275pad"](4,2),(l()(),i["\u0275ted"](5,null,["",""])),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef]),(l()(),i["\u0275eld"](7,0,null,null,5,"li",[["role","menuitem"]],null,null,null,null,null)),(l()(),i["\u0275eld"](8,0,null,null,4,"a",[["class","dropdown-item"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==i["\u0275nov"](l,9).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&t),t},null,null)),i["\u0275did"](9,671744,null,0,k.n,[k.l,k.a,f.LocationStrategy],{routerLink:[0,"routerLink"]},null),i["\u0275pad"](10,3),(l()(),i["\u0275ted"](11,null,["",""])),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef]),(l()(),i["\u0275eld"](13,0,null,null,5,"li",[["role","menuitem"]],null,null,null,null,null)),(l()(),i["\u0275eld"](14,0,null,null,4,"a",[["class","dropdown-item"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==i["\u0275nov"](l,15).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&t),t},null,null)),i["\u0275did"](15,671744,null,0,k.n,[k.l,k.a,f.LocationStrategy],{routerLink:[0,"routerLink"]},null),i["\u0275pad"](16,3),(l()(),i["\u0275ted"](17,null,["",""])),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef])],function(l,n){var e=n.component,t=l(n,4,0,"/trip-history",e.routeVehicleId);l(n,3,0,t);var i=l(n,10,0,"/trip-history",e.routeVehicleId,e.tripTags.BUSINESS);l(n,9,0,i);var u=l(n,16,0,"/trip-history",e.routeVehicleId,e.tripTags.PERSONAL);l(n,15,0,u)},function(l,n){l(n,2,0,i["\u0275nov"](n,3).target,i["\u0275nov"](n,3).href),l(n,5,0,i["\u0275unv"](n,5,0,i["\u0275nov"](n,6).transform("All Trips"))),l(n,8,0,i["\u0275nov"](n,9).target,i["\u0275nov"](n,9).href),l(n,11,0,i["\u0275unv"](n,11,0,i["\u0275nov"](n,12).transform("Business Trips"))),l(n,14,0,i["\u0275nov"](n,15).target,i["\u0275nov"](n,15).href),l(n,17,0,i["\u0275unv"](n,17,0,i["\u0275nov"](n,18).transform("Personal Trips")))})}function he(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,2,"a",[["class","btn btn-light border mr-2 d-none d-sm-inline-flex"],["role","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.component.isExportTripsDialogShown=!0)&&t),t},null,null)),(l()(),i["\u0275ted"](1,null,["",""])),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef])],null,function(l,n){l(n,1,0,i["\u0275unv"](n,1,0,i["\u0275nov"](n,2).transform("Export Trip History")))})}function me(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-light border business-add mr-2 d-none d-sm-inline-flex"]],[[8,"title",0]],[[null,"click"]],function(l,n,e){var t=!0,i=l.component;return"click"===n&&(t=!1!==i.showSelectedTripsDialog(i.tripsDialogModes.MARK_AS_BUSINESS)&&t),t},null,null)),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef])],null,function(l,n){l(n,0,0,i["\u0275inlineInterpolate"](1,"",i["\u0275unv"](n,0,0,i["\u0275nov"](n,1).transform("Mark as Business")),""))})}function ve(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-light border business-remove mr-2 d-none d-sm-inline-flex"]],[[8,"title",0]],[[null,"click"]],function(l,n,e){var t=!0,i=l.component;return"click"===n&&(t=!1!==i.onRemoveBusinessTag(i.busintesTripsSelected)&&t),t},null,null)),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef])],null,function(l,n){l(n,0,0,i["\u0275inlineInterpolate"](1,"",i["\u0275unv"](n,0,0,i["\u0275nov"](n,1).transform("Remove from business category")),""))})}function Ce(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-light border mr-2 d-none d-sm-inline-flex business-spinner"]],[[8,"disabled",0]],null,null,null,null)),(l()(),i["\u0275eld"](1,0,null,null,0,"i",[["class","fa fa-circle-o-notch fa-spin fa-lg"]],null,null,null,null,null))],null,function(l,n){l(n,0,0,!0)})}function be(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,2,"li",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,e){var t=!0,i=l.component;return"click"===n&&(t=!1!==i.selectTrips(i.ActionSelect.UNTAGGED)&&t),t},null,null)),(l()(),i["\u0275ted"](1,null,["",""])),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef])],null,function(l,n){l(n,1,0,i["\u0275unv"](n,1,0,i["\u0275nov"](n,2).transform("Untagged")))})}function ye(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,8,"ul",[["class","dropdown-menu dropdown-menu-right dd-menu"]],null,null,null,null,null)),(l()(),i["\u0275eld"](1,0,null,null,2,"li",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,e){var t=!0,i=l.component;return"click"===n&&(t=!1!==i.selectTrips(i.ActionSelect.ALL)&&t),t},null,null)),(l()(),i["\u0275ted"](2,null,["",""])),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef]),(l()(),i["\u0275eld"](4,0,null,null,2,"li",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,e){var t=!0,i=l.component;return"click"===n&&(t=!1!==i.selectTrips(i.ActionSelect.NONE)&&t),t},null,null)),(l()(),i["\u0275ted"](5,null,["",""])),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef]),(l()(),i["\u0275and"](16777216,null,null,1,null,be)),i["\u0275did"](8,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,8,0,n.component.hasNotBusinessTrips)},function(l,n){l(n,2,0,i["\u0275unv"](n,2,0,i["\u0275nov"](n,3).transform("All"))),l(n,5,0,i["\u0275unv"](n,5,0,i["\u0275nov"](n,6).transform("None")))})}function Me(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,16777216,null,null,9,"div",[["class","btn-group d-none d-sm-inline-flex"],["dropdown",""]],[[2,"dropup",null],[2,"open",null],[2,"show",null]],null,null,null,null)),i["\u0275prd"](512,null,_.a,_.a,[]),i["\u0275did"](2,212992,null,0,D.a,[i.ElementRef,i.Renderer2,i.ViewContainerRef,I.a,w.a,_.a],null,null),(l()(),i["\u0275eld"](3,0,null,null,4,"button",[["class","btn btn-light border dd-btn"],["dropdownToggle",""]],[[1,"aria-haspopup",0],[1,"disabled",0],[1,"aria-expanded",0]],[[null,"click"],["document","click"],[null,"keyup.esc"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==i["\u0275nov"](l,4).onClick()&&t),"document:click"===n&&(t=!1!==i["\u0275nov"](l,4).onDocumentClick(e)&&t),"keyup.esc"===n&&(t=!1!==i["\u0275nov"](l,4).onEsc()&&t),t},null,null)),i["\u0275did"](4,147456,null,0,R.a,[_.a,i.ElementRef],null,null),(l()(),i["\u0275eld"](5,0,null,null,1,"i",[["class","trip-selector-check-box fa"]],null,[[null,"click"]],function(l,n,e){var t=!0,i=l.component;return"click"===n&&(e.stopPropagation(),t=!1!==i.toggleTripsSelection()&&t),t},null,null)),i["\u0275did"](6,278528,null,0,f.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),i["\u0275eld"](7,0,null,null,0,"li",[["class","fa fa-chevron-down dd-icon"]],null,null,null,null,null)),(l()(),i["\u0275and"](16777216,null,null,1,null,ye)),i["\u0275did"](9,16384,null,0,O.a,[_.a,i.ViewContainerRef,i.TemplateRef],null,null),(l()(),i["\u0275and"](0,null,null,0))],function(l,n){var e=n.component;l(n,2,0),l(n,6,0,"trip-selector-check-box fa",e.tripSelectionIcon)},function(l,n){l(n,0,0,i["\u0275nov"](n,2).dropup,i["\u0275nov"](n,2).isOpen,i["\u0275nov"](n,2).isOpen&&i["\u0275nov"](n,2).isBs4),l(n,3,0,!0,i["\u0275nov"](n,4).isDisabled,i["\u0275nov"](n,4).isOpen)})}function Te(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,2,"h5",[["class","label"]],null,null,null,null,null)),(l()(),i["\u0275ted"](1,null,["",""])),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef])],null,function(l,n){l(n,1,0,i["\u0275unv"](n,1,0,i["\u0275nov"](n,2).transform("Mark Your Trips as Business")))})}function xe(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,0,"img",[["src","/assets/img/dollar-circle.svg"]],null,null,null,null,null))],null,null)}function _e(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,2,"h5",[["class","label"]],null,null,null,null,null)),(l()(),i["\u0275ted"](1,null,["",""])),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef])],null,function(l,n){l(n,1,0,i["\u0275unv"](n,1,0,i["\u0275nov"](n,2).transform("Trips not found")))})}function De(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,2,"h5",[["class","label"]],null,null,null,null,null)),(l()(),i["\u0275ted"](1,null,["",""])),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef])],null,function(l,n){l(n,1,0,i["\u0275unv"](n,1,0,i["\u0275nov"](n,2).transform("You don't have personal trips")))})}function Ie(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,8,"div",[["class","align-hv-center"]],null,null,null,null,null)),(l()(),i["\u0275and"](16777216,null,null,1,null,Te)),i["\u0275did"](2,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275and"](16777216,null,null,1,null,xe)),i["\u0275did"](4,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275and"](16777216,null,null,1,null,_e)),i["\u0275did"](6,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275and"](16777216,null,null,1,null,De)),i["\u0275did"](8,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,e.tripTypeSelected===e.tripTags.BUSINESS),l(n,4,0,e.tripTypeSelected===e.tripTags.BUSINESS),l(n,6,0,!e.tripTypeSelected),l(n,8,0,e.tripTypeSelected===e.tripTags.PERSONAL)},null)}function we(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,3,"h5",[],null,null,null,null,null)),(l()(),i["\u0275ted"](1,null,[" "," "])),i["\u0275pod"](2,{tripsCount:0}),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef])],null,function(l,n){var e=n.component,t=i["\u0275unv"](n,1,0,i["\u0275nov"](n,3).transform("TaggingTripsTitle",l(n,2,0,e.tripsForCurrentSelection.length)));l(n,1,0,t)})}function Re(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,3,"h5",[],null,null,null,null,null)),(l()(),i["\u0275ted"](1,null,[" "," "])),i["\u0275pod"](2,{tripsCount:0}),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef])],null,function(l,n){var e=n.component,t=i["\u0275unv"](n,1,0,i["\u0275nov"](n,3).transform("EditingTripsTitle",l(n,2,0,e.tripsForCurrentSelection.length)));l(n,1,0,t)})}function Oe(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,2,"button",[["class","btn btn-primary footer-action-btn"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0,i=l.component;return"click"===n&&(t=!1!==i.onTagAsBusiness(i.tripsForCurrentSelection)&&t),t},null,null)),(l()(),i["\u0275ted"](1,null,["",""])),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef])],null,function(l,n){l(n,0,0,n.component.isTripsModifyInProgress),l(n,1,0,i["\u0275unv"](n,1,0,i["\u0275nov"](n,2).transform("Tag as Business")))})}function ke(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,2,"button",[["class","btn btn-primary footer-action-btn"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.component.isSelectedTripsDialogShown=!1)&&t),t},null,null)),(l()(),i["\u0275ted"](1,null,["",""])),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef])],null,function(l,n){l(n,1,0,i["\u0275unv"](n,1,0,i["\u0275nov"](n,2).transform("Done")))})}function Pe(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,12,"app-trip-history-selected-trips",[],null,[[null,"visibleChange"]],function(l,n,e){var t=!0;return"visibleChange"===n&&(t=!1!==(l.component.isSelectedTripsDialogShown=e)&&t),t},X,z)),i["\u0275did"](1,49152,null,0,$,[B.a],{tripsList:[0,"tripsList"],visible:[1,"visible"]},{visibleChange:"visibleChange"}),(l()(),i["\u0275eld"](2,0,null,1,4,"div",[["commonDialogHeader",""]],null,null,null,null,null)),(l()(),i["\u0275and"](16777216,null,null,1,null,we)),i["\u0275did"](4,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275and"](16777216,null,null,1,null,Re)),i["\u0275did"](6,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275eld"](7,0,null,2,5,"div",[["commonDialogFooter",""]],null,null,null,null,null)),(l()(),i["\u0275eld"](8,0,null,null,4,"div",[["class","modal-footer justify-content-center"]],null,null,null,null,null)),(l()(),i["\u0275and"](16777216,null,null,1,null,Oe)),i["\u0275did"](10,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275and"](16777216,null,null,1,null,ke)),i["\u0275did"](12,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,1,0,e.tripsForCurrentSelection,e.isSelectedTripsDialogShown),l(n,4,0,e.selectedTripsDialogMode===e.tripsDialogModes.MARK_AS_BUSINESS),l(n,6,0,e.selectedTripsDialogMode===e.tripsDialogModes.EDIT),l(n,10,0,e.selectedTripsDialogMode===e.tripsDialogModes.MARK_AS_BUSINESS),l(n,12,0,e.selectedTripsDialogMode===e.tripsDialogModes.EDIT)},null)}function Se(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,1,"app-trip-history-export-dialog",[],null,[[null,"visibilityChange"],[null,"success"],[null,"error"]],function(l,n,e){var t=!0,i=l.component;return"visibilityChange"===n&&(t=!1!==(i.isExportTripsDialogShown=e)&&t),"success"===n&&(t=!1!==i.onHistoryExportSuccess()&&t),"error"===n&&(t=!1!==i.onHistoryExportError(e)&&t),t},ml,pl)),i["\u0275did"](1,638976,null,0,dl,[B.a,al.a,cl.a],{vehicle:[0,"vehicle"],visibility:[1,"visibility"]},{visibilityChange:"visibilityChange",success:"success",error:"error"})],function(l,n){var e=n.component;l(n,1,0,e.vehicle,e.isExportTripsDialogShown)},null)}function Le(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,1,"app-trip-details-dialog",[],null,[[null,"visibilityChange"]],function(l,n,e){var t=!0;return"visibilityChange"===n&&(t=!1!==(l.component.isTripDetailsDialogShown=e)&&t),t},Bl,kl)),i["\u0275did"](1,114688,null,0,Ol,[V.a],{trip:[0,"trip"],tripMap:[1,"tripMap"],visibility:[2,"visibility"]},{visibilityChange:"visibilityChange"})],function(l,n){var e=n.component;l(n,1,0,e.selectedTripDetails.trip,e.selectedTripDetails.map,e.isTripDetailsDialogShown)},null)}function Ve(l){return i["\u0275vid"](0,[i["\u0275qud"](402653184,1,{tripsListComponent:0}),(l()(),i["\u0275and"](16777216,null,null,1,null,re)),i["\u0275did"](2,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275eld"](3,0,null,null,1,"button",[["class","mobile-btn icon-btn top"],["style","right: 45px;"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.component.isLeftSideMenuShown=!0)&&t),t},null,null)),(l()(),i["\u0275eld"](4,0,null,null,0,"i",[["class","fa fa-car"]],null,null,null,null,null)),(l()(),i["\u0275and"](16777216,null,null,1,null,de)),i["\u0275did"](6,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275and"](16777216,null,null,1,null,pe)),i["\u0275did"](8,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275and"](16777216,null,null,1,null,ge)),i["\u0275did"](10,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275eld"](11,0,null,null,4,"app-common-dialog",[["bodyClass","px-0 py-0"],["customClass","modal-right-side-menu modal-w-auto"],["headerClass","d-none"]],null,[[null,"visibilityChange"]],function(l,n,e){var t=!0;return"visibilityChange"===n&&(t=!1!==(l.component.isLeftSideMenuShown=e)&&t),t},N.b,N.a)),i["\u0275did"](12,638976,null,0,A.a,[],{config:[0,"config"],customClass:[1,"customClass"],bodyClass:[2,"bodyClass"],headerClass:[3,"headerClass"],visibility:[4,"visibility"]},{visibilityChange:"visibilityChange"}),i["\u0275pod"](13,{ignoreBackdropClick:0}),(l()(),i["\u0275eld"](14,0,null,1,1,"app-trip-history-car-list",[],null,[[null,"select"]],function(l,n,e){var t=!0,i=l.component;return"select"===n&&(i.onVehicleSelect(e),t=0!=(i.isLeftSideMenuShown=!1)&&t),t},x,b)),i["\u0275did"](15,49152,null,0,C,[],{list:[0,"list"],isListLoaded:[1,"isListLoaded"]},{select:"select"}),(l()(),i["\u0275eld"](16,0,null,null,27,"div",[["class","trip-history-container"]],null,null,null,null,null)),(l()(),i["\u0275eld"](17,0,null,null,22,"div",[["class","header py-4 px-5"]],null,null,null,null,null)),(l()(),i["\u0275eld"](18,0,null,null,10,"div",[["class","center"]],null,null,null,null,null)),(l()(),i["\u0275eld"](19,16777216,null,null,9,"div",[["class","btn-group"],["dropdown",""]],[[2,"dropup",null],[2,"open",null],[2,"show",null]],null,null,null,null)),i["\u0275prd"](512,null,_.a,_.a,[]),i["\u0275did"](21,212992,null,0,D.a,[i.ElementRef,i.Renderer2,i.ViewContainerRef,I.a,w.a,_.a],null,null),(l()(),i["\u0275eld"](22,0,null,null,4,"button",[["aria-controls","dropdown-basic"],["class","btn btn-link dropdown-toggle"],["dropdownToggle",""],["id","button-basic"],["type","button"]],[[1,"aria-haspopup",0],[1,"disabled",0],[1,"aria-expanded",0]],[[null,"click"],["document","click"],[null,"keyup.esc"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==i["\u0275nov"](l,23).onClick()&&t),"document:click"===n&&(t=!1!==i["\u0275nov"](l,23).onDocumentClick(e)&&t),"keyup.esc"===n&&(t=!1!==i["\u0275nov"](l,23).onEsc()&&t),t},null,null)),i["\u0275did"](23,147456,null,0,R.a,[_.a,i.ElementRef],null,null),(l()(),i["\u0275ted"](24,null,[" ",""])),i["\u0275pid"](131072,g.i,[g.j,i.ChangeDetectorRef]),(l()(),i["\u0275eld"](26,0,null,null,0,"span",[["class","caret"]],null,null,null,null,null)),(l()(),i["\u0275and"](16777216,null,null,1,null,fe)),i["\u0275did"](28,16384,null,0,O.a,[_.a,i.ViewContainerRef,i.TemplateRef],null,null),(l()(),i["\u0275eld"](29,0,null,null,10,"div",[],null,null,null,null,null)),(l()(),i["\u0275and"](16777216,null,null,1,null,he)),i["\u0275did"](31,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275and"](16777216,null,null,1,null,me)),i["\u0275did"](33,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275and"](16777216,null,null,1,null,ve)),i["\u0275did"](35,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275and"](16777216,null,null,1,null,Ce)),i["\u0275did"](37,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275and"](16777216,null,null,1,null,Me)),i["\u0275did"](39,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275eld"](40,0,null,null,3,"app-trip-history-inifinity-list",[],null,[[null,"selectedTripsChange"],[null,"nextPageRequested"],[null,"tripMapClick"]],function(l,n,e){var t=!0,i=l.component;return"selectedTripsChange"===n&&(t=!1!==i.setSelectedTrips(e)&&t),"nextPageRequested"===n&&(t=!1!==i.loadNextPageOfTrips()&&t),"tripMapClick"===n&&(t=!1!==i.onTripMapClick(e)&&t),t},ne,Yn)),i["\u0275did"](41,770048,[[1,4],["tripsList",4]],0,Un,[i.ChangeDetectorRef],{tripsList:[0,"tripsList"],loadingInProgress:[1,"loadingInProgress"],selectedTrips:[2,"selectedTrips"]},{tripMapClick:"tripMapClick",nextPageRequested:"nextPageRequested",selectedTripsChange:"selectedTripsChange"}),(l()(),i["\u0275and"](16777216,null,0,1,null,Ie)),i["\u0275did"](43,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275and"](16777216,null,null,1,null,Pe)),i["\u0275did"](45,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275and"](16777216,null,null,1,null,Se)),i["\u0275did"](47,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275and"](16777216,null,null,1,null,Le)),i["\u0275did"](49,16384,null,0,f.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,e.allCarsSidebarActive),l(n,6,0,e.tripsToDisplay.length),l(n,8,0,!!e.nonBusintesTripsSelected.length),l(n,10,0,e.busintesTripsSelected.length&&!e.nonBusintesTripsSelected.length);var t=l(n,13,0,!1);l(n,12,0,t,"modal-right-side-menu modal-w-auto","px-0 py-0","d-none",e.isLeftSideMenuShown),l(n,15,0,e.vehiclesAll,e.isVehiclesLoaded),l(n,21,0),l(n,31,0,e.vehicle&&e.tripsToDisplay.length),l(n,33,0,!!e.nonBusintesTripsSelected.length),l(n,35,0,e.busintesTripsSelected.length&&!e.nonBusintesTripsSelected.length&&!e.isRemovingTagInProgress),l(n,37,0,e.isRemovingTagInProgress),l(n,39,0,e.tripsToDisplay.length),l(n,41,0,e.tripsToDisplay,e.isTripsLoadingInProgress,e.tripsSelectedList),l(n,43,0,e.isLastPageLoaded&&!e.tripsToDisplay.length),l(n,45,0,e.isSelectedTripsDialogShown),l(n,47,0,e.isExportTripsDialogShown),l(n,49,0,e.isTripDetailsDialogShown)},function(l,n){var e=n.component;l(n,19,0,i["\u0275nov"](n,21).dropup,i["\u0275nov"](n,21).isOpen,i["\u0275nov"](n,21).isOpen&&i["\u0275nov"](n,21).isBs4),l(n,22,0,!0,i["\u0275nov"](n,23).isDisabled,i["\u0275nov"](n,23).isOpen),l(n,24,0,i["\u0275unv"](n,24,0,i["\u0275nov"](n,25).transform(e.tripTypeSelected===e.tripTags.BUSINESS?"Business Trips":e.tripTypeSelected===e.tripTags.PERSONAL?"Personal Trips":"All Trips")))})}function Ee(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,1,"app-trip-history",[],null,null,null,Ve,oe)),i["\u0275did"](1,245760,null,0,ue,[B.a,al.a,cl.a,V.a,g.j,k.a,k.l,ee.a,te.a,ie.a],null,null)],function(l,n){l(n,1,0)},null)}var Ne=i["\u0275ccf"]("app-trip-history",ue,Ee,{},{},[]),Ae=e("S7LP"),je=e("008C"),Fe=e("+MoC"),He=e("Fq6B"),Be=e("uhLm"),$e=e("BdWp"),ze=e("dxr7"),Ke=e("kVKH"),We=e("PgCX"),qe=e("o52G"),Ue=e("t462"),Ye=e("ATTh"),Ge=e("qina"),Ze=function(){return function(){}}(),Xe=e("955n");e.d(n,"TripHistoryModuleNgFactory",function(){return Je});var Je=i["\u0275cmf"](u,[],function(l){return i["\u0275mod"]([i["\u0275mpd"](512,i.ComponentFactoryResolver,i["\u0275CodegenComponentFactoryResolver"],[[8,[o.a,r.a,s.a,a.a,c.a,Ne]],[3,i.ComponentFactoryResolver],i.NgModuleRef]),i["\u0275mpd"](4608,f.NgLocalization,f.NgLocaleLocalization,[i.LOCALE_ID,[2,f["\u0275angular_packages_common_common_a"]]]),i["\u0275mpd"](4608,Ae.a,Ae.a,[]),i["\u0275mpd"](4608,I.a,I.a,[i.ComponentFactoryResolver,i.NgZone,i.Injector,Ae.a,i.ApplicationRef]),i["\u0275mpd"](4608,je.a,je.a,[i.RendererFactory2,I.a]),i["\u0275mpd"](4608,f.DatePipe,f.DatePipe,[i.LOCALE_ID]),i["\u0275mpd"](4608,J.r,J.r,[]),i["\u0275mpd"](4608,Fe.a,Fe.a,[Ml.a]),i["\u0275mpd"](4608,_.a,_.a,[]),i["\u0275mpd"](1073742336,g.g,g.g,[]),i["\u0275mpd"](1073742336,f.CommonModule,f.CommonModule,[]),i["\u0275mpd"](1073742336,p.d,p.d,[]),i["\u0275mpd"](1073742336,He.a,He.a,[]),i["\u0275mpd"](1073742336,Be.a,Be.a,[]),i["\u0275mpd"](1073742336,k.o,k.o,[[2,k.u],[2,k.l]]),i["\u0275mpd"](1073742336,$e.a,$e.a,[]),i["\u0275mpd"](1073742336,J.q,J.q,[]),i["\u0275mpd"](1073742336,J.g,J.g,[]),i["\u0275mpd"](1073742336,ze.a,ze.a,[]),i["\u0275mpd"](1073742336,rl.c,rl.c,[]),i["\u0275mpd"](1073742336,Ke.a,Ke.a,[]),i["\u0275mpd"](1073742336,We.a,We.a,[]),i["\u0275mpd"](1073742336,qe.a,qe.a,[]),i["\u0275mpd"](1073742336,Ue.a,Ue.a,[]),i["\u0275mpd"](1073742336,Ye.a,Ye.a,[]),i["\u0275mpd"](1073742336,Ge.a,Ge.a,[]),i["\u0275mpd"](1073742336,Ze,Ze,[]),i["\u0275mpd"](1073742336,Xe.a,Xe.a,[]),i["\u0275mpd"](1073742336,u,u,[]),i["\u0275mpd"](256,rl.d,rl.e,[]),i["\u0275mpd"](1024,k.j,function(){return[[{path:"",component:ue}]]},[]),i["\u0275mpd"](256,w.a,{autoClose:!0},[])])})}}]);